var WC=Object.defineProperty;var BC=(e,t,n)=>t in e?WC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var B=(e,t,n)=>(BC(e,typeof t!="symbol"?t+"":t,n),n);function VC(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var To=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dv={exports:{}},oh={},fv={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),YC=Symbol.for("react.portal"),HC=Symbol.for("react.fragment"),GC=Symbol.for("react.strict_mode"),UC=Symbol.for("react.profiler"),XC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),KC=Symbol.for("react.forward_ref"),ZC=Symbol.for("react.suspense"),qC=Symbol.for("react.memo"),JC=Symbol.for("react.lazy"),l_=Symbol.iterator;function QC(e){return e===null||typeof e!="object"?null:(e=l_&&e[l_]||e["@@iterator"],typeof e=="function"?e:null)}var gv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pv=Object.assign,mv={};function Ro(e,t,n){this.props=e,this.context=t,this.refs=mv,this.updater=n||gv}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _v(){}_v.prototype=Ro.prototype;function Qg(e,t,n){this.props=e,this.context=t,this.refs=mv,this.updater=n||gv}var tp=Qg.prototype=new _v;tp.constructor=Qg;pv(tp,Ro.prototype);tp.isPureReactComponent=!0;var c_=Array.isArray,yv=Object.prototype.hasOwnProperty,ep={current:null},xv={key:!0,ref:!0,__self:!0,__source:!0};function vv(e,t,n){var i,s={},r=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)yv.call(t,i)&&!xv.hasOwnProperty(i)&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Sl,type:e,key:r,ref:o,props:s,_owner:ep.current}}function tA(e,t){return{$$typeof:Sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function np(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sl}function eA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var u_=/\/+/g;function od(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eA(""+e.key):t.toString(36)}function jc(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sl:case YC:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+od(o,0):i,c_(s)?(n="",e!=null&&(n=e.replace(u_,"$&/")+"/"),jc(s,t,n,"",function(c){return c})):s!=null&&(np(s)&&(s=tA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(u_,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",c_(e))for(var a=0;a<e.length;a++){r=e[a];var l=i+od(r,a);o+=jc(r,t,n,l,s)}else if(l=QC(e),typeof l=="function")for(e=l.call(e),a=0;!(r=e.next()).done;)r=r.value,l=i+od(r,a++),o+=jc(r,t,n,l,s);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $l(e,t,n){if(e==null)return e;var i=[],s=0;return jc(e,i,"","",function(r){return t.call(n,r,s++)}),i}function nA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Wc={transition:null},iA={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:ep};function wv(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:$l,forEach:function(e,t,n){$l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $l(e,function(){t++}),t},toArray:function(e){return $l(e,function(t){return t})||[]},only:function(e){if(!np(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=Ro;it.Fragment=HC;it.Profiler=UC;it.PureComponent=Qg;it.StrictMode=GC;it.Suspense=ZC;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iA;it.act=wv;it.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=pv({},e.props),s=e.key,r=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=ep.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)yv.call(t,l)&&!xv.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Sl,type:e.type,key:s,ref:r,props:i,_owner:o}};it.createContext=function(e){return e={$$typeof:$C,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XC,_context:e},e.Consumer=e};it.createElement=vv;it.createFactory=function(e){var t=vv.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:KC,render:e}};it.isValidElement=np;it.lazy=function(e){return{$$typeof:JC,_payload:{_status:-1,_result:e},_init:nA}};it.memo=function(e,t){return{$$typeof:qC,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=Wc.transition;Wc.transition={};try{e()}finally{Wc.transition=t}};it.unstable_act=wv;it.useCallback=function(e,t){return Te.current.useCallback(e,t)};it.useContext=function(e){return Te.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};it.useEffect=function(e,t){return Te.current.useEffect(e,t)};it.useId=function(){return Te.current.useId()};it.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return Te.current.useMemo(e,t)};it.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};it.useRef=function(e){return Te.current.useRef(e)};it.useState=function(e){return Te.current.useState(e)};it.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};it.useTransition=function(){return Te.current.useTransition()};it.version="18.3.1";fv.exports=it;var St=fv.exports;const Cl=_r(St),h_=VC({__proto__:null,default:Cl},[St]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA=St,rA=Symbol.for("react.element"),oA=Symbol.for("react.fragment"),aA=Object.prototype.hasOwnProperty,lA=sA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cA={key:!0,ref:!0,__self:!0,__source:!0};function Ev(e,t,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)aA.call(t,i)&&!cA.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:rA,type:e,key:r,ref:o,props:s,_owner:lA.current}}oh.Fragment=oA;oh.jsx=Ev;oh.jsxs=Ev;dv.exports=oh;var U=dv.exports,_f={},Sv={exports:{}},tn={},Cv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,I){var O=A.length;A.push(I);t:for(;0<O;){var W=O-1>>>1,V=A[W];if(0<s(V,I))A[W]=I,A[O]=V,O=W;else break t}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var I=A[0],O=A.pop();if(O!==I){A[0]=O;t:for(var W=0,V=A.length,X=V>>>1;W<X;){var L=2*(W+1)-1,Z=A[L],nt=L+1,rt=A[nt];if(0>s(Z,O))nt<V&&0>s(rt,Z)?(A[W]=rt,A[nt]=O,W=nt):(A[W]=Z,A[L]=O,W=L);else if(nt<V&&0>s(rt,O))A[W]=rt,A[nt]=O,W=nt;else break t}}return I}function s(A,I){var O=A.sortIndex-I.sortIndex;return O!==0?O:A.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var I=n(c);I!==null;){if(I.callback===null)i(c);else if(I.startTime<=A)i(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function v(A){if(p=!1,x(A),!g)if(n(l)!==null)g=!0,T(w);else{var I=n(c);I!==null&&P(v,I.startTime-A)}}function w(A,I){g=!1,p&&(p=!1,_(E),E=-1),f=!0;var O=d;try{for(x(I),h=n(l);h!==null&&(!(h.expirationTime>I)||A&&!k());){var W=h.callback;if(typeof W=="function"){h.callback=null,d=h.priorityLevel;var V=W(h.expirationTime<=I);I=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&i(l),x(I)}else i(l);h=n(l)}if(h!==null)var X=!0;else{var L=n(c);L!==null&&P(v,L.startTime-I),X=!1}return X}finally{h=null,d=O,f=!1}}var S=!1,C=null,E=-1,b=5,R=-1;function k(){return!(e.unstable_now()-R<b)}function z(){if(C!==null){var A=e.unstable_now();R=A;var I=!0;try{I=C(!0,A)}finally{I?Y():(S=!1,C=null)}}else S=!1}var Y;if(typeof m=="function")Y=function(){m(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,M=N.port2;N.port1.onmessage=z,Y=function(){M.postMessage(null)}}else Y=function(){y(z,0)};function T(A){C=A,S||(S=!0,Y())}function P(A,I){E=y(function(){A(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,T(w))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var O=d;d=I;try{return A()}finally{d=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,I){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var O=d;d=A;try{return I()}finally{d=O}},e.unstable_scheduleCallback=function(A,I,O){var W=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?W+O:W):O=W,A){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=O+V,A={id:u++,callback:I,priorityLevel:A,startTime:O,expirationTime:V,sortIndex:-1},O>W?(A.sortIndex=O,t(c,A),n(l)===null&&A===n(c)&&(p?(_(E),E=-1):p=!0,P(v,O-W))):(A.sortIndex=V,t(l,A),g||f||(g=!0,T(w))),A},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(A){var I=d;return function(){var O=d;d=I;try{return A.apply(this,arguments)}finally{d=O}}}})(Av);Cv.exports=Av;var uA=Cv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA=St,qe=uA;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bv=new Set,Fa={};function yr(e,t){lo(e,t),lo(e+"Capture",t)}function lo(e,t){for(Fa[e]=t,e=0;e<t.length;e++)bv.add(t[e])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,dA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d_={},f_={};function fA(e){return yf.call(f_,e)?!0:yf.call(d_,e)?!1:dA.test(e)?f_[e]=!0:(d_[e]=!0,!1)}function gA(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pA(e,t,n,i){if(t===null||typeof t>"u"||gA(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,n,i,s,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){le[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];le[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){le[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){le[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){le[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){le[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){le[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){le[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){le[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var ip=/[\-:]([a-z])/g;function sp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ip,sp);le[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ip,sp);le[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ip,sp);le[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){le[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});le.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){le[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function rp(e,t,n,i){var s=le.hasOwnProperty(t)?le[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pA(t,n,s,i)&&(n=null),i||s===null?fA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Fi=hA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),zr=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),Tv=Symbol.for("react.provider"),Rv=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),vf=Symbol.for("react.suspense"),wf=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),Mv=Symbol.for("react.offscreen"),g_=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=g_&&e[g_]||e["@@iterator"],typeof e=="function"?e:null)}var Lt=Object.assign,ad;function sa(e){if(ad===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ad=t&&t[1]||""}return`
`+ad+e}var ld=!1;function cd(e,t){if(!e||ld)return"";ld=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ld=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sa(e):""}function mA(e){switch(e.tag){case 5:return sa(e.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return e=cd(e.type,!1),e;case 11:return e=cd(e.type.render,!1),e;case 1:return e=cd(e.type,!0),e;default:return""}}function Ef(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jr:return"Fragment";case zr:return"Portal";case xf:return"Profiler";case op:return"StrictMode";case vf:return"Suspense";case wf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rv:return(e.displayName||"Context")+".Consumer";case Tv:return(e._context.displayName||"Context")+".Provider";case ap:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lp:return t=e.displayName||null,t!==null?t:Ef(e.type)||"Memo";case qi:t=e._payload,e=e._init;try{return Ef(e(t))}catch{}}return null}function _A(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ef(t);case 8:return t===op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ws(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yA(e){var t=kv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zl(e){e._valueTracker||(e._valueTracker=yA(e))}function Iv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=kv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sf(e,t){var n=t.checked;return Lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function p_(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ws(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pv(e,t){t=t.checked,t!=null&&rp(e,"checked",t,!1)}function Cf(e,t){Pv(e,t);var n=ws(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Af(e,t.type,n):t.hasOwnProperty("defaultValue")&&Af(e,t.type,ws(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Af(e,t,n){(t!=="number"||uu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ra=Array.isArray;function Jr(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ws(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function __(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(ra(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ws(n)}}function Ov(e,t){var n=ws(t.value),i=ws(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function y_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,Dv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Na(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xA=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(e){xA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ya[t]=ya[e]})});function Fv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ya.hasOwnProperty(e)&&ya[e]?(""+t).trim():t+"px"}function Nv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Fv(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var vA=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rf(e,t){if(t){if(vA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Mf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=null;function cp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var If=null,Qr=null,to=null;function x_(e){if(e=Tl(e)){if(typeof If!="function")throw Error(j(280));var t=e.stateNode;t&&(t=hh(t),If(e.stateNode,e.type,t))}}function zv(e){Qr?to?to.push(e):to=[e]:Qr=e}function jv(){if(Qr){var e=Qr,t=to;if(to=Qr=null,x_(e),t)for(e=0;e<t.length;e++)x_(t[e])}}function Wv(e,t){return e(t)}function Bv(){}var ud=!1;function Vv(e,t,n){if(ud)return e(t,n);ud=!0;try{return Wv(e,t,n)}finally{ud=!1,(Qr!==null||to!==null)&&(Bv(),jv())}}function za(e,t){var n=e.stateNode;if(n===null)return null;var i=hh(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Pf=!1;if(ki)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Pf=!1}function wA(e,t,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var xa=!1,hu=null,du=!1,Of=null,EA={onError:function(e){xa=!0,hu=e}};function SA(e,t,n,i,s,r,o,a,l){xa=!1,hu=null,wA.apply(EA,arguments)}function CA(e,t,n,i,s,r,o,a,l){if(SA.apply(this,arguments),xa){if(xa){var c=hu;xa=!1,hu=null}else throw Error(j(198));du||(du=!0,Of=c)}}function xr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v_(e){if(xr(e)!==e)throw Error(j(188))}function AA(e){var t=e.alternate;if(!t){if(t=xr(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return v_(s),e;if(r===i)return v_(s),t;r=r.sibling}throw Error(j(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Hv(e){return e=AA(e),e!==null?Gv(e):null}function Gv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gv(e);if(t!==null)return t;e=e.sibling}return null}var Uv=qe.unstable_scheduleCallback,w_=qe.unstable_cancelCallback,bA=qe.unstable_shouldYield,TA=qe.unstable_requestPaint,Bt=qe.unstable_now,RA=qe.unstable_getCurrentPriorityLevel,up=qe.unstable_ImmediatePriority,Xv=qe.unstable_UserBlockingPriority,fu=qe.unstable_NormalPriority,MA=qe.unstable_LowPriority,$v=qe.unstable_IdlePriority,ah=null,Jn=null;function kA(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(ah,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:OA,IA=Math.log,PA=Math.LN2;function OA(e){return e>>>=0,e===0?32:31-(IA(e)/PA|0)|0}var Jl=64,Ql=4194304;function oa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gu(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=oa(a):(r&=o,r!==0&&(i=oa(r)))}else o=n&~s,o!==0?i=oa(o):r!==0&&(i=oa(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-In(t),s=1<<n,i|=e[n],t&=~s;return i}function LA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DA(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-In(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=LA(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}function Lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kv(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function hd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Al(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=n}function FA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-In(n),r=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~r}}function hp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-In(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var xt=0;function Zv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qv,dp,Jv,Qv,t1,Df=!1,tc=[],us=null,hs=null,ds=null,ja=new Map,Wa=new Map,ts=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E_(e,t){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function Vo(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Tl(t),t!==null&&dp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zA(e,t,n,i,s){switch(t){case"focusin":return us=Vo(us,e,t,n,i,s),!0;case"dragenter":return hs=Vo(hs,e,t,n,i,s),!0;case"mouseover":return ds=Vo(ds,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return ja.set(r,Vo(ja.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Wa.set(r,Vo(Wa.get(r)||null,e,t,n,i,s)),!0}return!1}function e1(e){var t=Xs(e.target);if(t!==null){var n=xr(t);if(n!==null){if(t=n.tag,t===13){if(t=Yv(n),t!==null){e.blockedOn=t,t1(e.priority,function(){Jv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ff(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);kf=i,n.target.dispatchEvent(i),kf=null}else return t=Tl(n),t!==null&&dp(t),e.blockedOn=n,!1;t.shift()}return!0}function S_(e,t,n){Bc(e)&&n.delete(t)}function jA(){Df=!1,us!==null&&Bc(us)&&(us=null),hs!==null&&Bc(hs)&&(hs=null),ds!==null&&Bc(ds)&&(ds=null),ja.forEach(S_),Wa.forEach(S_)}function Yo(e,t){e.blockedOn===t&&(e.blockedOn=null,Df||(Df=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,jA)))}function Ba(e){function t(s){return Yo(s,e)}if(0<tc.length){Yo(tc[0],e);for(var n=1;n<tc.length;n++){var i=tc[n];i.blockedOn===e&&(i.blockedOn=null)}}for(us!==null&&Yo(us,e),hs!==null&&Yo(hs,e),ds!==null&&Yo(ds,e),ja.forEach(t),Wa.forEach(t),n=0;n<ts.length;n++)i=ts[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)e1(n),n.blockedOn===null&&ts.shift()}var eo=Fi.ReactCurrentBatchConfig,pu=!0;function WA(e,t,n,i){var s=xt,r=eo.transition;eo.transition=null;try{xt=1,fp(e,t,n,i)}finally{xt=s,eo.transition=r}}function BA(e,t,n,i){var s=xt,r=eo.transition;eo.transition=null;try{xt=4,fp(e,t,n,i)}finally{xt=s,eo.transition=r}}function fp(e,t,n,i){if(pu){var s=Ff(e,t,n,i);if(s===null)wd(e,t,i,mu,n),E_(e,i);else if(zA(s,e,t,n,i))i.stopPropagation();else if(E_(e,i),t&4&&-1<NA.indexOf(e)){for(;s!==null;){var r=Tl(s);if(r!==null&&qv(r),r=Ff(e,t,n,i),r===null&&wd(e,t,i,mu,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else wd(e,t,i,null,n)}}var mu=null;function Ff(e,t,n,i){if(mu=null,e=cp(i),e=Xs(e),e!==null)if(t=xr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mu=e,null}function n1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RA()){case up:return 1;case Xv:return 4;case fu:case MA:return 16;case $v:return 536870912;default:return 16}default:return 16}}var ns=null,gp=null,Vc=null;function i1(){if(Vc)return Vc;var e,t=gp,n=t.length,i,s="value"in ns?ns.value:ns.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[r-i];i++);return Vc=s.slice(e,1<i?1-i:void 0)}function Yc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ec(){return!0}function C_(){return!1}function en(e){function t(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ec:C_,this.isPropagationStopped=C_,this}return Lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),t}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pp=en(Mo),bl=Lt({},Mo,{view:0,detail:0}),VA=en(bl),dd,fd,Ho,lh=Lt({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(dd=e.screenX-Ho.screenX,fd=e.screenY-Ho.screenY):fd=dd=0,Ho=e),dd)},movementY:function(e){return"movementY"in e?e.movementY:fd}}),A_=en(lh),YA=Lt({},lh,{dataTransfer:0}),HA=en(YA),GA=Lt({},bl,{relatedTarget:0}),gd=en(GA),UA=Lt({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),XA=en(UA),$A=Lt({},Mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KA=en($A),ZA=Lt({},Mo,{data:0}),b_=en(ZA),qA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QA[e])?!!t[e]:!1}function mp(){return tb}var eb=Lt({},bl,{key:function(e){if(e.key){var t=qA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mp,charCode:function(e){return e.type==="keypress"?Yc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nb=en(eb),ib=Lt({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T_=en(ib),sb=Lt({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mp}),rb=en(sb),ob=Lt({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ab=en(ob),lb=Lt({},lh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cb=en(lb),ub=[9,13,27,32],_p=ki&&"CompositionEvent"in window,va=null;ki&&"documentMode"in document&&(va=document.documentMode);var hb=ki&&"TextEvent"in window&&!va,s1=ki&&(!_p||va&&8<va&&11>=va),R_=" ",M_=!1;function r1(e,t){switch(e){case"keyup":return ub.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function db(e,t){switch(e){case"compositionend":return o1(t);case"keypress":return t.which!==32?null:(M_=!0,R_);case"textInput":return e=t.data,e===R_&&M_?null:e;default:return null}}function fb(e,t){if(Wr)return e==="compositionend"||!_p&&r1(e,t)?(e=i1(),Vc=gp=ns=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s1&&t.locale!=="ko"?null:t.data;default:return null}}var gb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gb[e.type]:t==="textarea"}function a1(e,t,n,i){zv(i),t=_u(t,"onChange"),0<t.length&&(n=new pp("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var wa=null,Va=null;function pb(e){y1(e,0)}function ch(e){var t=Yr(e);if(Iv(t))return e}function mb(e,t){if(e==="change")return t}var l1=!1;if(ki){var pd;if(ki){var md="oninput"in document;if(!md){var I_=document.createElement("div");I_.setAttribute("oninput","return;"),md=typeof I_.oninput=="function"}pd=md}else pd=!1;l1=pd&&(!document.documentMode||9<document.documentMode)}function P_(){wa&&(wa.detachEvent("onpropertychange",c1),Va=wa=null)}function c1(e){if(e.propertyName==="value"&&ch(Va)){var t=[];a1(t,Va,e,cp(e)),Vv(pb,t)}}function _b(e,t,n){e==="focusin"?(P_(),wa=t,Va=n,wa.attachEvent("onpropertychange",c1)):e==="focusout"&&P_()}function yb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ch(Va)}function xb(e,t){if(e==="click")return ch(t)}function vb(e,t){if(e==="input"||e==="change")return ch(t)}function wb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:wb;function Ya(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!yf.call(t,s)||!Dn(e[s],t[s]))return!1}return!0}function O_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function L_(e,t){var n=O_(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=O_(n)}}function u1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h1(){for(var e=window,t=uu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uu(e.document)}return t}function yp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eb(e){var t=h1(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&u1(n.ownerDocument.documentElement,n)){if(i!==null&&yp(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!e.extend&&r>i&&(s=i,i=r,r=s),s=L_(n,r);var o=L_(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sb=ki&&"documentMode"in document&&11>=document.documentMode,Br=null,Nf=null,Ea=null,zf=!1;function D_(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zf||Br==null||Br!==uu(i)||(i=Br,"selectionStart"in i&&yp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ea&&Ya(Ea,i)||(Ea=i,i=_u(Nf,"onSelect"),0<i.length&&(t=new pp("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Br)))}function nc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vr={animationend:nc("Animation","AnimationEnd"),animationiteration:nc("Animation","AnimationIteration"),animationstart:nc("Animation","AnimationStart"),transitionend:nc("Transition","TransitionEnd")},_d={},d1={};ki&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function uh(e){if(_d[e])return _d[e];if(!Vr[e])return e;var t=Vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in d1)return _d[e]=t[n];return e}var f1=uh("animationend"),g1=uh("animationiteration"),p1=uh("animationstart"),m1=uh("transitionend"),_1=new Map,F_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){_1.set(e,t),yr(t,[e])}for(var yd=0;yd<F_.length;yd++){var xd=F_[yd],Cb=xd.toLowerCase(),Ab=xd[0].toUpperCase()+xd.slice(1);Ms(Cb,"on"+Ab)}Ms(f1,"onAnimationEnd");Ms(g1,"onAnimationIteration");Ms(p1,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(m1,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function N_(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,CA(i,t,void 0,e),e.currentTarget=null}function y1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break t;N_(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break t;N_(s,a,c),r=l}}}if(du)throw e=Of,du=!1,Of=null,e}function Et(e,t){var n=t[Yf];n===void 0&&(n=t[Yf]=new Set);var i=e+"__bubble";n.has(i)||(x1(t,e,2,!1),n.add(i))}function vd(e,t,n){var i=0;t&&(i|=4),x1(n,e,i,t)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[ic]){e[ic]=!0,bv.forEach(function(n){n!=="selectionchange"&&(bb.has(n)||vd(n,!1,e),vd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ic]||(t[ic]=!0,vd("selectionchange",!1,t))}}function x1(e,t,n,i){switch(n1(t)){case 1:var s=WA;break;case 4:s=BA;break;default:s=fp}n=s.bind(null,t,n,e),s=void 0,!Pf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wd(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xs(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue t}a=a.parentNode}}i=i.return}Vv(function(){var c=r,u=cp(n),h=[];t:{var d=_1.get(e);if(d!==void 0){var f=pp,g=e;switch(e){case"keypress":if(Yc(n)===0)break t;case"keydown":case"keyup":f=nb;break;case"focusin":g="focus",f=gd;break;case"focusout":g="blur",f=gd;break;case"beforeblur":case"afterblur":f=gd;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=A_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=HA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=rb;break;case f1:case g1:case p1:f=XA;break;case m1:f=ab;break;case"scroll":f=VA;break;case"wheel":f=cb;break;case"copy":case"cut":case"paste":f=KA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=T_}var p=(t&4)!==0,y=!p&&e==="scroll",_=p?d!==null?d+"Capture":null:d;p=[];for(var m=c,x;m!==null;){x=m;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,_!==null&&(v=za(m,_),v!=null&&p.push(Ga(m,v,x)))),y)break;m=m.return}0<p.length&&(d=new f(d,g,null,n,u),h.push({event:d,listeners:p}))}}if(!(t&7)){t:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==kf&&(g=n.relatedTarget||n.fromElement)&&(Xs(g)||g[Ii]))break t;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?Xs(g):null,g!==null&&(y=xr(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(p=A_,v="onMouseLeave",_="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(p=T_,v="onPointerLeave",_="onPointerEnter",m="pointer"),y=f==null?d:Yr(f),x=g==null?d:Yr(g),d=new p(v,m+"leave",f,n,u),d.target=y,d.relatedTarget=x,v=null,Xs(u)===c&&(p=new p(_,m+"enter",g,n,u),p.target=x,p.relatedTarget=y,v=p),y=v,f&&g)e:{for(p=f,_=g,m=0,x=p;x;x=Ar(x))m++;for(x=0,v=_;v;v=Ar(v))x++;for(;0<m-x;)p=Ar(p),m--;for(;0<x-m;)_=Ar(_),x--;for(;m--;){if(p===_||_!==null&&p===_.alternate)break e;p=Ar(p),_=Ar(_)}p=null}else p=null;f!==null&&z_(h,d,f,p,!1),g!==null&&y!==null&&z_(h,y,g,p,!0)}}t:{if(d=c?Yr(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=mb;else if(k_(d))if(l1)w=vb;else{w=yb;var S=_b}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=xb);if(w&&(w=w(e,c))){a1(h,w,n,u);break t}S&&S(e,d,c),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Af(d,"number",d.value)}switch(S=c?Yr(c):window,e){case"focusin":(k_(S)||S.contentEditable==="true")&&(Br=S,Nf=c,Ea=null);break;case"focusout":Ea=Nf=Br=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,D_(h,n,u);break;case"selectionchange":if(Sb)break;case"keydown":case"keyup":D_(h,n,u)}var C;if(_p)t:{switch(e){case"compositionstart":var E="onCompositionStart";break t;case"compositionend":E="onCompositionEnd";break t;case"compositionupdate":E="onCompositionUpdate";break t}E=void 0}else Wr?r1(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(s1&&n.locale!=="ko"&&(Wr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Wr&&(C=i1()):(ns=u,gp="value"in ns?ns.value:ns.textContent,Wr=!0)),S=_u(c,E),0<S.length&&(E=new b_(E,e,null,n,u),h.push({event:E,listeners:S}),C?E.data=C:(C=o1(n),C!==null&&(E.data=C)))),(C=hb?db(e,n):fb(e,n))&&(c=_u(c,"onBeforeInput"),0<c.length&&(u=new b_("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=C))}y1(h,t)})}function Ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _u(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=za(e,n),r!=null&&i.unshift(Ga(e,r,s)),r=za(e,t),r!=null&&i.push(Ga(e,r,s))),e=e.return}return i}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function z_(e,t,n,i,s){for(var r=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=za(n,r),l!=null&&o.unshift(Ga(n,l,a))):s||(l=za(n,r),l!=null&&o.push(Ga(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Tb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function j_(e){return(typeof e=="string"?e:""+e).replace(Tb,`
`).replace(Rb,"")}function sc(e,t,n){if(t=j_(t),j_(e)!==t&&n)throw Error(j(425))}function yu(){}var jf=null,Wf=null;function Bf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(e){return W_.resolve(null).then(e).catch(Ib)}:Vf;function Ib(e){setTimeout(function(){throw e})}function Ed(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Ba(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Ba(t)}function fs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function B_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Gn="__reactFiber$"+ko,Ua="__reactProps$"+ko,Ii="__reactContainer$"+ko,Yf="__reactEvents$"+ko,Pb="__reactListeners$"+ko,Ob="__reactHandles$"+ko;function Xs(e){var t=e[Gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ii]||n[Gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=B_(e);e!==null;){if(n=e[Gn])return n;e=B_(e)}return t}e=n,n=e.parentNode}return null}function Tl(e){return e=e[Gn]||e[Ii],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function hh(e){return e[Ua]||null}var Hf=[],Hr=-1;function ks(e){return{current:e}}function Ct(e){0>Hr||(e.current=Hf[Hr],Hf[Hr]=null,Hr--)}function wt(e,t){Hr++,Hf[Hr]=e.current,e.current=t}var Es={},we=ks(Es),Ne=ks(!1),lr=Es;function co(e,t){var n=e.type.contextTypes;if(!n)return Es;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=t[r];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function xu(){Ct(Ne),Ct(we)}function V_(e,t,n){if(we.current!==Es)throw Error(j(168));wt(we,t),wt(Ne,n)}function v1(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(j(108,_A(e)||"Unknown",s));return Lt({},n,i)}function vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,lr=we.current,wt(we,e),wt(Ne,Ne.current),!0}function Y_(e,t,n){var i=e.stateNode;if(!i)throw Error(j(169));n?(e=v1(e,t,lr),i.__reactInternalMemoizedMergedChildContext=e,Ct(Ne),Ct(we),wt(we,e)):Ct(Ne),wt(Ne,n)}var _i=null,dh=!1,Sd=!1;function w1(e){_i===null?_i=[e]:_i.push(e)}function Lb(e){dh=!0,w1(e)}function Is(){if(!Sd&&_i!==null){Sd=!0;var e=0,t=xt;try{var n=_i;for(xt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}_i=null,dh=!1}catch(s){throw _i!==null&&(_i=_i.slice(e+1)),Uv(up,Is),s}finally{xt=t,Sd=!1}}return null}var Gr=[],Ur=0,wu=null,Eu=0,un=[],hn=0,cr=null,vi=1,wi="";function Bs(e,t){Gr[Ur++]=Eu,Gr[Ur++]=wu,wu=e,Eu=t}function E1(e,t,n){un[hn++]=vi,un[hn++]=wi,un[hn++]=cr,cr=e;var i=vi;e=wi;var s=32-In(i)-1;i&=~(1<<s),n+=1;var r=32-In(t)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,vi=1<<32-In(t)+s|n<<s|i,wi=r+e}else vi=1<<r|n<<s|i,wi=e}function xp(e){e.return!==null&&(Bs(e,1),E1(e,1,0))}function vp(e){for(;e===wu;)wu=Gr[--Ur],Gr[Ur]=null,Eu=Gr[--Ur],Gr[Ur]=null;for(;e===cr;)cr=un[--hn],un[hn]=null,wi=un[--hn],un[hn]=null,vi=un[--hn],un[hn]=null}var Ze=null,Xe=null,Mt=!1,Rn=null;function S1(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function H_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=fs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cr!==null?{id:vi,overflow:wi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Xe=null,!0):!1;default:return!1}}function Gf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uf(e){if(Mt){var t=Xe;if(t){var n=t;if(!H_(e,t)){if(Gf(e))throw Error(j(418));t=fs(n.nextSibling);var i=Ze;t&&H_(e,t)?S1(i,n):(e.flags=e.flags&-4097|2,Mt=!1,Ze=e)}}else{if(Gf(e))throw Error(j(418));e.flags=e.flags&-4097|2,Mt=!1,Ze=e}}}function G_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function rc(e){if(e!==Ze)return!1;if(!Mt)return G_(e),Mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bf(e.type,e.memoizedProps)),t&&(t=Xe)){if(Gf(e))throw C1(),Error(j(418));for(;t;)S1(e,t),t=fs(t.nextSibling)}if(G_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=fs(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Ze?fs(e.stateNode.nextSibling):null;return!0}function C1(){for(var e=Xe;e;)e=fs(e.nextSibling)}function uo(){Xe=Ze=null,Mt=!1}function wp(e){Rn===null?Rn=[e]:Rn.push(e)}var Db=Fi.ReactCurrentBatchConfig;function Go(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var i=n.stateNode}if(!i)throw Error(j(147,e));var s=i,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},t._stringRef=r,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function oc(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U_(e){var t=e._init;return t(e._payload)}function A1(e){function t(_,m){if(e){var x=_.deletions;x===null?(_.deletions=[m],_.flags|=16):x.push(m)}}function n(_,m){if(!e)return null;for(;m!==null;)t(_,m),m=m.sibling;return null}function i(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function s(_,m){return _=_s(_,m),_.index=0,_.sibling=null,_}function r(_,m,x){return _.index=x,e?(x=_.alternate,x!==null?(x=x.index,x<m?(_.flags|=2,m):x):(_.flags|=2,m)):(_.flags|=1048576,m)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,m,x,v){return m===null||m.tag!==6?(m=kd(x,_.mode,v),m.return=_,m):(m=s(m,x),m.return=_,m)}function l(_,m,x,v){var w=x.type;return w===jr?u(_,m,x.props.children,v,x.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===qi&&U_(w)===m.type)?(v=s(m,x.props),v.ref=Go(_,m,x),v.return=_,v):(v=Zc(x.type,x.key,x.props,null,_.mode,v),v.ref=Go(_,m,x),v.return=_,v)}function c(_,m,x,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Id(x,_.mode,v),m.return=_,m):(m=s(m,x.children||[]),m.return=_,m)}function u(_,m,x,v,w){return m===null||m.tag!==7?(m=ir(x,_.mode,v,w),m.return=_,m):(m=s(m,x),m.return=_,m)}function h(_,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=kd(""+m,_.mode,x),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Kl:return x=Zc(m.type,m.key,m.props,null,_.mode,x),x.ref=Go(_,null,m),x.return=_,x;case zr:return m=Id(m,_.mode,x),m.return=_,m;case qi:var v=m._init;return h(_,v(m._payload),x)}if(ra(m)||Wo(m))return m=ir(m,_.mode,x,null),m.return=_,m;oc(_,m)}return null}function d(_,m,x,v){var w=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(_,m,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kl:return x.key===w?l(_,m,x,v):null;case zr:return x.key===w?c(_,m,x,v):null;case qi:return w=x._init,d(_,m,w(x._payload),v)}if(ra(x)||Wo(x))return w!==null?null:u(_,m,x,v,null);oc(_,x)}return null}function f(_,m,x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return _=_.get(x)||null,a(m,_,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kl:return _=_.get(v.key===null?x:v.key)||null,l(m,_,v,w);case zr:return _=_.get(v.key===null?x:v.key)||null,c(m,_,v,w);case qi:var S=v._init;return f(_,m,x,S(v._payload),w)}if(ra(v)||Wo(v))return _=_.get(x)||null,u(m,_,v,w,null);oc(m,v)}return null}function g(_,m,x,v){for(var w=null,S=null,C=m,E=m=0,b=null;C!==null&&E<x.length;E++){C.index>E?(b=C,C=null):b=C.sibling;var R=d(_,C,x[E],v);if(R===null){C===null&&(C=b);break}e&&C&&R.alternate===null&&t(_,C),m=r(R,m,E),S===null?w=R:S.sibling=R,S=R,C=b}if(E===x.length)return n(_,C),Mt&&Bs(_,E),w;if(C===null){for(;E<x.length;E++)C=h(_,x[E],v),C!==null&&(m=r(C,m,E),S===null?w=C:S.sibling=C,S=C);return Mt&&Bs(_,E),w}for(C=i(_,C);E<x.length;E++)b=f(C,_,E,x[E],v),b!==null&&(e&&b.alternate!==null&&C.delete(b.key===null?E:b.key),m=r(b,m,E),S===null?w=b:S.sibling=b,S=b);return e&&C.forEach(function(k){return t(_,k)}),Mt&&Bs(_,E),w}function p(_,m,x,v){var w=Wo(x);if(typeof w!="function")throw Error(j(150));if(x=w.call(x),x==null)throw Error(j(151));for(var S=w=null,C=m,E=m=0,b=null,R=x.next();C!==null&&!R.done;E++,R=x.next()){C.index>E?(b=C,C=null):b=C.sibling;var k=d(_,C,R.value,v);if(k===null){C===null&&(C=b);break}e&&C&&k.alternate===null&&t(_,C),m=r(k,m,E),S===null?w=k:S.sibling=k,S=k,C=b}if(R.done)return n(_,C),Mt&&Bs(_,E),w;if(C===null){for(;!R.done;E++,R=x.next())R=h(_,R.value,v),R!==null&&(m=r(R,m,E),S===null?w=R:S.sibling=R,S=R);return Mt&&Bs(_,E),w}for(C=i(_,C);!R.done;E++,R=x.next())R=f(C,_,E,R.value,v),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?E:R.key),m=r(R,m,E),S===null?w=R:S.sibling=R,S=R);return e&&C.forEach(function(z){return t(_,z)}),Mt&&Bs(_,E),w}function y(_,m,x,v){if(typeof x=="object"&&x!==null&&x.type===jr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Kl:t:{for(var w=x.key,S=m;S!==null;){if(S.key===w){if(w=x.type,w===jr){if(S.tag===7){n(_,S.sibling),m=s(S,x.props.children),m.return=_,_=m;break t}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===qi&&U_(w)===S.type){n(_,S.sibling),m=s(S,x.props),m.ref=Go(_,S,x),m.return=_,_=m;break t}n(_,S);break}else t(_,S);S=S.sibling}x.type===jr?(m=ir(x.props.children,_.mode,v,x.key),m.return=_,_=m):(v=Zc(x.type,x.key,x.props,null,_.mode,v),v.ref=Go(_,m,x),v.return=_,_=v)}return o(_);case zr:t:{for(S=x.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(_,m.sibling),m=s(m,x.children||[]),m.return=_,_=m;break t}else{n(_,m);break}else t(_,m);m=m.sibling}m=Id(x,_.mode,v),m.return=_,_=m}return o(_);case qi:return S=x._init,y(_,m,S(x._payload),v)}if(ra(x))return g(_,m,x,v);if(Wo(x))return p(_,m,x,v);oc(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(_,m.sibling),m=s(m,x),m.return=_,_=m):(n(_,m),m=kd(x,_.mode,v),m.return=_,_=m),o(_)):n(_,m)}return y}var ho=A1(!0),b1=A1(!1),Su=ks(null),Cu=null,Xr=null,Ep=null;function Sp(){Ep=Xr=Cu=null}function Cp(e){var t=Su.current;Ct(Su),e._currentValue=t}function Xf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function no(e,t){Cu=e,Ep=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function yn(e){var t=e._currentValue;if(Ep!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(Cu===null)throw Error(j(308));Xr=e,Cu.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var $s=null;function Ap(e){$s===null?$s=[e]:$s.push(e)}function T1(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,Ap(t)):(n.next=s.next,s.next=n),t.interleaved=n,Pi(e,i)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ji=!1;function bp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gs(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ut&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Pi(e,n)}return s=i.interleaved,s===null?(t.next=t,Ap(i)):(t.next=s.next,s.next=t),i.interleaved=t,Pi(e,n)}function Hc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,hp(e,n)}}function X_(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Au(e,t,n,i){var s=e.updateQueue;Ji=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,u=c=l=null,a=r;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var g=e,p=a;switch(d=t,f=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(f,h,d);break t}h=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break t;h=Lt({},h,d);break t;case 2:Ji=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);hr|=o,e.lanes=o,e.memoizedState=h}}function $_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(j(191,s));s.call(i)}}}var Rl={},Qn=ks(Rl),Xa=ks(Rl),$a=ks(Rl);function Ks(e){if(e===Rl)throw Error(j(174));return e}function Tp(e,t){switch(wt($a,t),wt(Xa,e),wt(Qn,Rl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tf(t,e)}Ct(Qn),wt(Qn,t)}function fo(){Ct(Qn),Ct(Xa),Ct($a)}function M1(e){Ks($a.current);var t=Ks(Qn.current),n=Tf(t,e.type);t!==n&&(wt(Xa,e),wt(Qn,n))}function Rp(e){Xa.current===e&&(Ct(Qn),Ct(Xa))}var Pt=ks(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cd=[];function Mp(){for(var e=0;e<Cd.length;e++)Cd[e]._workInProgressVersionPrimary=null;Cd.length=0}var Gc=Fi.ReactCurrentDispatcher,Ad=Fi.ReactCurrentBatchConfig,ur=0,Ot=null,Xt=null,qt=null,Tu=!1,Sa=!1,Ka=0,Fb=0;function ue(){throw Error(j(321))}function kp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function Ip(e,t,n,i,s,r){if(ur=r,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gc.current=e===null||e.memoizedState===null?Wb:Bb,e=n(i,s),Sa){r=0;do{if(Sa=!1,Ka=0,25<=r)throw Error(j(301));r+=1,qt=Xt=null,t.updateQueue=null,Gc.current=Vb,e=n(i,s)}while(Sa)}if(Gc.current=Ru,t=Xt!==null&&Xt.next!==null,ur=0,qt=Xt=Ot=null,Tu=!1,t)throw Error(j(300));return e}function Pp(){var e=Ka!==0;return Ka=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ot.memoizedState=qt=e:qt=qt.next=e,qt}function xn(){if(Xt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var t=qt===null?Ot.memoizedState:qt.next;if(t!==null)qt=t,Xt=e;else{if(e===null)throw Error(j(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},qt===null?Ot.memoizedState=qt=e:qt=qt.next=e}return qt}function Za(e,t){return typeof t=="function"?t(e):t}function bd(e){var t=xn(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=Xt,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((ur&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Ot.lanes|=u,hr|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,Dn(i,t.memoizedState)||(Fe=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do r=s.lane,Ot.lanes|=r,hr|=r,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Td(e){var t=xn(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=e(r,o.action),o=o.next;while(o!==s);Dn(r,t.memoizedState)||(Fe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function k1(){}function I1(e,t){var n=Ot,i=xn(),s=t(),r=!Dn(i.memoizedState,s);if(r&&(i.memoizedState=s,Fe=!0),i=i.queue,Op(L1.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,qa(9,O1.bind(null,n,i,s,t),void 0,null),ee===null)throw Error(j(349));ur&30||P1(n,t,s)}return s}function P1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O1(e,t,n,i){t.value=n,t.getSnapshot=i,D1(t)&&F1(e)}function L1(e,t,n){return n(function(){D1(t)&&F1(e)})}function D1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function F1(e){var t=Pi(e,1);t!==null&&Pn(t,e,1,-1)}function K_(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:e},t.queue=e,e=e.dispatch=jb.bind(null,Ot,e),[t.memoizedState,e]}function qa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function N1(){return xn().memoizedState}function Uc(e,t,n,i){var s=Yn();Ot.flags|=e,s.memoizedState=qa(1|t,n,void 0,i===void 0?null:i)}function fh(e,t,n,i){var s=xn();i=i===void 0?null:i;var r=void 0;if(Xt!==null){var o=Xt.memoizedState;if(r=o.destroy,i!==null&&kp(i,o.deps)){s.memoizedState=qa(t,n,r,i);return}}Ot.flags|=e,s.memoizedState=qa(1|t,n,r,i)}function Z_(e,t){return Uc(8390656,8,e,t)}function Op(e,t){return fh(2048,8,e,t)}function z1(e,t){return fh(4,2,e,t)}function j1(e,t){return fh(4,4,e,t)}function W1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B1(e,t,n){return n=n!=null?n.concat([e]):null,fh(4,4,W1.bind(null,t,e),n)}function Lp(){}function V1(e,t){var n=xn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&kp(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Y1(e,t){var n=xn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&kp(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function H1(e,t,n){return ur&21?(Dn(n,t)||(n=Kv(),Ot.lanes|=n,hr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=n)}function Nb(e,t){var n=xt;xt=n!==0&&4>n?n:4,e(!0);var i=Ad.transition;Ad.transition={};try{e(!1),t()}finally{xt=n,Ad.transition=i}}function G1(){return xn().memoizedState}function zb(e,t,n){var i=ms(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},U1(e))X1(t,n);else if(n=T1(e,t,n,i),n!==null){var s=be();Pn(n,e,i,s),$1(n,t,i)}}function jb(e,t,n){var i=ms(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(U1(e))X1(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dn(a,o)){var l=t.interleaved;l===null?(s.next=s,Ap(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=T1(e,t,s,i),n!==null&&(s=be(),Pn(n,e,i,s),$1(n,t,i))}}function U1(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function X1(e,t){Sa=Tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $1(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,hp(e,n)}}var Ru={readContext:yn,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},Wb={readContext:yn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:Z_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uc(4194308,4,W1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uc(4,2,e,t)},useMemo:function(e,t){var n=Yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Yn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=zb.bind(null,Ot,e),[i.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:K_,useDebugValue:Lp,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=K_(!1),t=e[0];return e=Nb.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Ot,s=Yn();if(Mt){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),ee===null)throw Error(j(349));ur&30||P1(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Z_(L1.bind(null,i,r,e),[e]),i.flags|=2048,qa(9,O1.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=Yn(),t=ee.identifierPrefix;if(Mt){var n=wi,i=vi;n=(i&~(1<<32-In(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ka++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bb={readContext:yn,useCallback:V1,useContext:yn,useEffect:Op,useImperativeHandle:B1,useInsertionEffect:z1,useLayoutEffect:j1,useMemo:Y1,useReducer:bd,useRef:N1,useState:function(){return bd(Za)},useDebugValue:Lp,useDeferredValue:function(e){var t=xn();return H1(t,Xt.memoizedState,e)},useTransition:function(){var e=bd(Za)[0],t=xn().memoizedState;return[e,t]},useMutableSource:k1,useSyncExternalStore:I1,useId:G1,unstable_isNewReconciler:!1},Vb={readContext:yn,useCallback:V1,useContext:yn,useEffect:Op,useImperativeHandle:B1,useInsertionEffect:z1,useLayoutEffect:j1,useMemo:Y1,useReducer:Td,useRef:N1,useState:function(){return Td(Za)},useDebugValue:Lp,useDeferredValue:function(e){var t=xn();return Xt===null?t.memoizedState=e:H1(t,Xt.memoizedState,e)},useTransition:function(){var e=Td(Za)[0],t=xn().memoizedState;return[e,t]},useMutableSource:k1,useSyncExternalStore:I1,useId:G1,unstable_isNewReconciler:!1};function bn(e,t){if(e&&e.defaultProps){t=Lt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $f(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gh={isMounted:function(e){return(e=e._reactInternals)?xr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=be(),s=ms(e),r=Ai(i,s);r.payload=t,n!=null&&(r.callback=n),t=gs(e,r,s),t!==null&&(Pn(t,e,s,i),Hc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=be(),s=ms(e),r=Ai(i,s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=gs(e,r,s),t!==null&&(Pn(t,e,s,i),Hc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),i=ms(e),s=Ai(n,i);s.tag=2,t!=null&&(s.callback=t),t=gs(e,s,i),t!==null&&(Pn(t,e,i,n),Hc(t,e,i))}};function q_(e,t,n,i,s,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,o):t.prototype&&t.prototype.isPureReactComponent?!Ya(n,i)||!Ya(s,r):!0}function K1(e,t,n){var i=!1,s=Es,r=t.contextType;return typeof r=="object"&&r!==null?r=yn(r):(s=ze(t)?lr:we.current,i=t.contextTypes,r=(i=i!=null)?co(e,s):Es),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gh,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function J_(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&gh.enqueueReplaceState(t,t.state,null)}function Kf(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},bp(e);var r=t.contextType;typeof r=="object"&&r!==null?s.context=yn(r):(r=ze(t)?lr:we.current,s.context=co(e,r)),s.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&($f(e,t,r,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gh.enqueueReplaceState(s,s.state,null),Au(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function go(e,t){try{var n="",i=t;do n+=mA(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+ r.stack
} return { value: e, source: t, stack: s, digest: null }
} function Rd(e, t, n) { return { value: e, source: null, stack: n ?? null, digest: t ?? null } } function Zf(e, t) { try { console.error(t.value) } catch (n) { setTimeout(function () { throw n }) } } var Yb = typeof WeakMap == "function" ? WeakMap : Map; function Z1(e, t, n) { n = Ai(-1, n), n.tag = 3, n.payload = { element: null }; var i = t.value; return n.callback = function () { ku || (ku = !0, og = i), Zf(e, t) }, n } function q1(e, t, n) { n = Ai(-1, n), n.tag = 3; var i = e.type.getDerivedStateFromError; if (typeof i == "function") { var s = t.value; n.payload = function () { return i(s) }, n.callback = function () { Zf(e, t) } } var r = e.stateNode; return r !== null && typeof r.componentDidCatch == "function" && (n.callback = function () { Zf(e, t), typeof i != "function" && (ps === null ? ps = new Set([this]) : ps.add(this)); var o = t.stack; this.componentDidCatch(t.value, { componentStack: o !== null ? o : "" }) }), n } function Q_(e, t, n) { var i = e.pingCache; if (i === null) { i = e.pingCache = new Yb; var s = new Set; i.set(t, s) } else s = i.get(t), s === void 0 && (s = new Set, i.set(t, s)); s.has(n) || (s.add(n), e = iT.bind(null, e, t, n), t.then(e, e)) } function t0(e) { do { var t; if ((t = e.tag === 13) && (t = e.memoizedState, t = t !== null ? t.dehydrated !== null : !0), t) return e; e = e.return } while (e !== null); return null } function e0(e, t, n, i, s) { return e.mode & 1 ? (e.flags |= 65536, e.lanes = s, e) : (e === t ? e.flags |= 65536 : (e.flags |= 128, n.flags |= 131072, n.flags &= -52805, n.tag === 1 && (n.alternate === null ? n.tag = 17 : (t = Ai(-1, 1), t.tag = 2, gs(n, t, 1))), n.lanes |= 1), e) } var Hb = Fi.ReactCurrentOwner, Fe = !1; function Ae(e, t, n, i) { t.child = e === null ? b1(t, null, n, i) : ho(t, e.child, n, i) } function n0(e, t, n, i, s) { n = n.render; var r = t.ref; return no(t, s), i = Ip(e, t, n, i, r, s), n = Pp(), e !== null && !Fe ? (t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~s, Oi(e, t, s)) : (Mt && n && xp(t), t.flags |= 1, Ae(e, t, i, s), t.child) } function i0(e, t, n, i, s) { if (e === null) { var r = n.type; return typeof r == "function" && !Vp(r) && r.defaultProps === void 0 && n.compare === null && n.defaultProps === void 0 ? (t.tag = 15, t.type = r, J1(e, t, r, i, s)) : (e = Zc(n.type, null, i, t, t.mode, s), e.ref = t.ref, e.return = t, t.child = e) } if (r = e.child, !(e.lanes & s)) { var o = r.memoizedProps; if (n = n.compare, n = n !== null ? n : Ya, n(o, i) && e.ref === t.ref) return Oi(e, t, s) } return t.flags |= 1, e = _s(r, i), e.ref = t.ref, e.return = t, t.child = e } function J1(e, t, n, i, s) { if (e !== null) { var r = e.memoizedProps; if (Ya(r, i) && e.ref === t.ref) if (Fe = !1, t.pendingProps = i = r, (e.lanes & s) !== 0) e.flags & 131072 && (Fe = !0); else return t.lanes = e.lanes, Oi(e, t, s) } return qf(e, t, n, i, s) } function Q1(e, t, n) { var i = t.pendingProps, s = i.children, r = e !== null ? e.memoizedState : null; if (i.mode === "hidden") if (!(t.mode & 1)) t.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, wt(Kr, He), He |= n; else { if (!(n & 1073741824)) return e = r !== null ? r.baseLanes | n : n, t.lanes = t.childLanes = 1073741824, t.memoizedState = { baseLanes: e, cachePool: null, transitions: null }, t.updateQueue = null, wt(Kr, He), He |= e, null; t.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, i = r !== null ? r.baseLanes : n, wt(Kr, He), He |= i } else r !== null ? (i = r.baseLanes | n, t.memoizedState = null) : i = n, wt(Kr, He), He |= i; return Ae(e, t, s, n), t.child } function tw(e, t) { var n = t.ref; (e === null && n !== null || e !== null && e.ref !== n) && (t.flags |= 512, t.flags |= 2097152) } function qf(e, t, n, i, s) { var r = ze(n) ? lr : we.current; return r = co(t, r), no(t, s), n = Ip(e, t, n, i, r, s), i = Pp(), e !== null && !Fe ? (t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~s, Oi(e, t, s)) : (Mt && i && xp(t), t.flags |= 1, Ae(e, t, n, s), t.child) } function s0(e, t, n, i, s) { if (ze(n)) { var r = !0; vu(t) } else r = !1; if (no(t, s), t.stateNode === null) Xc(e, t), K1(t, n, i), Kf(t, n, i, s), i = !0; else if (e === null) { var o = t.stateNode, a = t.memoizedProps; o.props = a; var l = o.context, c = n.contextType; typeof c == "object" && c !== null ? c = yn(c) : (c = ze(n) ? lr : we.current, c = co(t, c)); var u = n.getDerivedStateFromProps, h = typeof u == "function" || typeof o.getSnapshotBeforeUpdate == "function"; h || typeof o.UNSAFE_componentWillReceiveProps != "function" && typeof o.componentWillReceiveProps != "function" || (a !== i || l !== c) && J_(t, o, i, c), Ji = !1; var d = t.memoizedState; o.state = d, Au(t, i, o, s), l = t.memoizedState, a !== i || d !== l || Ne.current || Ji ? (typeof u == "function" && ($f(t, n, u, i), l = t.memoizedState), (a = Ji || q_(t, n, a, i, d, l, c)) ? (h || typeof o.UNSAFE_componentWillMount != "function" && typeof o.componentWillMount != "function" || (typeof o.componentWillMount == "function" && o.componentWillMount(), typeof o.UNSAFE_componentWillMount == "function" && o.UNSAFE_componentWillMount()), typeof o.componentDidMount == "function" && (t.flags |= 4194308)) : (typeof o.componentDidMount == "function" && (t.flags |= 4194308), t.memoizedProps = i, t.memoizedState = l), o.props = i, o.state = l, o.context = c, i = a) : (typeof o.componentDidMount == "function" && (t.flags |= 4194308), i = !1) } else { o = t.stateNode, R1(e, t), a = t.memoizedProps, c = t.type === t.elementType ? a : bn(t.type, a), o.props = c, h = t.pendingProps, d = o.context, l = n.contextType, typeof l == "object" && l !== null ? l = yn(l) : (l = ze(n) ? lr : we.current, l = co(t, l)); var f = n.getDerivedStateFromProps; (u = typeof f == "function" || typeof o.getSnapshotBeforeUpdate == "function") || typeof o.UNSAFE_componentWillReceiveProps != "function" && typeof o.componentWillReceiveProps != "function" || (a !== h || d !== l) && J_(t, o, i, l), Ji = !1, d = t.memoizedState, o.state = d, Au(t, i, o, s); var g = t.memoizedState; a !== h || d !== g || Ne.current || Ji ? (typeof f == "function" && ($f(t, n, f, i), g = t.memoizedState), (c = Ji || q_(t, n, c, i, d, g, l) || !1) ? (u || typeof o.UNSAFE_componentWillUpdate != "function" && typeof o.componentWillUpdate != "function" || (typeof o.componentWillUpdate == "function" && o.componentWillUpdate(i, g, l), typeof o.UNSAFE_componentWillUpdate == "function" && o.UNSAFE_componentWillUpdate(i, g, l)), typeof o.componentDidUpdate == "function" && (t.flags |= 4), typeof o.getSnapshotBeforeUpdate == "function" && (t.flags |= 1024)) : (typeof o.componentDidUpdate != "function" || a === e.memoizedProps && d === e.memoizedState || (t.flags |= 4), typeof o.getSnapshotBeforeUpdate != "function" || a === e.memoizedProps && d === e.memoizedState || (t.flags |= 1024), t.memoizedProps = i, t.memoizedState = g), o.props = i, o.state = g, o.context = l, i = c) : (typeof o.componentDidUpdate != "function" || a === e.memoizedProps && d === e.memoizedState || (t.flags |= 4), typeof o.getSnapshotBeforeUpdate != "function" || a === e.memoizedProps && d === e.memoizedState || (t.flags |= 1024), i = !1) } return Jf(e, t, n, i, r, s) } function Jf(e, t, n, i, s, r) { tw(e, t); var o = (t.flags & 128) !== 0; if (!i && !o) return s && Y_(t, n, !1), Oi(e, t, r); i = t.stateNode, Hb.current = t; var a = o && typeof n.getDerivedStateFromError != "function" ? null : i.render(); return t.flags |= 1, e !== null && o ? (t.child = ho(t, e.child, null, r), t.child = ho(t, null, a, r)) : Ae(e, t, a, r), t.memoizedState = i.state, s && Y_(t, n, !0), t.child } function ew(e) { var t = e.stateNode; t.pendingContext ? V_(e, t.pendingContext, t.pendingContext !== t.context) : t.context && V_(e, t.context, !1), Tp(e, t.containerInfo) } function r0(e, t, n, i, s) { return uo(), wp(s), t.flags |= 256, Ae(e, t, n, i), t.child } var Qf = { dehydrated: null, treeContext: null, retryLane: 0 }; function tg(e) { return { baseLanes: e, cachePool: null, transitions: null } } function nw(e, t, n) { var i = t.pendingProps, s = Pt.current, r = !1, o = (t.flags & 128) !== 0, a; if ((a = o) || (a = e !== null && e.memoizedState === null ? !1 : (s & 2) !== 0), a ? (r = !0, t.flags &= -129) : (e === null || e.memoizedState !== null) && (s |= 1), wt(Pt, s & 1), e === null) return Uf(t), e = t.memoizedState, e !== null && (e = e.dehydrated, e !== null) ? (t.mode & 1 ? e.data === "$!" ? t.lanes = 8 : t.lanes = 1073741824 : t.lanes = 1, null) : (o = i.children, e = i.fallback, r ? (i = t.mode, r = t.child, o = { mode: "hidden", children: o }, !(i & 1) && r !== null ? (r.childLanes = 0, r.pendingProps = o) : r = _h(o, i, 0, null), e = ir(e, i, n, null), r.return = t, e.return = t, r.sibling = e, t.child = r, t.child.memoizedState = tg(n), t.memoizedState = Qf, e) : Dp(t, o)); if (s = e.memoizedState, s !== null && (a = s.dehydrated, a !== null)) return Gb(e, t, o, i, a, s, n); if (r) { r = i.fallback, o = t.mode, s = e.child, a = s.sibling; var l = { mode: "hidden", children: i.children }; return !(o & 1) && t.child !== s ? (i = t.child, i.childLanes = 0, i.pendingProps = l, t.deletions = null) : (i = _s(s, l), i.subtreeFlags = s.subtreeFlags & 14680064), a !== null ? r = _s(a, r) : (r = ir(r, o, n, null), r.flags |= 2), r.return = t, i.return = t, i.sibling = r, t.child = i, i = r, r = t.child, o = e.child.memoizedState, o = o === null ? tg(n) : { baseLanes: o.baseLanes | n, cachePool: null, transitions: o.transitions }, r.memoizedState = o, r.childLanes = e.childLanes & ~n, t.memoizedState = Qf, i } return r = e.child, e = r.sibling, i = _s(r, { mode: "visible", children: i.children }), !(t.mode & 1) && (i.lanes = n), i.return = t, i.sibling = null, e !== null && (n = t.deletions, n === null ? (t.deletions = [e], t.flags |= 16) : n.push(e)), t.child = i, t.memoizedState = null, i } function Dp(e, t) { return t = _h({ mode: "visible", children: t }, e.mode, 0, null), t.return = e, e.child = t } function ac(e, t, n, i) { return i !== null && wp(i), ho(t, e.child, null, n), e = Dp(t, t.pendingProps.children), e.flags |= 2, t.memoizedState = null, e } function Gb(e, t, n, i, s, r, o) { if (n) return t.flags & 256 ? (t.flags &= -257, i = Rd(Error(j(422))), ac(e, t, o, i)) : t.memoizedState !== null ? (t.child = e.child, t.flags |= 128, null) : (r = i.fallback, s = t.mode, i = _h({ mode: "visible", children: i.children }, s, 0, null), r = ir(r, s, o, null), r.flags |= 2, i.return = t, r.return = t, i.sibling = r, t.child = i, t.mode & 1 && ho(t, e.child, null, o), t.child.memoizedState = tg(o), t.memoizedState = Qf, r); if (!(t.mode & 1)) return ac(e, t, o, null); if (s.data === "$!") { if (i = s.nextSibling && s.nextSibling.dataset, i) var a = i.dgst; return i = a, r = Error(j(419)), i = Rd(r, i, void 0), ac(e, t, o, i) } if (a = (o & e.childLanes) !== 0, Fe || a) { if (i = ee, i !== null) { switch (o & -o) { case 4: s = 2; break; case 16: s = 8; break; case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: s = 32; break; case 536870912: s = 268435456; break; default: s = 0 }s = s & (i.suspendedLanes | o) ? 0 : s, s !== 0 && s !== r.retryLane && (r.retryLane = s, Pi(e, s), Pn(i, e, s, -1)) } return Bp(), i = Rd(Error(j(421))), ac(e, t, o, i) } return s.data === "$?" ? (t.flags |= 128, t.child = e.child, t = sT.bind(null, e), s._reactRetry = t, null) : (e = r.treeContext, Xe = fs(s.nextSibling), Ze = t, Mt = !0, Rn = null, e !== null && (un[hn++] = vi, un[hn++] = wi, un[hn++] = cr, vi = e.id, wi = e.overflow, cr = t), t = Dp(t, i.children), t.flags |= 4096, t) } function o0(e, t, n) { e.lanes |= t; var i = e.alternate; i !== null && (i.lanes |= t), Xf(e.return, t, n) } function Md(e, t, n, i, s) { var r = e.memoizedState; r === null ? e.memoizedState = { isBackwards: t, rendering: null, renderingStartTime: 0, last: i, tail: n, tailMode: s } : (r.isBackwards = t, r.rendering = null, r.renderingStartTime = 0, r.last = i, r.tail = n, r.tailMode = s) } function iw(e, t, n) { var i = t.pendingProps, s = i.revealOrder, r = i.tail; if (Ae(e, t, i.children, n), i = Pt.current, i & 2) i = i & 1 | 2, t.flags |= 128; else { if (e !== null && e.flags & 128) t: for (e = t.child; e !== null;) { if (e.tag === 13) e.memoizedState !== null && o0(e, n, t); else if (e.tag === 19) o0(e, n, t); else if (e.child !== null) { e.child.return = e, e = e.child; continue } if (e === t) break t; for (; e.sibling === null;) { if (e.return === null || e.return === t) break t; e = e.return } e.sibling.return = e.return, e = e.sibling } i &= 1 } if (wt(Pt, i), !(t.mode & 1)) t.memoizedState = null; else switch (s) { case "forwards": for (n = t.child, s = null; n !== null;)e = n.alternate, e !== null && bu(e) === null && (s = n), n = n.sibling; n = s, n === null ? (s = t.child, t.child = null) : (s = n.sibling, n.sibling = null), Md(t, !1, s, n, r); break; case "backwards": for (n = null, s = t.child, t.child = null; s !== null;) { if (e = s.alternate, e !== null && bu(e) === null) { t.child = s; break } e = s.sibling, s.sibling = n, n = s, s = e } Md(t, !0, n, null, r); break; case "together": Md(t, !1, null, null, void 0); break; default: t.memoizedState = null }return t.child } function Xc(e, t) { !(t.mode & 1) && e !== null && (e.alternate = null, t.alternate = null, t.flags |= 2) } function Oi(e, t, n) { if (e !== null && (t.dependencies = e.dependencies), hr |= t.lanes, !(n & t.childLanes)) return null; if (e !== null && t.child !== e.child) throw Error(j(153)); if (t.child !== null) { for (e = t.child, n = _s(e, e.pendingProps), t.child = n, n.return = t; e.sibling !== null;)e = e.sibling, n = n.sibling = _s(e, e.pendingProps), n.return = t; n.sibling = null } return t.child } function Ub(e, t, n) { switch (t.tag) { case 3: ew(t), uo(); break; case 5: M1(t); break; case 1: ze(t.type) && vu(t); break; case 4: Tp(t, t.stateNode.containerInfo); break; case 10: var i = t.type._context, s = t.memoizedProps.value; wt(Su, i._currentValue), i._currentValue = s; break; case 13: if (i = t.memoizedState, i !== null) return i.dehydrated !== null ? (wt(Pt, Pt.current & 1), t.flags |= 128, null) : n & t.child.childLanes ? nw(e, t, n) : (wt(Pt, Pt.current & 1), e = Oi(e, t, n), e !== null ? e.sibling : null); wt(Pt, Pt.current & 1); break; case 19: if (i = (n & t.childLanes) !== 0, e.flags & 128) { if (i) return iw(e, t, n); t.flags |= 128 } if (s = t.memoizedState, s !== null && (s.rendering = null, s.tail = null, s.lastEffect = null), wt(Pt, Pt.current), i) break; return null; case 22: case 23: return t.lanes = 0, Q1(e, t, n) }return Oi(e, t, n) } var sw, eg, rw, ow; sw = function (e, t) { for (var n = t.child; n !== null;) { if (n.tag === 5 || n.tag === 6) e.appendChild(n.stateNode); else if (n.tag !== 4 && n.child !== null) { n.child.return = n, n = n.child; continue } if (n === t) break; for (; n.sibling === null;) { if (n.return === null || n.return === t) return; n = n.return } n.sibling.return = n.return, n = n.sibling } }; eg = function () { }; rw = function (e, t, n, i) { var s = e.memoizedProps; if (s !== i) { e = t.stateNode, Ks(Qn.current); var r = null; switch (n) { case "input": s = Sf(e, s), i = Sf(e, i), r = []; break; case "select": s = Lt({}, s, { value: void 0 }), i = Lt({}, i, { value: void 0 }), r = []; break; case "textarea": s = bf(e, s), i = bf(e, i), r = []; break; default: typeof s.onClick != "function" && typeof i.onClick == "function" && (e.onclick = yu) }Rf(n, i); var o; n = null; for (c in s) if (!i.hasOwnProperty(c) && s.hasOwnProperty(c) && s[c] != null) if (c === "style") { var a = s[c]; for (o in a) a.hasOwnProperty(o) && (n || (n = {}), n[o] = "") } else c !== "dangerouslySetInnerHTML" && c !== "children" && c !== "suppressContentEditableWarning" && c !== "suppressHydrationWarning" && c !== "autoFocus" && (Fa.hasOwnProperty(c) ? r || (r = []) : (r = r || []).push(c, null)); for (c in i) { var l = i[c]; if (a = s != null ? s[c] : void 0, i.hasOwnProperty(c) && l !== a && (l != null || a != null)) if (c === "style") if (a) { for (o in a) !a.hasOwnProperty(o) || l && l.hasOwnProperty(o) || (n || (n = {}), n[o] = ""); for (o in l) l.hasOwnProperty(o) && a[o] !== l[o] && (n || (n = {}), n[o] = l[o]) } else n || (r || (r = []), r.push(c, n)), n = l; else c === "dangerouslySetInnerHTML" ? (l = l ? l.__html : void 0, a = a ? a.__html : void 0, l != null && a !== l && (r = r || []).push(c, l)) : c === "children" ? typeof l != "string" && typeof l != "number" || (r = r || []).push(c, "" + l) : c !== "suppressContentEditableWarning" && c !== "suppressHydrationWarning" && (Fa.hasOwnProperty(c) ? (l != null && c === "onScroll" && Et("scroll", e), r || a === l || (r = [])) : (r = r || []).push(c, l)) } n && (r = r || []).push("style", n); var c = r; (t.updateQueue = c) && (t.flags |= 4) } }; ow = function (e, t, n, i) { n !== i && (t.flags |= 4) }; function Uo(e, t) { if (!Mt) switch (e.tailMode) { case "hidden": t = e.tail; for (var n = null; t !== null;)t.alternate !== null && (n = t), t = t.sibling; n === null ? e.tail = null : n.sibling = null; break; case "collapsed": n = e.tail; for (var i = null; n !== null;)n.alternate !== null && (i = n), n = n.sibling; i === null ? t || e.tail === null ? e.tail = null : e.tail.sibling = null : i.sibling = null } } function he(e) { var t = e.alternate !== null && e.alternate.child === e.child, n = 0, i = 0; if (t) for (var s = e.child; s !== null;)n |= s.lanes | s.childLanes, i |= s.subtreeFlags & 14680064, i |= s.flags & 14680064, s.return = e, s = s.sibling; else for (s = e.child; s !== null;)n |= s.lanes | s.childLanes, i |= s.subtreeFlags, i |= s.flags, s.return = e, s = s.sibling; return e.subtreeFlags |= i, e.childLanes = n, t } function Xb(e, t, n) { var i = t.pendingProps; switch (vp(t), t.tag) { case 2: case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return he(t), null; case 1: return ze(t.type) && xu(), he(t), null; case 3: return i = t.stateNode, fo(), Ct(Ne), Ct(we), Mp(), i.pendingContext && (i.context = i.pendingContext, i.pendingContext = null), (e === null || e.child === null) && (rc(t) ? t.flags |= 4 : e === null || e.memoizedState.isDehydrated && !(t.flags & 256) || (t.flags |= 1024, Rn !== null && (cg(Rn), Rn = null))), eg(e, t), he(t), null; case 5: Rp(t); var s = Ks($a.current); if (n = t.type, e !== null && t.stateNode != null) rw(e, t, n, i, s), e.ref !== t.ref && (t.flags |= 512, t.flags |= 2097152); else { if (!i) { if (t.stateNode === null) throw Error(j(166)); return he(t), null } if (e = Ks(Qn.current), rc(t)) { i = t.stateNode, n = t.type; var r = t.memoizedProps; switch (i[Gn] = t, i[Ua] = r, e = (t.mode & 1) !== 0, n) { case "dialog": Et("cancel", i), Et("close", i); break; case "iframe": case "object": case "embed": Et("load", i); break; case "video": case "audio": for (s = 0; s < aa.length; s++)Et(aa[s], i); break; case "source": Et("error", i); break; case "img": case "image": case "link": Et("error", i), Et("load", i); break; case "details": Et("toggle", i); break; case "input": p_(i, r), Et("invalid", i); break; case "select": i._wrapperState = { wasMultiple: !!r.multiple }, Et("invalid", i); break; case "textarea": __(i, r), Et("invalid", i) }Rf(n, r), s = null; for (var o in r) if (r.hasOwnProperty(o)) { var a = r[o]; o === "children" ? typeof a == "string" ? i.textContent !== a && (r.suppressHydrationWarning !== !0 && sc(i.textContent, a, e), s = ["children", a]) : typeof a == "number" && i.textContent !== "" + a && (r.suppressHydrationWarning !== !0 && sc(i.textContent, a, e), s = ["children", "" + a]) : Fa.hasOwnProperty(o) && a != null && o === "onScroll" && Et("scroll", i) } switch (n) { case "input": Zl(i), m_(i, r, !0); break; case "textarea": Zl(i), y_(i); break; case "select": case "option": break; default: typeof r.onClick == "function" && (i.onclick = yu) }i = s, t.updateQueue = i, i !== null && (t.flags |= 4) } else { o = s.nodeType === 9 ? s : s.ownerDocument, e === "http://www.w3.org/1999/xhtml" && (e = Lv(n)), e === "http://www.w3.org/1999/xhtml" ? n === "script" ? (e = o.createElement("div"), e.innerHTML = "<script><\/script>", e = e.removeChild(e.firstChild)) : typeof i.is == "string" ? e = o.createElement(n, { is: i.is }) : (e = o.createElement(n), n === "select" && (o = e, i.multiple ? o.multiple = !0 : i.size && (o.size = i.size))) : e = o.createElementNS(e, n), e[Gn] = t, e[Ua] = i, sw(e, t, !1, !1), t.stateNode = e; t: { switch (o = Mf(n, i), n) { case "dialog": Et("cancel", e), Et("close", e), s = i; break; case "iframe": case "object": case "embed": Et("load", e), s = i; break; case "video": case "audio": for (s = 0; s < aa.length; s++)Et(aa[s], e); s = i; break; case "source": Et("error", e), s = i; break; case "img": case "image": case "link": Et("error", e), Et("load", e), s = i; break; case "details": Et("toggle", e), s = i; break; case "input": p_(e, i), s = Sf(e, i), Et("invalid", e); break; case "option": s = i; break; case "select": e._wrapperState = { wasMultiple: !!i.multiple }, s = Lt({}, i, { value: void 0 }), Et("invalid", e); break; case "textarea": __(e, i), s = bf(e, i), Et("invalid", e); break; default: s = i }Rf(n, s), a = s; for (r in a) if (a.hasOwnProperty(r)) { var l = a[r]; r === "style" ? Nv(e, l) : r === "dangerouslySetInnerHTML" ? (l = l ? l.__html : void 0, l != null && Dv(e, l)) : r === "children" ? typeof l == "string" ? (n !== "textarea" || l !== "") && Na(e, l) : typeof l == "number" && Na(e, "" + l) : r !== "suppressContentEditableWarning" && r !== "suppressHydrationWarning" && r !== "autoFocus" && (Fa.hasOwnProperty(r) ? l != null && r === "onScroll" && Et("scroll", e) : l != null && rp(e, r, l, o)) } switch (n) { case "input": Zl(e), m_(e, i, !1); break; case "textarea": Zl(e), y_(e); break; case "option": i.value != null && e.setAttribute("value", "" + ws(i.value)); break; case "select": e.multiple = !!i.multiple, r = i.value, r != null ? Jr(e, !!i.multiple, r, !1) : i.defaultValue != null && Jr(e, !!i.multiple, i.defaultValue, !0); break; default: typeof s.onClick == "function" && (e.onclick = yu) }switch (n) { case "button": case "input": case "select": case "textarea": i = !!i.autoFocus; break t; case "img": i = !0; break t; default: i = !1 } } i && (t.flags |= 4) } t.ref !== null && (t.flags |= 512, t.flags |= 2097152) } return he(t), null; case 6: if (e && t.stateNode != null) ow(e, t, e.memoizedProps, i); else { if (typeof i != "string" && t.stateNode === null) throw Error(j(166)); if (n = Ks($a.current), Ks(Qn.current), rc(t)) { if (i = t.stateNode, n = t.memoizedProps, i[Gn] = t, (r = i.nodeValue !== n) && (e = Ze, e !== null)) switch (e.tag) { case 3: sc(i.nodeValue, n, (e.mode & 1) !== 0); break; case 5: e.memoizedProps.suppressHydrationWarning !== !0 && sc(i.nodeValue, n, (e.mode & 1) !== 0) }r && (t.flags |= 4) } else i = (n.nodeType === 9 ? n : n.ownerDocument).createTextNode(i), i[Gn] = t, t.stateNode = i } return he(t), null; case 13: if (Ct(Pt), i = t.memoizedState, e === null || e.memoizedState !== null && e.memoizedState.dehydrated !== null) { if (Mt && Xe !== null && t.mode & 1 && !(t.flags & 128)) C1(), uo(), t.flags |= 98560, r = !1; else if (r = rc(t), i !== null && i.dehydrated !== null) { if (e === null) { if (!r) throw Error(j(318)); if (r = t.memoizedState, r = r !== null ? r.dehydrated : null, !r) throw Error(j(317)); r[Gn] = t } else uo(), !(t.flags & 128) && (t.memoizedState = null), t.flags |= 4; he(t), r = !1 } else Rn !== null && (cg(Rn), Rn = null), r = !0; if (!r) return t.flags & 65536 ? t : null } return t.flags & 128 ? (t.lanes = n, t) : (i = i !== null, i !== (e !== null && e.memoizedState !== null) && i && (t.child.flags |= 8192, t.mode & 1 && (e === null || Pt.current & 1 ? $t === 0 && ($t = 3) : Bp())), t.updateQueue !== null && (t.flags |= 4), he(t), null); case 4: return fo(), eg(e, t), e === null && Ha(t.stateNode.containerInfo), he(t), null; case 10: return Cp(t.type._context), he(t), null; case 17: return ze(t.type) && xu(), he(t), null; case 19: if (Ct(Pt), r = t.memoizedState, r === null) return he(t), null; if (i = (t.flags & 128) !== 0, o = r.rendering, o === null) if (i) Uo(r, !1); else { if ($t !== 0 || e !== null && e.flags & 128) for (e = t.child; e !== null;) { if (o = bu(e), o !== null) { for (t.flags |= 128, Uo(r, !1), i = o.updateQueue, i !== null && (t.updateQueue = i, t.flags |= 4), t.subtreeFlags = 0, i = n, n = t.child; n !== null;)r = n, e = i, r.flags &= 14680066, o = r.alternate, o === null ? (r.childLanes = 0, r.lanes = e, r.child = null, r.subtreeFlags = 0, r.memoizedProps = null, r.memoizedState = null, r.updateQueue = null, r.dependencies = null, r.stateNode = null) : (r.childLanes = o.childLanes, r.lanes = o.lanes, r.child = o.child, r.subtreeFlags = 0, r.deletions = null, r.memoizedProps = o.memoizedProps, r.memoizedState = o.memoizedState, r.updateQueue = o.updateQueue, r.type = o.type, e = o.dependencies, r.dependencies = e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }), n = n.sibling; return wt(Pt, Pt.current & 1 | 2), t.child } e = e.sibling } r.tail !== null && Bt() > po && (t.flags |= 128, i = !0, Uo(r, !1), t.lanes = 4194304) } else { if (!i) if (e = bu(o), e !== null) { if (t.flags |= 128, i = !0, n = e.updateQueue, n !== null && (t.updateQueue = n, t.flags |= 4), Uo(r, !0), r.tail === null && r.tailMode === "hidden" && !o.alternate && !Mt) return he(t), null } else 2 * Bt() - r.renderingStartTime > po && n !== 1073741824 && (t.flags |= 128, i = !0, Uo(r, !1), t.lanes = 4194304); r.isBackwards ? (o.sibling = t.child, t.child = o) : (n = r.last, n !== null ? n.sibling = o : t.child = o, r.last = o) } return r.tail !== null ? (t = r.tail, r.rendering = t, r.tail = t.sibling, r.renderingStartTime = Bt(), t.sibling = null, n = Pt.current, wt(Pt, i ? n & 1 | 2 : n & 1), t) : (he(t), null); case 22: case 23: return Wp(), i = t.memoizedState !== null, e !== null && e.memoizedState !== null !== i && (t.flags |= 8192), i && t.mode & 1 ? He & 1073741824 && (he(t), t.subtreeFlags & 6 && (t.flags |= 8192)) : he(t), null; case 24: return null; case 25: return null }throw Error(j(156, t.tag)) } function $b(e, t) { switch (vp(t), t.tag) { case 1: return ze(t.type) && xu(), e = t.flags, e & 65536 ? (t.flags = e & -65537 | 128, t) : null; case 3: return fo(), Ct(Ne), Ct(we), Mp(), e = t.flags, e & 65536 && !(e & 128) ? (t.flags = e & -65537 | 128, t) : null; case 5: return Rp(t), null; case 13: if (Ct(Pt), e = t.memoizedState, e !== null && e.dehydrated !== null) { if (t.alternate === null) throw Error(j(340)); uo() } return e = t.flags, e & 65536 ? (t.flags = e & -65537 | 128, t) : null; case 19: return Ct(Pt), null; case 4: return fo(), null; case 10: return Cp(t.type._context), null; case 22: case 23: return Wp(), null; case 24: return null; default: return null } } var lc = !1, _e = !1, Kb = typeof WeakSet == "function" ? WeakSet : Set, H = null; function $r(e, t) { var n = e.ref; if (n !== null) if (typeof n == "function") try { n(null) } catch (i) { zt(e, t, i) } else n.current = null } function ng(e, t, n) { try { n() } catch (i) { zt(e, t, i) } } var a0 = !1; function Zb(e, t) { if (jf = pu, e = h1(), yp(e)) { if ("selectionStart" in e) var n = { start: e.selectionStart, end: e.selectionEnd }; else t: { n = (n = e.ownerDocument) && n.defaultView || window; var i = n.getSelection && n.getSelection(); if (i && i.rangeCount !== 0) { n = i.anchorNode; var s = i.anchorOffset, r = i.focusNode; i = i.focusOffset; try { n.nodeType, r.nodeType } catch { n = null; break t } var o = 0, a = -1, l = -1, c = 0, u = 0, h = e, d = null; e: for (; ;) { for (var f; h !== n || s !== 0 && h.nodeType !== 3 || (a = o + s), h !== r || i !== 0 && h.nodeType !== 3 || (l = o + i), h.nodeType === 3 && (o += h.nodeValue.length), (f = h.firstChild) !== null;)d = h, h = f; for (; ;) { if (h === e) break e; if (d === n && ++c === s && (a = o), d === r && ++u === i && (l = o), (f = h.nextSibling) !== null) break; h = d, d = h.parentNode } h = f } n = a === -1 || l === -1 ? null : { start: a, end: l } } else n = null } n = n || { start: 0, end: 0 } } else n = null; for (Wf = { focusedElem: e, selectionRange: n }, pu = !1, H = t; H !== null;)if (t = H, e = t.child, (t.subtreeFlags & 1028) !== 0 && e !== null) e.return = t, H = e; else for (; H !== null;) { t = H; try { var g = t.alternate; if (t.flags & 1024) switch (t.tag) { case 0: case 11: case 15: break; case 1: if (g !== null) { var p = g.memoizedProps, y = g.memoizedState, _ = t.stateNode, m = _.getSnapshotBeforeUpdate(t.elementType === t.type ? p : bn(t.type, p), y); _.__reactInternalSnapshotBeforeUpdate = m } break; case 3: var x = t.stateNode.containerInfo; x.nodeType === 1 ? x.textContent = "" : x.nodeType === 9 && x.documentElement && x.removeChild(x.documentElement); break; case 5: case 6: case 4: case 17: break; default: throw Error(j(163)) } } catch (v) { zt(t, t.return, v) } if (e = t.sibling, e !== null) { e.return = t.return, H = e; break } H = t.return } return g = a0, a0 = !1, g } function Ca(e, t, n) { var i = t.updateQueue; if (i = i !== null ? i.lastEffect : null, i !== null) { var s = i = i.next; do { if ((s.tag & e) === e) { var r = s.destroy; s.destroy = void 0, r !== void 0 && ng(t, n, r) } s = s.next } while (s !== i) } } function ph(e, t) { if (t = t.updateQueue, t = t !== null ? t.lastEffect : null, t !== null) { var n = t = t.next; do { if ((n.tag & e) === e) { var i = n.create; n.destroy = i() } n = n.next } while (n !== t) } } function ig(e) { var t = e.ref; if (t !== null) { var n = e.stateNode; switch (e.tag) { case 5: e = n; break; default: e = n }typeof t == "function" ? t(e) : t.current = e } } function aw(e) { var t = e.alternate; t !== null && (e.alternate = null, aw(t)), e.child = null, e.deletions = null, e.sibling = null, e.tag === 5 && (t = e.stateNode, t !== null && (delete t[Gn], delete t[Ua], delete t[Yf], delete t[Pb], delete t[Ob])), e.stateNode = null, e.return = null, e.dependencies = null, e.memoizedProps = null, e.memoizedState = null, e.pendingProps = null, e.stateNode = null, e.updateQueue = null } function lw(e) { return e.tag === 5 || e.tag === 3 || e.tag === 4 } function l0(e) { t: for (; ;) { for (; e.sibling === null;) { if (e.return === null || lw(e.return)) return null; e = e.return } for (e.sibling.return = e.return, e = e.sibling; e.tag !== 5 && e.tag !== 6 && e.tag !== 18;) { if (e.flags & 2 || e.child === null || e.tag === 4) continue t; e.child.return = e, e = e.child } if (!(e.flags & 2)) return e.stateNode } } function sg(e, t, n) { var i = e.tag; if (i === 5 || i === 6) e = e.stateNode, t ? n.nodeType === 8 ? n.parentNode.insertBefore(e, t) : n.insertBefore(e, t) : (n.nodeType === 8 ? (t = n.parentNode, t.insertBefore(e, n)) : (t = n, t.appendChild(e)), n = n._reactRootContainer, n != null || t.onclick !== null || (t.onclick = yu)); else if (i !== 4 && (e = e.child, e !== null)) for (sg(e, t, n), e = e.sibling; e !== null;)sg(e, t, n), e = e.sibling } function rg(e, t, n) { var i = e.tag; if (i === 5 || i === 6) e = e.stateNode, t ? n.insertBefore(e, t) : n.appendChild(e); else if (i !== 4 && (e = e.child, e !== null)) for (rg(e, t, n), e = e.sibling; e !== null;)rg(e, t, n), e = e.sibling } var se = null, Tn = !1; function Vi(e, t, n) { for (n = n.child; n !== null;)cw(e, t, n), n = n.sibling } function cw(e, t, n) { if (Jn && typeof Jn.onCommitFiberUnmount == "function") try { Jn.onCommitFiberUnmount(ah, n) } catch { } switch (n.tag) { case 5: _e || $r(n, t); case 6: var i = se, s = Tn; se = null, Vi(e, t, n), se = i, Tn = s, se !== null && (Tn ? (e = se, n = n.stateNode, e.nodeType === 8 ? e.parentNode.removeChild(n) : e.removeChild(n)) : se.removeChild(n.stateNode)); break; case 18: se !== null && (Tn ? (e = se, n = n.stateNode, e.nodeType === 8 ? Ed(e.parentNode, n) : e.nodeType === 1 && Ed(e, n), Ba(e)) : Ed(se, n.stateNode)); break; case 4: i = se, s = Tn, se = n.stateNode.containerInfo, Tn = !0, Vi(e, t, n), se = i, Tn = s; break; case 0: case 11: case 14: case 15: if (!_e && (i = n.updateQueue, i !== null && (i = i.lastEffect, i !== null))) { s = i = i.next; do { var r = s, o = r.destroy; r = r.tag, o !== void 0 && (r & 2 || r & 4) && ng(n, t, o), s = s.next } while (s !== i) } Vi(e, t, n); break; case 1: if (!_e && ($r(n, t), i = n.stateNode, typeof i.componentWillUnmount == "function")) try { i.props = n.memoizedProps, i.state = n.memoizedState, i.componentWillUnmount() } catch (a) { zt(n, t, a) } Vi(e, t, n); break; case 21: Vi(e, t, n); break; case 22: n.mode & 1 ? (_e = (i = _e) || n.memoizedState !== null, Vi(e, t, n), _e = i) : Vi(e, t, n); break; default: Vi(e, t, n) } } function c0(e) { var t = e.updateQueue; if (t !== null) { e.updateQueue = null; var n = e.stateNode; n === null && (n = e.stateNode = new Kb), t.forEach(function (i) { var s = rT.bind(null, e, i); n.has(i) || (n.add(i), i.then(s, s)) }) } } function Cn(e, t) { var n = t.deletions; if (n !== null) for (var i = 0; i < n.length; i++) { var s = n[i]; try { var r = e, o = t, a = o; t: for (; a !== null;) { switch (a.tag) { case 5: se = a.stateNode, Tn = !1; break t; case 3: se = a.stateNode.containerInfo, Tn = !0; break t; case 4: se = a.stateNode.containerInfo, Tn = !0; break t }a = a.return } if (se === null) throw Error(j(160)); cw(r, o, s), se = null, Tn = !1; var l = s.alternate; l !== null && (l.return = null), s.return = null } catch (c) { zt(s, t, c) } } if (t.subtreeFlags & 12854) for (t = t.child; t !== null;)uw(t, e), t = t.sibling } function uw(e, t) { var n = e.alternate, i = e.flags; switch (e.tag) { case 0: case 11: case 14: case 15: if (Cn(t, e), Bn(e), i & 4) { try { Ca(3, e, e.return), ph(3, e) } catch (p) { zt(e, e.return, p) } try { Ca(5, e, e.return) } catch (p) { zt(e, e.return, p) } } break; case 1: Cn(t, e), Bn(e), i & 512 && n !== null && $r(n, n.return); break; case 5: if (Cn(t, e), Bn(e), i & 512 && n !== null && $r(n, n.return), e.flags & 32) { var s = e.stateNode; try { Na(s, "") } catch (p) { zt(e, e.return, p) } } if (i & 4 && (s = e.stateNode, s != null)) { var r = e.memoizedProps, o = n !== null ? n.memoizedProps : r, a = e.type, l = e.updateQueue; if (e.updateQueue = null, l !== null) try { a === "input" && r.type === "radio" && r.name != null && Pv(s, r), Mf(a, o); var c = Mf(a, r); for (o = 0; o < l.length; o += 2) { var u = l[o], h = l[o + 1]; u === "style" ? Nv(s, h) : u === "dangerouslySetInnerHTML" ? Dv(s, h) : u === "children" ? Na(s, h) : rp(s, u, h, c) } switch (a) { case "input": Cf(s, r); break; case "textarea": Ov(s, r); break; case "select": var d = s._wrapperState.wasMultiple; s._wrapperState.wasMultiple = !!r.multiple; var f = r.value; f != null ? Jr(s, !!r.multiple, f, !1) : d !== !!r.multiple && (r.defaultValue != null ? Jr(s, !!r.multiple, r.defaultValue, !0) : Jr(s, !!r.multiple, r.multiple ? [] : "", !1)) }s[Ua] = r } catch (p) { zt(e, e.return, p) } } break; case 6: if (Cn(t, e), Bn(e), i & 4) { if (e.stateNode === null) throw Error(j(162)); s = e.stateNode, r = e.memoizedProps; try { s.nodeValue = r } catch (p) { zt(e, e.return, p) } } break; case 3: if (Cn(t, e), Bn(e), i & 4 && n !== null && n.memoizedState.isDehydrated) try { Ba(t.containerInfo) } catch (p) { zt(e, e.return, p) } break; case 4: Cn(t, e), Bn(e); break; case 13: Cn(t, e), Bn(e), s = e.child, s.flags & 8192 && (r = s.memoizedState !== null, s.stateNode.isHidden = r, !r || s.alternate !== null && s.alternate.memoizedState !== null || (zp = Bt())), i & 4 && c0(e); break; case 22: if (u = n !== null && n.memoizedState !== null, e.mode & 1 ? (_e = (c = _e) || u, Cn(t, e), _e = c) : Cn(t, e), Bn(e), i & 8192) { if (c = e.memoizedState !== null, (e.stateNode.isHidden = c) && !u && e.mode & 1) for (H = e, u = e.child; u !== null;) { for (h = H = u; H !== null;) { switch (d = H, f = d.child, d.tag) { case 0: case 11: case 14: case 15: Ca(4, d, d.return); break; case 1: $r(d, d.return); var g = d.stateNode; if (typeof g.componentWillUnmount == "function") { i = d, n = d.return; try { t = i, g.props = t.memoizedProps, g.state = t.memoizedState, g.componentWillUnmount() } catch (p) { zt(i, n, p) } } break; case 5: $r(d, d.return); break; case 22: if (d.memoizedState !== null) { h0(h); continue } }f !== null ? (f.return = d, H = f) : h0(h) } u = u.sibling } t: for (u = null, h = e; ;) { if (h.tag === 5) { if (u === null) { u = h; try { s = h.stateNode, c ? (r = s.style, typeof r.setProperty == "function" ? r.setProperty("display", "none", "important") : r.display = "none") : (a = h.stateNode, l = h.memoizedProps.style, o = l != null && l.hasOwnProperty("display") ? l.display : null, a.style.display = Fv("display", o)) } catch (p) { zt(e, e.return, p) } } } else if (h.tag === 6) { if (u === null) try { h.stateNode.nodeValue = c ? "" : h.memoizedProps } catch (p) { zt(e, e.return, p) } } else if ((h.tag !== 22 && h.tag !== 23 || h.memoizedState === null || h === e) && h.child !== null) { h.child.return = h, h = h.child; continue } if (h === e) break t; for (; h.sibling === null;) { if (h.return === null || h.return === e) break t; u === h && (u = null), h = h.return } u === h && (u = null), h.sibling.return = h.return, h = h.sibling } } break; case 19: Cn(t, e), Bn(e), i & 4 && c0(e); break; case 21: break; default: Cn(t, e), Bn(e) } } function Bn(e) { var t = e.flags; if (t & 2) { try { t: { for (var n = e.return; n !== null;) { if (lw(n)) { var i = n; break t } n = n.return } throw Error(j(160)) } switch (i.tag) { case 5: var s = i.stateNode; i.flags & 32 && (Na(s, ""), i.flags &= -33); var r = l0(e); rg(e, r, s); break; case 3: case 4: var o = i.stateNode.containerInfo, a = l0(e); sg(e, a, o); break; default: throw Error(j(161)) } } catch (l) { zt(e, e.return, l) } e.flags &= -3 } t & 4096 && (e.flags &= -4097) } function qb(e, t, n) { H = e, hw(e) } function hw(e, t, n) { for (var i = (e.mode & 1) !== 0; H !== null;) { var s = H, r = s.child; if (s.tag === 22 && i) { var o = s.memoizedState !== null || lc; if (!o) { var a = s.alternate, l = a !== null && a.memoizedState !== null || _e; a = lc; var c = _e; if (lc = o, (_e = l) && !c) for (H = s; H !== null;)o = H, l = o.child, o.tag === 22 && o.memoizedState !== null ? d0(s) : l !== null ? (l.return = o, H = l) : d0(s); for (; r !== null;)H = r, hw(r), r = r.sibling; H = s, lc = a, _e = c } u0(e) } else s.subtreeFlags & 8772 && r !== null ? (r.return = s, H = r) : u0(e) } } function u0(e) { for (; H !== null;) { var t = H; if (t.flags & 8772) { var n = t.alternate; try { if (t.flags & 8772) switch (t.tag) { case 0: case 11: case 15: _e || ph(5, t); break; case 1: var i = t.stateNode; if (t.flags & 4 && !_e) if (n === null) i.componentDidMount(); else { var s = t.elementType === t.type ? n.memoizedProps : bn(t.type, n.memoizedProps); i.componentDidUpdate(s, n.memoizedState, i.__reactInternalSnapshotBeforeUpdate) } var r = t.updateQueue; r !== null && $_(t, r, i); break; case 3: var o = t.updateQueue; if (o !== null) { if (n = null, t.child !== null) switch (t.child.tag) { case 5: n = t.child.stateNode; break; case 1: n = t.child.stateNode }$_(t, o, n) } break; case 5: var a = t.stateNode; if (n === null && t.flags & 4) { n = a; var l = t.memoizedProps; switch (t.type) { case "button": case "input": case "select": case "textarea": l.autoFocus && n.focus(); break; case "img": l.src && (n.src = l.src) } } break; case 6: break; case 4: break; case 12: break; case 13: if (t.memoizedState === null) { var c = t.alternate; if (c !== null) { var u = c.memoizedState; if (u !== null) { var h = u.dehydrated; h !== null && Ba(h) } } } break; case 19: case 17: case 21: case 22: case 23: case 25: break; default: throw Error(j(163)) }_e || t.flags & 512 && ig(t) } catch (d) { zt(t, t.return, d) } } if (t === e) { H = null; break } if (n = t.sibling, n !== null) { n.return = t.return, H = n; break } H = t.return } } function h0(e) { for (; H !== null;) { var t = H; if (t === e) { H = null; break } var n = t.sibling; if (n !== null) { n.return = t.return, H = n; break } H = t.return } } function d0(e) { for (; H !== null;) { var t = H; try { switch (t.tag) { case 0: case 11: case 15: var n = t.return; try { ph(4, t) } catch (l) { zt(t, n, l) } break; case 1: var i = t.stateNode; if (typeof i.componentDidMount == "function") { var s = t.return; try { i.componentDidMount() } catch (l) { zt(t, s, l) } } var r = t.return; try { ig(t) } catch (l) { zt(t, r, l) } break; case 5: var o = t.return; try { ig(t) } catch (l) { zt(t, o, l) } } } catch (l) { zt(t, t.return, l) } if (t === e) { H = null; break } var a = t.sibling; if (a !== null) { a.return = t.return, H = a; break } H = t.return } } var Jb = Math.ceil, Mu = Fi.ReactCurrentDispatcher, Fp = Fi.ReactCurrentOwner, pn = Fi.ReactCurrentBatchConfig, ut = 0, ee = null, Ht = null, ae = 0, He = 0, Kr = ks(0), $t = 0, Ja = null, hr = 0, mh = 0, Np = 0, Aa = null, ke = null, zp = 0, po = 1 / 0, pi = null, ku = !1, og = null, ps = null, cc = !1, is = null, Iu = 0, ba = 0, ag = null, $c = -1, Kc = 0; function be() { return ut & 6 ? Bt() : $c !== -1 ? $c : $c = Bt() } function ms(e) { return e.mode & 1 ? ut & 2 && ae !== 0 ? ae & -ae : Db.transition !== null ? (Kc === 0 && (Kc = Kv()), Kc) : (e = xt, e !== 0 || (e = window.event, e = e === void 0 ? 16 : n1(e.type)), e) : 1 } function Pn(e, t, n, i) { if (50 < ba) throw ba = 0, ag = null, Error(j(185)); Al(e, n, i), (!(ut & 2) || e !== ee) && (e === ee && (!(ut & 2) && (mh |= n), $t === 4 && es(e, ae)), je(e, i), n === 1 && ut === 0 && !(t.mode & 1) && (po = Bt() + 500, dh && Is())) } function je(e, t) { var n = e.callbackNode; DA(e, t); var i = gu(e, e === ee ? ae : 0); if (i === 0) n !== null && w_(n), e.callbackNode = null, e.callbackPriority = 0; else if (t = i & -i, e.callbackPriority !== t) { if (n != null && w_(n), t === 1) e.tag === 0 ? Lb(f0.bind(null, e)) : w1(f0.bind(null, e)), kb(function () { !(ut & 6) && Is() }), n = null; else { switch (Zv(i)) { case 1: n = up; break; case 4: n = Xv; break; case 16: n = fu; break; case 536870912: n = $v; break; default: n = fu }n = xw(n, dw.bind(null, e)) } e.callbackPriority = t, e.callbackNode = n } } function dw(e, t) { if ($c = -1, Kc = 0, ut & 6) throw Error(j(327)); var n = e.callbackNode; if (io() && e.callbackNode !== n) return null; var i = gu(e, e === ee ? ae : 0); if (i === 0) return null; if (i & 30 || i & e.expiredLanes || t) t = Pu(e, i); else { t = i; var s = ut; ut |= 2; var r = gw(); (ee !== e || ae !== t) && (pi = null, po = Bt() + 500, nr(e, t)); do try { eT(); break } catch (a) { fw(e, a) } while (!0); Sp(), Mu.current = r, ut = s, Ht !== null ? t = 0 : (ee = null, ae = 0, t = $t) } if (t !== 0) { if (t === 2 && (s = Lf(e), s !== 0 && (i = s, t = lg(e, s))), t === 1) throw n = Ja, nr(e, 0), es(e, i), je(e, Bt()), n; if (t === 6) es(e, i); else { if (s = e.current.alternate, !(i & 30) && !Qb(s) && (t = Pu(e, i), t === 2 && (r = Lf(e), r !== 0 && (i = r, t = lg(e, r))), t === 1)) throw n = Ja, nr(e, 0), es(e, i), je(e, Bt()), n; switch (e.finishedWork = s, e.finishedLanes = i, t) { case 0: case 1: throw Error(j(345)); case 2: Vs(e, ke, pi); break; case 3: if (es(e, i), (i & 130023424) === i && (t = zp + 500 - Bt(), 10 < t)) { if (gu(e, 0) !== 0) break; if (s = e.suspendedLanes, (s & i) !== i) { be(), e.pingedLanes |= e.suspendedLanes & s; break } e.timeoutHandle = Vf(Vs.bind(null, e, ke, pi), t); break } Vs(e, ke, pi); break; case 4: if (es(e, i), (i & 4194240) === i) break; for (t = e.eventTimes, s = -1; 0 < i;) { var o = 31 - In(i); r = 1 << o, o = t[o], o > s && (s = o), i &= ~r } if (i = s, i = Bt() - i, i = (120 > i ? 120 : 480 > i ? 480 : 1080 > i ? 1080 : 1920 > i ? 1920 : 3e3 > i ? 3e3 : 4320 > i ? 4320 : 1960 * Jb(i / 1960)) - i, 10 < i) { e.timeoutHandle = Vf(Vs.bind(null, e, ke, pi), i); break } Vs(e, ke, pi); break; case 5: Vs(e, ke, pi); break; default: throw Error(j(329)) } } } return je(e, Bt()), e.callbackNode === n ? dw.bind(null, e) : null } function lg(e, t) { var n = Aa; return e.current.memoizedState.isDehydrated && (nr(e, t).flags |= 256), e = Pu(e, t), e !== 2 && (t = ke, ke = n, t !== null && cg(t)), e } function cg(e) { ke === null ? ke = e : ke.push.apply(ke, e) } function Qb(e) { for (var t = e; ;) { if (t.flags & 16384) { var n = t.updateQueue; if (n !== null && (n = n.stores, n !== null)) for (var i = 0; i < n.length; i++) { var s = n[i], r = s.getSnapshot; s = s.value; try { if (!Dn(r(), s)) return !1 } catch { return !1 } } } if (n = t.child, t.subtreeFlags & 16384 && n !== null) n.return = t, t = n; else { if (t === e) break; for (; t.sibling === null;) { if (t.return === null || t.return === e) return !0; t = t.return } t.sibling.return = t.return, t = t.sibling } } return !0 } function es(e, t) { for (t &= ~Np, t &= ~mh, e.suspendedLanes |= t, e.pingedLanes &= ~t, e = e.expirationTimes; 0 < t;) { var n = 31 - In(t), i = 1 << n; e[n] = -1, t &= ~i } } function f0(e) { if (ut & 6) throw Error(j(327)); io(); var t = gu(e, 0); if (!(t & 1)) return je(e, Bt()), null; var n = Pu(e, t); if (e.tag !== 0 && n === 2) { var i = Lf(e); i !== 0 && (t = i, n = lg(e, i)) } if (n === 1) throw n = Ja, nr(e, 0), es(e, t), je(e, Bt()), n; if (n === 6) throw Error(j(345)); return e.finishedWork = e.current.alternate, e.finishedLanes = t, Vs(e, ke, pi), je(e, Bt()), null } function jp(e, t) { var n = ut; ut |= 1; try { return e(t) } finally { ut = n, ut === 0 && (po = Bt() + 500, dh && Is()) } } function dr(e) { is !== null && is.tag === 0 && !(ut & 6) && io(); var t = ut; ut |= 1; var n = pn.transition, i = xt; try { if (pn.transition = null, xt = 1, e) return e() } finally { xt = i, pn.transition = n, ut = t, !(ut & 6) && Is() } } function Wp() { He = Kr.current, Ct(Kr) } function nr(e, t) { e.finishedWork = null, e.finishedLanes = 0; var n = e.timeoutHandle; if (n !== -1 && (e.timeoutHandle = -1, Mb(n)), Ht !== null) for (n = Ht.return; n !== null;) { var i = n; switch (vp(i), i.tag) { case 1: i = i.type.childContextTypes, i != null && xu(); break; case 3: fo(), Ct(Ne), Ct(we), Mp(); break; case 5: Rp(i); break; case 4: fo(); break; case 13: Ct(Pt); break; case 19: Ct(Pt); break; case 10: Cp(i.type._context); break; case 22: case 23: Wp() }n = n.return } if (ee = e, Ht = e = _s(e.current, null), ae = He = t, $t = 0, Ja = null, Np = mh = hr = 0, ke = Aa = null, $s !== null) { for (t = 0; t < $s.length; t++)if (n = $s[t], i = n.interleaved, i !== null) { n.interleaved = null; var s = i.next, r = n.pending; if (r !== null) { var o = r.next; r.next = s, i.next = o } n.pending = i } $s = null } return e } function fw(e, t) { do { var n = Ht; try { if (Sp(), Gc.current = Ru, Tu) { for (var i = Ot.memoizedState; i !== null;) { var s = i.queue; s !== null && (s.pending = null), i = i.next } Tu = !1 } if (ur = 0, qt = Xt = Ot = null, Sa = !1, Ka = 0, Fp.current = null, n === null || n.return === null) { $t = 1, Ja = t, Ht = null; break } t: { var r = e, o = n.return, a = n, l = t; if (t = ae, a.flags |= 32768, l !== null && typeof l == "object" && typeof l.then == "function") { var c = l, u = a, h = u.tag; if (!(u.mode & 1) && (h === 0 || h === 11 || h === 15)) { var d = u.alternate; d ? (u.updateQueue = d.updateQueue, u.memoizedState = d.memoizedState, u.lanes = d.lanes) : (u.updateQueue = null, u.memoizedState = null) } var f = t0(o); if (f !== null) { f.flags &= -257, e0(f, o, a, r, t), f.mode & 1 && Q_(r, c, t), t = f, l = c; var g = t.updateQueue; if (g === null) { var p = new Set; p.add(l), t.updateQueue = p } else g.add(l); break t } else { if (!(t & 1)) { Q_(r, c, t), Bp(); break t } l = Error(j(426)) } } else if (Mt && a.mode & 1) { var y = t0(o); if (y !== null) { !(y.flags & 65536) && (y.flags |= 256), e0(y, o, a, r, t), wp(go(l, a)); break t } } r = l = go(l, a), $t !== 4 && ($t = 2), Aa === null ? Aa = [r] : Aa.push(r), r = o; do { switch (r.tag) { case 3: r.flags |= 65536, t &= -t, r.lanes |= t; var _ = Z1(r, l, t); X_(r, _); break t; case 1: a = l; var m = r.type, x = r.stateNode; if (!(r.flags & 128) && (typeof m.getDerivedStateFromError == "function" || x !== null && typeof x.componentDidCatch == "function" && (ps === null || !ps.has(x)))) { r.flags |= 65536, t &= -t, r.lanes |= t; var v = q1(r, a, t); X_(r, v); break t } }r = r.return } while (r !== null) } mw(n) } catch (w) { t = w, Ht === n && n !== null && (Ht = n = n.return); continue } break } while (!0) } function gw() { var e = Mu.current; return Mu.current = Ru, e === null ? Ru : e } function Bp() { ($t === 0 || $t === 3 || $t === 2) && ($t = 4), ee === null || !(hr & 268435455) && !(mh & 268435455) || es(ee, ae) } function Pu(e, t) { var n = ut; ut |= 2; var i = gw(); (ee !== e || ae !== t) && (pi = null, nr(e, t)); do try { tT(); break } catch (s) { fw(e, s) } while (!0); if (Sp(), ut = n, Mu.current = i, Ht !== null) throw Error(j(261)); return ee = null, ae = 0, $t } function tT() { for (; Ht !== null;)pw(Ht) } function eT() { for (; Ht !== null && !bA();)pw(Ht) } function pw(e) { var t = yw(e.alternate, e, He); e.memoizedProps = e.pendingProps, t === null ? mw(e) : Ht = t, Fp.current = null } function mw(e) { var t = e; do { var n = t.alternate; if (e = t.return, t.flags & 32768) { if (n = $b(n, t), n !== null) { n.flags &= 32767, Ht = n; return } if (e !== null) e.flags |= 32768, e.subtreeFlags = 0, e.deletions = null; else { $t = 6, Ht = null; return } } else if (n = Xb(n, t, He), n !== null) { Ht = n; return } if (t = t.sibling, t !== null) { Ht = t; return } Ht = t = e } while (t !== null); $t === 0 && ($t = 5) } function Vs(e, t, n) { var i = xt, s = pn.transition; try { pn.transition = null, xt = 1, nT(e, t, n, i) } finally { pn.transition = s, xt = i } return null } function nT(e, t, n, i) { do io(); while (is !== null); if (ut & 6) throw Error(j(327)); n = e.finishedWork; var s = e.finishedLanes; if (n === null) return null; if (e.finishedWork = null, e.finishedLanes = 0, n === e.current) throw Error(j(177)); e.callbackNode = null, e.callbackPriority = 0; var r = n.lanes | n.childLanes; if (FA(e, r), e === ee && (Ht = ee = null, ae = 0), !(n.subtreeFlags & 2064) && !(n.flags & 2064) || cc || (cc = !0, xw(fu, function () { return io(), null })), r = (n.flags & 15990) !== 0, n.subtreeFlags & 15990 || r) { r = pn.transition, pn.transition = null; var o = xt; xt = 1; var a = ut; ut |= 4, Fp.current = null, Zb(e, n), uw(n, e), Eb(Wf), pu = !!jf, Wf = jf = null, e.current = n, qb(n), TA(), ut = a, xt = o, pn.transition = r } else e.current = n; if (cc && (cc = !1, is = e, Iu = s), r = e.pendingLanes, r === 0 && (ps = null), kA(n.stateNode), je(e, Bt()), t !== null) for (i = e.onRecoverableError, n = 0; n < t.length; n++)s = t[n], i(s.value, { componentStack: s.stack, digest: s.digest }); if (ku) throw ku = !1, e = og, og = null, e; return Iu & 1 && e.tag !== 0 && io(), r = e.pendingLanes, r & 1 ? e === ag ? ba++ : (ba = 0, ag = e) : ba = 0, Is(), null } function io() { if (is !== null) { var e = Zv(Iu), t = pn.transition, n = xt; try { if (pn.transition = null, xt = 16 > e ? 16 : e, is === null) var i = !1; else { if (e = is, is = null, Iu = 0, ut & 6) throw Error(j(331)); var s = ut; for (ut |= 4, H = e.current; H !== null;) { var r = H, o = r.child; if (H.flags & 16) { var a = r.deletions; if (a !== null) { for (var l = 0; l < a.length; l++) { var c = a[l]; for (H = c; H !== null;) { var u = H; switch (u.tag) { case 0: case 11: case 15: Ca(8, u, r) }var h = u.child; if (h !== null) h.return = u, H = h; else for (; H !== null;) { u = H; var d = u.sibling, f = u.return; if (aw(u), u === c) { H = null; break } if (d !== null) { d.return = f, H = d; break } H = f } } } var g = r.alternate; if (g !== null) { var p = g.child; if (p !== null) { g.child = null; do { var y = p.sibling; p.sibling = null, p = y } while (p !== null) } } H = r } } if (r.subtreeFlags & 2064 && o !== null) o.return = r, H = o; else t: for (; H !== null;) { if (r = H, r.flags & 2048) switch (r.tag) { case 0: case 11: case 15: Ca(9, r, r.return) }var _ = r.sibling; if (_ !== null) { _.return = r.return, H = _; break t } H = r.return } } var m = e.current; for (H = m; H !== null;) { o = H; var x = o.child; if (o.subtreeFlags & 2064 && x !== null) x.return = o, H = x; else t: for (o = m; H !== null;) { if (a = H, a.flags & 2048) try { switch (a.tag) { case 0: case 11: case 15: ph(9, a) } } catch (w) { zt(a, a.return, w) } if (a === o) { H = null; break t } var v = a.sibling; if (v !== null) { v.return = a.return, H = v; break t } H = a.return } } if (ut = s, Is(), Jn && typeof Jn.onPostCommitFiberRoot == "function") try { Jn.onPostCommitFiberRoot(ah, e) } catch { } i = !0 } return i } finally { xt = n, pn.transition = t } } return !1 } function g0(e, t, n) { t = go(n, t), t = Z1(e, t, 1), e = gs(e, t, 1), t = be(), e !== null && (Al(e, 1, t), je(e, t)) } function zt(e, t, n) { if (e.tag === 3) g0(e, e, n); else for (; t !== null;) { if (t.tag === 3) { g0(t, e, n); break } else if (t.tag === 1) { var i = t.stateNode; if (typeof t.type.getDerivedStateFromError == "function" || typeof i.componentDidCatch == "function" && (ps === null || !ps.has(i))) { e = go(n, e), e = q1(t, e, 1), t = gs(t, e, 1), e = be(), t !== null && (Al(t, 1, e), je(t, e)); break } } t = t.return } } function iT(e, t, n) { var i = e.pingCache; i !== null && i.delete(t), t = be(), e.pingedLanes |= e.suspendedLanes & n, ee === e && (ae & n) === n && ($t === 4 || $t === 3 && (ae & 130023424) === ae && 500 > Bt() - zp ? nr(e, 0) : Np |= n), je(e, t) } function _w(e, t) { t === 0 && (e.mode & 1 ? (t = Ql, Ql <<= 1, !(Ql & 130023424) && (Ql = 4194304)) : t = 1); var n = be(); e = Pi(e, t), e !== null && (Al(e, t, n), je(e, n)) } function sT(e) { var t = e.memoizedState, n = 0; t !== null && (n = t.retryLane), _w(e, n) } function rT(e, t) { var n = 0; switch (e.tag) { case 13: var i = e.stateNode, s = e.memoizedState; s !== null && (n = s.retryLane); break; case 19: i = e.stateNode; break; default: throw Error(j(314)) }i !== null && i.delete(t), _w(e, n) } var yw; yw = function (e, t, n) { if (e !== null) if (e.memoizedProps !== t.pendingProps || Ne.current) Fe = !0; else { if (!(e.lanes & n) && !(t.flags & 128)) return Fe = !1, Ub(e, t, n); Fe = !!(e.flags & 131072) } else Fe = !1, Mt && t.flags & 1048576 && E1(t, Eu, t.index); switch (t.lanes = 0, t.tag) { case 2: var i = t.type; Xc(e, t), e = t.pendingProps; var s = co(t, we.current); no(t, n), s = Ip(null, t, i, e, s, n); var r = Pp(); return t.flags |= 1, typeof s == "object" && s !== null && typeof s.render == "function" && s.$$typeof === void 0 ? (t.tag = 1, t.memoizedState = null, t.updateQueue = null, ze(i) ? (r = !0, vu(t)) : r = !1, t.memoizedState = s.state !== null && s.state !== void 0 ? s.state : null, bp(t), s.updater = gh, t.stateNode = s, s._reactInternals = t, Kf(t, i, e, n), t = Jf(null, t, i, !0, r, n)) : (t.tag = 0, Mt && r && xp(t), Ae(null, t, s, n), t = t.child), t; case 16: i = t.elementType; t: { switch (Xc(e, t), e = t.pendingProps, s = i._init, i = s(i._payload), t.type = i, s = t.tag = aT(i), e = bn(i, e), s) { case 0: t = qf(null, t, i, e, n); break t; case 1: t = s0(null, t, i, e, n); break t; case 11: t = n0(null, t, i, e, n); break t; case 14: t = i0(null, t, i, bn(i.type, e), n); break t }throw Error(j(306, i, "")) } return t; case 0: return i = t.type, s = t.pendingProps, s = t.elementType === i ? s : bn(i, s), qf(e, t, i, s, n); case 1: return i = t.type, s = t.pendingProps, s = t.elementType === i ? s : bn(i, s), s0(e, t, i, s, n); case 3: t: { if (ew(t), e === null) throw Error(j(387)); i = t.pendingProps, r = t.memoizedState, s = r.element, R1(e, t), Au(t, i, null, n); var o = t.memoizedState; if (i = o.element, r.isDehydrated) if (r = { element: i, isDehydrated: !1, cache: o.cache, pendingSuspenseBoundaries: o.pendingSuspenseBoundaries, transitions: o.transitions }, t.updateQueue.baseState = r, t.memoizedState = r, t.flags & 256) { s = go(Error(j(423)), t), t = r0(e, t, i, n, s); break t } else if (i !== s) { s = go(Error(j(424)), t), t = r0(e, t, i, n, s); break t } else for (Xe = fs(t.stateNode.containerInfo.firstChild), Ze = t, Mt = !0, Rn = null, n = b1(t, null, i, n), t.child = n; n;)n.flags = n.flags & -3 | 4096, n = n.sibling; else { if (uo(), i === s) { t = Oi(e, t, n); break t } Ae(e, t, i, n) } t = t.child } return t; case 5: return M1(t), e === null && Uf(t), i = t.type, s = t.pendingProps, r = e !== null ? e.memoizedProps : null, o = s.children, Bf(i, s) ? o = null : r !== null && Bf(i, r) && (t.flags |= 32), tw(e, t), Ae(e, t, o, n), t.child; case 6: return e === null && Uf(t), null; case 13: return nw(e, t, n); case 4: return Tp(t, t.stateNode.containerInfo), i = t.pendingProps, e === null ? t.child = ho(t, null, i, n) : Ae(e, t, i, n), t.child; case 11: return i = t.type, s = t.pendingProps, s = t.elementType === i ? s : bn(i, s), n0(e, t, i, s, n); case 7: return Ae(e, t, t.pendingProps, n), t.child; case 8: return Ae(e, t, t.pendingProps.children, n), t.child; case 12: return Ae(e, t, t.pendingProps.children, n), t.child; case 10: t: { if (i = t.type._context, s = t.pendingProps, r = t.memoizedProps, o = s.value, wt(Su, i._currentValue), i._currentValue = o, r !== null) if (Dn(r.value, o)) { if (r.children === s.children && !Ne.current) { t = Oi(e, t, n); break t } } else for (r = t.child, r !== null && (r.return = t); r !== null;) { var a = r.dependencies; if (a !== null) { o = r.child; for (var l = a.firstContext; l !== null;) { if (l.context === i) { if (r.tag === 1) { l = Ai(-1, n & -n), l.tag = 2; var c = r.updateQueue; if (c !== null) { c = c.shared; var u = c.pending; u === null ? l.next = l : (l.next = u.next, u.next = l), c.pending = l } } r.lanes |= n, l = r.alternate, l !== null && (l.lanes |= n), Xf(r.return, n, t), a.lanes |= n; break } l = l.next } } else if (r.tag === 10) o = r.type === t.type ? null : r.child; else if (r.tag === 18) { if (o = r.return, o === null) throw Error(j(341)); o.lanes |= n, a = o.alternate, a !== null && (a.lanes |= n), Xf(o, n, t), o = r.sibling } else o = r.child; if (o !== null) o.return = r; else for (o = r; o !== null;) { if (o === t) { o = null; break } if (r = o.sibling, r !== null) { r.return = o.return, o = r; break } o = o.return } r = o } Ae(e, t, s.children, n), t = t.child } return t; case 9: return s = t.type, i = t.pendingProps.children, no(t, n), s = yn(s), i = i(s), t.flags |= 1, Ae(e, t, i, n), t.child; case 14: return i = t.type, s = bn(i, t.pendingProps), s = bn(i.type, s), i0(e, t, i, s, n); case 15: return J1(e, t, t.type, t.pendingProps, n); case 17: return i = t.type, s = t.pendingProps, s = t.elementType === i ? s : bn(i, s), Xc(e, t), t.tag = 1, ze(i) ? (e = !0, vu(t)) : e = !1, no(t, n), K1(t, i, s), Kf(t, i, s, n), Jf(null, t, i, !0, e, n); case 19: return iw(e, t, n); case 22: return Q1(e, t, n) }throw Error(j(156, t.tag)) }; function xw(e, t) { return Uv(e, t) } function oT(e, t, n, i) { this.tag = e, this.key = n, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.ref = null, this.pendingProps = t, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = i, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function fn(e, t, n, i) { return new oT(e, t, n, i) } function Vp(e) { return e = e.prototype, !(!e || !e.isReactComponent) } function aT(e) { if (typeof e == "function") return Vp(e) ? 1 : 0; if (e != null) { if (e = e.$$typeof, e === ap) return 11; if (e === lp) return 14 } return 2 } function _s(e, t) { var n = e.alternate; return n === null ? (n = fn(e.tag, t, e.key, e.mode), n.elementType = e.elementType, n.type = e.type, n.stateNode = e.stateNode, n.alternate = e, e.alternate = n) : (n.pendingProps = t, n.type = e.type, n.flags = 0, n.subtreeFlags = 0, n.deletions = null), n.flags = e.flags & 14680064, n.childLanes = e.childLanes, n.lanes = e.lanes, n.child = e.child, n.memoizedProps = e.memoizedProps, n.memoizedState = e.memoizedState, n.updateQueue = e.updateQueue, t = e.dependencies, n.dependencies = t === null ? null : { lanes: t.lanes, firstContext: t.firstContext }, n.sibling = e.sibling, n.index = e.index, n.ref = e.ref, n } function Zc(e, t, n, i, s, r) { var o = 2; if (i = e, typeof e == "function") Vp(e) && (o = 1); else if (typeof e == "string") o = 5; else t: switch (e) { case jr: return ir(n.children, s, r, t); case op: o = 8, s |= 8; break; case xf: return e = fn(12, n, t, s | 2), e.elementType = xf, e.lanes = r, e; case vf: return e = fn(13, n, t, s), e.elementType = vf, e.lanes = r, e; case wf: return e = fn(19, n, t, s), e.elementType = wf, e.lanes = r, e; case Mv: return _h(n, s, r, t); default: if (typeof e == "object" && e !== null) switch (e.$$typeof) { case Tv: o = 10; break t; case Rv: o = 9; break t; case ap: o = 11; break t; case lp: o = 14; break t; case qi: o = 16, i = null; break t }throw Error(j(130, e == null ? e : typeof e, "")) }return t = fn(o, n, t, s), t.elementType = e, t.type = i, t.lanes = r, t } function ir(e, t, n, i) { return e = fn(7, e, i, t), e.lanes = n, e } function _h(e, t, n, i) { return e = fn(22, e, i, t), e.elementType = Mv, e.lanes = n, e.stateNode = { isHidden: !1 }, e } function kd(e, t, n) { return e = fn(6, e, null, t), e.lanes = n, e } function Id(e, t, n) { return t = fn(4, e.children !== null ? e.children : [], e.key, t), t.lanes = n, t.stateNode = { containerInfo: e.containerInfo, pendingChildren: null, implementation: e.implementation }, t } function lT(e, t, n, i, s) { this.tag = t, this.containerInfo = e, this.finishedWork = this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.pendingContext = this.context = null, this.callbackPriority = 0, this.eventTimes = hd(0), this.expirationTimes = hd(-1), this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = hd(0), this.identifierPrefix = i, this.onRecoverableError = s, this.mutableSourceEagerHydrationData = null } function Yp(e, t, n, i, s, r, o, a, l) { return e = new lT(e, t, n, a, l), t === 1 ? (t = 1, r === !0 && (t |= 8)) : t = 0, r = fn(3, null, null, t), e.current = r, r.stateNode = e, r.memoizedState = { element: i, isDehydrated: n, cache: null, transitions: null, pendingSuspenseBoundaries: null }, bp(r), e } function cT(e, t, n) { var i = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null; return { $$typeof: zr, key: i == null ? null : "" + i, children: e, containerInfo: t, implementation: n } } function vw(e) { if (!e) return Es; e = e._reactInternals; t: { if (xr(e) !== e || e.tag !== 1) throw Error(j(170)); var t = e; do { switch (t.tag) { case 3: t = t.stateNode.context; break t; case 1: if (ze(t.type)) { t = t.stateNode.__reactInternalMemoizedMergedChildContext; break t } }t = t.return } while (t !== null); throw Error(j(171)) } if (e.tag === 1) { var n = e.type; if (ze(n)) return v1(e, n, t) } return t } function ww(e, t, n, i, s, r, o, a, l) { return e = Yp(n, i, !0, e, s, r, o, a, l), e.context = vw(null), n = e.current, i = be(), s = ms(n), r = Ai(i, s), r.callback = t ?? null, gs(n, r, s), e.current.lanes = s, Al(e, s, i), je(e, i), e } function yh(e, t, n, i) { var s = t.current, r = be(), o = ms(s); return n = vw(n), t.context === null ? t.context = n : t.pendingContext = n, t = Ai(r, o), t.payload = { element: e }, i = i === void 0 ? null : i, i !== null && (t.callback = i), e = gs(s, t, o), e !== null && (Pn(e, s, o, r), Hc(e, s, o)), o } function Ou(e) { if (e = e.current, !e.child) return null; switch (e.child.tag) { case 5: return e.child.stateNode; default: return e.child.stateNode } } function p0(e, t) { if (e = e.memoizedState, e !== null && e.dehydrated !== null) { var n = e.retryLane; e.retryLane = n !== 0 && n < t ? n : t } } function Hp(e, t) { p0(e, t), (e = e.alternate) && p0(e, t) } function uT() { return null } var Ew = typeof reportError == "function" ? reportError : function (e) { console.error(e) }; function Gp(e) { this._internalRoot = e } xh.prototype.render = Gp.prototype.render = function (e) { var t = this._internalRoot; if (t === null) throw Error(j(409)); yh(e, t, null, null) }; xh.prototype.unmount = Gp.prototype.unmount = function () { var e = this._internalRoot; if (e !== null) { this._internalRoot = null; var t = e.containerInfo; dr(function () { yh(null, e, null, null) }), t[Ii] = null } }; function xh(e) { this._internalRoot = e } xh.prototype.unstable_scheduleHydration = function (e) { if (e) { var t = Qv(); e = { blockedOn: null, target: e, priority: t }; for (var n = 0; n < ts.length && t !== 0 && t < ts[n].priority; n++); ts.splice(n, 0, e), n === 0 && e1(e) } }; function Up(e) { return !(!e || e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11) } function vh(e) { return !(!e || e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11 && (e.nodeType !== 8 || e.nodeValue !== " react-mount-point-unstable ")) } function m0() { } function hT(e, t, n, i, s) { if (s) { if (typeof i == "function") { var r = i; i = function () { var c = Ou(o); r.call(c) } } var o = ww(t, i, e, 0, null, !1, !1, "", m0); return e._reactRootContainer = o, e[Ii] = o.current, Ha(e.nodeType === 8 ? e.parentNode : e), dr(), o } for (; s = e.lastChild;)e.removeChild(s); if (typeof i == "function") { var a = i; i = function () { var c = Ou(l); a.call(c) } } var l = Yp(e, 0, !1, null, null, !1, !1, "", m0); return e._reactRootContainer = l, e[Ii] = l.current, Ha(e.nodeType === 8 ? e.parentNode : e), dr(function () { yh(t, l, n, i) }), l } function wh(e, t, n, i, s) { var r = n._reactRootContainer; if (r) { var o = r; if (typeof s == "function") { var a = s; s = function () { var l = Ou(o); a.call(l) } } yh(t, o, e, s) } else o = hT(n, t, e, s, i); return Ou(o) } qv = function (e) { switch (e.tag) { case 3: var t = e.stateNode; if (t.current.memoizedState.isDehydrated) { var n = oa(t.pendingLanes); n !== 0 && (hp(t, n | 1), je(t, Bt()), !(ut & 6) && (po = Bt() + 500, Is())) } break; case 13: dr(function () { var i = Pi(e, 1); if (i !== null) { var s = be(); Pn(i, e, 1, s) } }), Hp(e, 1) } }; dp = function (e) { if (e.tag === 13) { var t = Pi(e, 134217728); if (t !== null) { var n = be(); Pn(t, e, 134217728, n) } Hp(e, 134217728) } }; Jv = function (e) { if (e.tag === 13) { var t = ms(e), n = Pi(e, t); if (n !== null) { var i = be(); Pn(n, e, t, i) } Hp(e, t) } }; Qv = function () { return xt }; t1 = function (e, t) { var n = xt; try { return xt = e, t() } finally { xt = n } }; If = function (e, t, n) { switch (t) { case "input": if (Cf(e, n), t = n.name, n.type === "radio" && t != null) { for (n = e; n.parentNode;)n = n.parentNode; for (n = n.querySelectorAll("input[name=" + JSON.stringify("" + t) + '][type="radio"]'), t = 0; t < n.length; t++) { var i = n[t]; if (i !== e && i.form === e.form) { var s = hh(i); if (!s) throw Error(j(90)); Iv(i), Cf(i, s) } } } break; case "textarea": Ov(e, n); break; case "select": t = n.value, t != null && Jr(e, !!n.multiple, t, !1) } }; Wv = jp; Bv = dr; var dT = { usingClientEntryPoint: !1, Events: [Tl, Yr, hh, zv, jv, jp] }, Xo = { findFiberByHostInstance: Xs, bundleType: 0, version: "18.3.1", rendererPackageName: "react-dom" }, fT = { bundleType: Xo.bundleType, version: Xo.version, rendererPackageName: Xo.rendererPackageName, rendererConfig: Xo.rendererConfig, overrideHookState: null, overrideHookStateDeletePath: null, overrideHookStateRenamePath: null, overrideProps: null, overridePropsDeletePath: null, overridePropsRenamePath: null, setErrorHandler: null, setSuspenseHandler: null, scheduleUpdate: null, currentDispatcherRef: Fi.ReactCurrentDispatcher, findHostInstanceByFiber: function (e) { return e = Hv(e), e === null ? null : e.stateNode }, findFiberByHostInstance: Xo.findFiberByHostInstance || uT, findHostInstancesForRefresh: null, scheduleRefresh: null, scheduleRoot: null, setRefreshHandler: null, getCurrentFiber: null, reconcilerVersion: "18.3.1-next-f1338f8080-20240426" }; if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") { var uc = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!uc.isDisabled && uc.supportsFiber) try { ah = uc.inject(fT), Jn = uc } catch { } } tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = dT; tn.createPortal = function (e, t) { var n = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null; if (!Up(t)) throw Error(j(200)); return cT(e, t, null, n) }; tn.createRoot = function (e, t) { if (!Up(e)) throw Error(j(299)); var n = !1, i = "", s = Ew; return t != null && (t.unstable_strictMode === !0 && (n = !0), t.identifierPrefix !== void 0 && (i = t.identifierPrefix), t.onRecoverableError !== void 0 && (s = t.onRecoverableError)), t = Yp(e, 1, !1, null, null, n, !1, i, s), e[Ii] = t.current, Ha(e.nodeType === 8 ? e.parentNode : e), new Gp(t) }; tn.findDOMNode = function (e) { if (e == null) return null; if (e.nodeType === 1) return e; var t = e._reactInternals; if (t === void 0) throw typeof e.render == "function" ? Error(j(188)) : (e = Object.keys(e).join(","), Error(j(268, e))); return e = Hv(t), e = e === null ? null : e.stateNode, e }; tn.flushSync = function (e) { return dr(e) }; tn.hydrate = function (e, t, n) { if (!vh(t)) throw Error(j(200)); return wh(null, e, t, !0, n) }; tn.hydrateRoot = function (e, t, n) { if (!Up(e)) throw Error(j(405)); var i = n != null && n.hydratedSources || null, s = !1, r = "", o = Ew; if (n != null && (n.unstable_strictMode === !0 && (s = !0), n.identifierPrefix !== void 0 && (r = n.identifierPrefix), n.onRecoverableError !== void 0 && (o = n.onRecoverableError)), t = ww(t, null, e, 1, n ?? null, s, !1, r, o), e[Ii] = t.current, Ha(e), i) for (e = 0; e < i.length; e++)n = i[e], s = n._getVersion, s = s(n._source), t.mutableSourceEagerHydrationData == null ? t.mutableSourceEagerHydrationData = [n, s] : t.mutableSourceEagerHydrationData.push(n, s); return new xh(t) }; tn.render = function (e, t, n) { if (!vh(t)) throw Error(j(200)); return wh(null, e, t, !1, n) }; tn.unmountComponentAtNode = function (e) { if (!vh(e)) throw Error(j(40)); return e._reactRootContainer ? (dr(function () { wh(null, null, e, !1, function () { e._reactRootContainer = null, e[Ii] = null }) }), !0) : !1 }; tn.unstable_batchedUpdates = jp; tn.unstable_renderSubtreeIntoContainer = function (e, t, n, i) { if (!vh(n)) throw Error(j(200)); if (e == null || e._reactInternals === void 0) throw Error(j(38)); return wh(e, t, n, !1, i) }; tn.version = "18.3.1-next-f1338f8080-20240426"; function Sw() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw) } catch (e) { console.error(e) } } Sw(), Sv.exports = tn; var gT = Sv.exports, _0 = gT; _f.createRoot = _0.createRoot, _f.hydrateRoot = _0.hydrateRoot; const pT = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAABQCAYAAAD4O2hnAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE+WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CiAgICAgICAgPHJkZjpSREYgeG1sbnM6cmRmPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjJz4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpkYz0naHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8nPgogICAgICAgIDxkYzp0aXRsZT4KICAgICAgICA8cmRmOkFsdD4KICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPlVudGl0bGVkIGRlc2lnbiAtIDE8L3JkZjpsaT4KICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgPC9kYzp0aXRsZT4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogICAgICAgIDxBdHRyaWI6QWRzPgogICAgICAgIDxyZGY6U2VxPgogICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI0LTA0LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICAgICA8QXR0cmliOkV4dElkPjdkYjc1OTgwLTdmZTMtNDEwYS05MGZhLTYzYzFkY2I3M2NmMzwvQXR0cmliOkV4dElkPgogICAgICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgPC9yZGY6U2VxPgogICAgICAgIDwvQXR0cmliOkFkcz4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogICAgICAgIDxwZGY6QXV0aG9yPlJvZHdlbGwgU3QgQ2xhaXI8L3BkZjpBdXRob3I+CiAgICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CgogICAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgICAgICAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhIChSZW5kZXJlcik8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgICAKICAgICAgICA8L3JkZjpSREY+CiAgICAgICAgPC94OnhtcG1ldGE+mnc2+wAACptJREFUeJzs3P2v12Udx/EXSHA8cASqoyCegIBC8BAQKFDOstoy55wrqxXVplZLc90sRtmNNV0xarWKWjfM5rCaZatmWVuLuaYEcpMnbiS5U09gx4Dk/nBzoD/is+v64bPH4x94/nLOdc77+zo7w4bOvulCKnjs8fG59e4ra6Ty/Xv35Lb3DFRpvfatCzJwcGTxzrxZx/PEw/8s3kmS+3/Qk2/8qKdK68mH+zJ31oninQMDIzPj7QuKd5Lk9lv/k+99ZW+V1rvvujJ//tv44p1r3nAsax/aWryTJB+9Z3p+8eilVVr7123IuK6h4p11W7ryjo/0Fu8kyX2feT6fvW1/ldYbb56bnXs7i3em9gxm22NbineSZNWaiVm+cmqV1h9Xb89brjlSvHNqcHhevXBR8U6SrFi2L3d/+MUqrVctWJTB08OLd65f/HIe/cmO4p0kWbZian7484lVWtv/tDlTrjhdvLNjd2cW3jK3eCdJPnf7v/O1T79QpfW2D12V9U9fUrzzyrHn0v/EU8U7SfLQ77vz8S/NqNI6sXVdlY77oxn3RzPuj2bcH824P5pxfzTj/mjG/dGM+6MZ90czNe+PB1Y8m/fdeLBKy/vXjPevGe9fM+W/cwEAAAAAAACowgAMAAAAAAAA0BIGYAAAAAAAAICWMAADAAAAAAAAtIQBGAAAAAAAAKAlDMAAAAAAAAAALWEABgAAAAAAAGgJAzAAAAAAAABASxiAAQAAAAAAAFrCAAwAAAAAAADQEgZgAAAAAAAAgJYwAAMAAAAAAAC0hAEYAAAAAAAAoCUMwAAAAAAAAAAtYQAGAAAAAAAAaAkDMAAAAAAAAEBLGIABAAAAAAAAWsIADAAAAAAAANASBmAAAAAAAACAljAAAwAAAAAAALSEARgAAAAAAACgJQzAAAAAAAAAAC1hAAYAAAAAAABoCQMwAAAAAAAAQEsYgAEAAAAAAABaYtiDv77lQo3QoSMjsmNXZ41Upk8+lYndZ6u01vd15ezZYcU7YzqHMm/WieKdJHn+wKi8cGBUlda8WcczpvN88c7ps8PyVF9X8U6STOg+kxmTB6u0tu/qzOEjI4p3xl1yLr2vO1m8kyT/2teRlw6NrNJaPO9oRlxUvnP0+EXp2zm6fCjJlCsG0zPhTJXWpm1jcmqw/N8RdYw6n4W9x4t3kmT/wMjs7e+o0up9/YmM6xoq3hk6n6zbcknxTpJMe81gLr+0ztffk1u6cv58+Z+/Nd+/Pf0dOTBQ5/1bOOdYOkaW/xXw5ODwbN42pngnSXomns6USaertPp2js7R4+V/gIwYcSGL5x4r3kmSgUOvyLP7Lq7SunbB0Sod90cz7o9m3B/NuD+acX804/5oxv3RjPujGfdHM+6PZmreHzOnnUz3+HNVWt6/Zrx/zXj/mhnWMXNZlQH4husO55FVO2uk8smvTsvPfnNZldaetRszocKHPVu2j8m1759TvJMk93yiP1+8s79Ka8l756TvmfIP08TuM9m9dlPxTpKs/tVl+dR906q0Hln1TG647n/FOxv6unL90t7inST56dd35QM3/bdKa9KSq/PysfIfYC2ZfzR/eXBb8U6SfPk7k/PtByZVaW3+3T8yc9qp4p19/R256l3zi3eS5K6lB7Jy+XNVWjfeMTuPbxhbvHNxx1AObtxQvJMky1dOyao1l1dpHdq0Ph2jyn+Av/bvY3PTx2YX7yTJNz+/L3d+8MUqrdnvnJ/n9pf/sHHW9JPZ+Nuni3eS5FurJ+Xe706u0vrrmq1ZVOEwOHxkRHrefHXxTpIsvfml/Pj+3VVao3uXVOm4P5pxfzTj/mjG/dGM+6MZ90cz7o9m3B/NuD+acX80U/P+uOMLM/LLP3RXaXn/mvH+NeP9a8a/gAYAAAAAAABoCQMwAAAAAAAAQEsYgAEAAAAAAABawgAMAAAAAAAA0BIGYAAAAAAAAICWMAADAAAAAAAAtIQBGAAAAAAAAKAlDMAAAAAAAAAALWEABgAAAAAAAGgJAzAAAAAAAABASxiAAQAAAAAAAFrCAAwAAAAAAADQEv8HAAD//+3c3WvWZRzH8Y8P6ZqbKTVx5VJTK6WVI0Ulgko66iAipKMKlOgghIrsIEKIgqTDwgiKILJAOgrJOooIFZGUlg+YpuJjTTRSp06nsz/ix/U7uHi9/oH3ybh2f+/PmAEYAAAAAAAAoBIGYAAAAAAAAIBKGIABAAAAAAAAKmEABgAAAAAAAKiEARgAAAAAAACgEgZgAAAAAAAAgEoYgAEAAAAAAAAqYQAGAAAAAAAAqIQBGAAAAAAAAKASBmAAAAAAAACAShiAAQAAAAAAACphAAYAAAAAAACohAEYAAAAAAAAoBLjvvruuVtthM5fmJgDhzvbSGX+7Kvp7RltpbVzsDujo+OKd7o6b2Zg0eXinSQ5fmZyTpyZ3EprYNFwujrHineujY7LrsHu4p0kmdlzPQtmj7TS2n+4M/9emFi8M23qjfTff6V4J0n+PNaRs+cntdJaMXApEyeUfwIvDk/I4MEpxTtJMmfWSPpmXm+l9du+rlwdKf93RB2Tx7K0f7h4J0lOD03K0ZMdrbT6H7icad03i3dujiU79kwt3kmSefeO5O4Z7fz8bd/TnbGx8r9/23z/jpzsyJmhdt6/pQ9fSsek8u/flZHx2b2vq3gnSfp6r2XOPddaaQ0enJKLwxOKdyZOuJUVA5eKd5Jk6PxtOXTs9lZajy+52ErH/dGM+6MZ90cz7o9m3B/NuD+acX804/5oxv3RjPujmTbvjwfnXUnP9ButtLx/zXj/mvH+NTPu5uhjrQzAW3+ZnlVrF7aRyifrj2T1qqFWWvc9uSRD58o/FgOLhrNt8x/FO0nywca+fPhZXyut7ZsHs7iFL5bOnJ2UBSuXFO8kyZpV/+Tj9UdbaT3/2sL89Ov04p1lj1zKz5v2Fu8kySvvzM+3W2a00jq9fVemTS3/YWnHnu48/XJ/8U6SvP/G8by5+nQrrUefXZyDR8t/sJ3bN5J9W/cU7yTJxq978/ZHc1tp/fDF/jyx7ELxztWR8blr6fLinSTZsO5Y1r70dyutO5csz8i18l8APrX8v2z5/EDxTpKs2zA3n37T20pr/4+7M2dW+Q/rB/7qzNLnFhfvJMlba07lvddPtNJa+eJD2fl7+S82p99xI6e27SreSZJN3/fk1XcXtNK6vHdHKx33RzPuj2bcH824P5pxfzTj/mjG/dGM+6MZ90cz7o9m2rw/vtxwKC88c66VlvevGe9fM96/ZvwLaAAAAAAAAIBKGIABAAAAAAAAKmEABgAAAAAAAKiEARgAAAAAAACgEgZgAAAAAAAAgEoYgAEAAAAAAAAqYQAGAAAAAAAAqIQBGAAAAAAAAKASBmAAAAAAAACAShiAAQAAAAAAACphAAYAAAAAAACohAEYAAAAAAAAoBIGYAAAAAAAAIBKGIABAAAAAAAAKmEABgAAAAAAAKiEARgAAAAAAACgEgZgAAAAAAAAgEoYgAEAAAAAAAAqYQAGAAAAAAAAqIQBGAAAAAAAAKASBmAAAAAAAACAShiAAQAAAAAAACphAAYAAAAAAACohAEYAAAAAAAAoBIGYAAAAAAAAIBK/A8jtSnEkgmBLQAAAABJRU5ErkJggg==", mT ="/static/crimewatchlogo-BoZm7hos.png";class Ni{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const mo={PROPERTYCHANGE:"propertychange"};class Xp{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function _T(e,t,n){let i,s;n=n||bi;let r=0,o=e.length,a=!1;for(;r<o;)i=r+(o-r>>1),s=+n(e[i],t),s<0?r=i+1:(o=i,a=!s);return a?r:~r}function bi(e,t){return e>t?1:e<t?-1:0}function $p(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const r=e[s];if(r===t)return s;if(r<t)return n(t,e[s-1],r)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(e[s]<t)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(let s=1;s<i;++s){if(e[s]==t)return s;if(e[s]<t)return e[s-1]-t<t-e[s]?s-1:s}return i-1}function yT(e,t,n){for(;t<n;){const i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function Kp(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let s=0;s<i;s++)e[e.length]=n[s]}function Ps(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function xT(e,t,n){const i=t||bi;return e.every(function(s,r){if(r===0)return!0;const o=i(e[r-1],s);return!(o>0||o===0)})}function Qa(){return!0}function Eh(){return!1}function _o(){}function Cw(e){let t=!1,n,i,s;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==s||!Ps(r,i))&&(t=!0,s=this,i=r,n=e.apply(this,arguments)),n}}function vT(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Ml(e){for(const t in e)delete e[t]}function yo(e){let t;for(t in e)return!1;return!t}class Sh extends Xp{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[t]||(i[t]=[]);s.includes(n)||s.push(n)}dispatchEvent(t){const n=typeof t=="string",i=n?t:t.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=n?new Ni(t):t;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let c=0,u=s.length;c<u;++c)if("handleEvent"in s[c]?l=s[c].handleEvent(r):l=s[c].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,_o);delete o[i]}return l}disposeInternal(){this.listeners_&&Ml(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[s]=_o,++this.pendingRemovals_[t]):(i.splice(s,1),i.length===0&&delete this.listeners_[t]))}}const J={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ct(e,t,n,i,s){if(i&&i!==e&&(n=n.bind(i)),s){const o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}const r={target:e,type:t,listener:n};return e.addEventListener(t,n),r}function Lu(e,t,n,i){return ct(e,t,n,i,!0)}function At(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Ml(e))}class kl extends Sh{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(J.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ct(this,t[r],n);return s}return ct(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){const s=t.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=Lu(this,t[r],n)}else i=Lu(this,t,n);return n.ol_key=i,i}unInternal(t,n){const i=n.ol_key;if(i)wT(i);else if(Array.isArray(t))for(let s=0,r=t.length;s<r;++s)this.removeEventListener(t[s],n);else this.removeEventListener(t,n)}}kl.prototype.on;kl.prototype.once;kl.prototype.un;function wT(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)At(e[t]);else At(e)}function ft(){throw new Error("Unimplemented abstract method.")}let ET=0;function pt(e){return e.ol_uid||(e.ol_uid=String(++ET))}class y0 extends Ni{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}}class zn extends kl{constructor(t){super(),this.on,this.once,this.un,pt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new y0(i,t,n)),i=mo.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new y0(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){const s=this.values_||(this.values_={});if(i)s[t]=n;else{const r=s[t];s[t]=n,r!==n&&this.notify(t,r)}}setProperties(t,n){for(const i in t)this.set(i,t[i],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],yo(this.values_)&&(this.values_=null),n||this.notify(t,i)}}}const Ie={ADD:"add",REMOVE:"remove"},x0={LENGTH:"length"};class hc extends Ni{constructor(t,n,i){super(t),this.element=n,this.index=i}}class $n extends zn{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,i=t.length;n<i;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let i=0,s=n.length;i<s;++i)t(n[i],i,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(x0.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new hc(Ie.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let i=0,s=n.length;i<s;++i)if(n[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new hc(Ie.REMOVE,n,t)),n}setAt(t,n){const i=this.getLength();if(t>=i){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const s=this.array_[t];this.array_[t]=n,this.dispatchEvent(new hc(Ie.REMOVE,s,t)),this.dispatchEvent(new hc(Ie.ADD,n,t))}updateLength_(){this.set(x0.LENGTH,this.array_.length)}assertUnique_(t,n){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===t&&i!==n)throw new Error("Duplicate item added to a unique collection")}}const mt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function ht(e,t){if(!e)throw new Error(t)}function Gt(e,t,n){return Math.min(Math.max(e,t),n)}function ST(e,t,n,i,s,r){const o=s-n,a=r-i;if(o!==0||a!==0){const l=((e-n)*o+(t-i)*a)/(o*o+a*a);l>1?(n=s,i=r):l>0&&(n+=o*l,i+=a*l)}return so(e,t,n,i)}function so(e,t,n,i){const s=n-e,r=i-t;return s*s+r*r}function CT(e){const t=e.length;for(let i=0;i<t;i++){let s=i,r=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){const l=Math.abs(e[a][i]);l>r&&(r=l,s=a)}if(r===0)return null;const o=e[s];e[s]=e[i],e[i]=o;for(let a=i+1;a<t;a++){const l=-e[a][i]/e[i][i];for(let c=i;c<t+1;c++)i==c?e[a][c]=0:e[a][c]+=l*e[i][c]}}const n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let s=i-1;s>=0;s--)e[s][t]-=e[s][i]*n[i]}return n}function qc(e){return e*Math.PI/180}function sr(e,t){const n=e%t;return n*t<0?n+t:n}function dn(e,t,n){return e+n*(t-e)}function Zp(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function dc(e,t){return Math.floor(Zp(e,t))}function fc(e,t){return Math.ceil(Zp(e,t))}class Aw extends zn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[mt.OPACITY]=t.opacity!==void 0?t.opacity:1,ht(typeof n[mt.OPACITY]=="number","Layer opacity must be a number"),n[mt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[mt.Z_INDEX]=t.zIndex,n[mt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[mt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[mt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[mt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return n.opacity=Gt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return ft()}getLayerStatesArray(t){return ft()}getExtent(){return this.get(mt.EXTENT)}getMaxResolution(){return this.get(mt.MAX_RESOLUTION)}getMinResolution(){return this.get(mt.MIN_RESOLUTION)}getMinZoom(){return this.get(mt.MIN_ZOOM)}getMaxZoom(){return this.get(mt.MAX_ZOOM)}getOpacity(){return this.get(mt.OPACITY)}getSourceState(){return ft()}getVisible(){return this.get(mt.VISIBLE)}getZIndex(){return this.get(mt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(mt.EXTENT,t)}setMaxResolution(t){this.set(mt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(mt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(mt.MAX_ZOOM,t)}setMinZoom(t){this.set(mt.MIN_ZOOM,t)}setOpacity(t){ht(typeof t=="number","Layer opacity must be a number"),this.set(mt.OPACITY,t)}setVisible(t){this.set(mt.VISIBLE,t)}setZIndex(t){this.set(mt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const gn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},me={ANIMATING:0,INTERACTING:1},An={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},AT=42,qp=256,Jp={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class bw{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Jp[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Il=6378137,Zr=Math.PI*Il,bT=[-Zr,-Zr,Zr,Zr],TT=[-180,-85,180,85],gc=Il*Math.log(Math.tan(Math.PI/2));class br extends bw{constructor(t){super({code:t,units:"m",extent:bT,global:!0,worldExtent:TT,getPointResolution:function(n,i){return n/Math.cosh(i[1]/Il)}})}}const v0=[new br("EPSG:3857"),new br("EPSG:102100"),new br("EPSG:102113"),new br("EPSG:900913"),new br("http://www.opengis.net/def/crs/EPSG/0/3857"),new br("http://www.opengis.net/gml/srs/epsg.xml#3857")];function RT(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n){t[s]=Zr*e[s]/180;let r=Il*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));r>gc?r=gc:r<-gc&&(r=-gc),t[s+1]=r}return t}function MT(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n)t[s]=180*e[s]/Zr,t[s+1]=360*Math.atan(Math.exp(e[s+1]/Il))/Math.PI-90;return t}const kT=6378137,w0=[-180,-90,180,90],IT=Math.PI*kT/180;class Ds extends bw{constructor(t,n){super({code:t,units:"degrees",extent:w0,axisOrientation:n,global:!0,metersPerUnit:IT,worldExtent:w0})}}const E0=[new Ds("CRS:84"),new Ds("EPSG:4326","neu"),new Ds("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ds("urn:ogc:def:crs:OGC:2:84"),new Ds("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ds("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ds("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ug={};function PT(e){return ug[e]||ug[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function OT(e,t){ug[e]=t}let ro={};function Du(e,t,n){const i=e.getCode(),s=t.getCode();i in ro||(ro[i]={}),ro[i][s]=n}function LT(e,t){let n;return e in ro&&t in ro[e]&&(n=ro[e][t]),n}const Zt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function S0(e){const t=vn();for(let n=0,i=e.length;n<i;++n)Ta(t,e[n]);return t}function Qp(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function Tw(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function Rw(e,t,n){let i,s;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?s=e[1]-n:e[3]<n?s=n-e[3]:s=0,i*i+s*s}function xo(e,t){return Mw(e,t[0],t[1])}function Zs(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function Mw(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function hg(e,t){const n=e[0],i=e[1],s=e[2],r=e[3],o=t[0],a=t[1];let l=Zt.UNKNOWN;return o<n?l=l|Zt.LEFT:o>s&&(l=l|Zt.RIGHT),a<i?l=l|Zt.BELOW:a>r&&(l=l|Zt.ABOVE),l===Zt.UNKNOWN&&(l=Zt.INTERSECTING),l}function vn(){return[1/0,1/0,-1/0,-1/0]}function Ss(e,t,n,i,s){return s?(s[0]=e,s[1]=t,s[2]=n,s[3]=i,s):[e,t,n,i]}function Ch(e){return Ss(1/0,1/0,-1/0,-1/0,e)}function kw(e,t){const n=e[0],i=e[1];return Ss(n,i,n,i,t)}function tm(e,t,n,i,s){const r=Ch(s);return Iw(r,e,t,n,i)}function tl(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function DT(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function Ta(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Iw(e,t,n,i,s){for(;n<i;n+=s)FT(e,t[n],t[n+1]);return e}function FT(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Pw(e,t){let n;return n=t(Ah(e)),n||(n=t(bh(e)),n)||(n=t(Th(e)),n)||(n=t(vr(e)),n)?n:!1}function dg(e){let t=0;return Rh(e)||(t=yt(e)*ye(e)),t}function Ah(e){return[e[0],e[1]]}function bh(e){return[e[2],e[1]]}function fr(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function NT(e,t){let n;if(t==="bottom-left")n=Ah(e);else if(t==="bottom-right")n=bh(e);else if(t==="top-left")n=vr(e);else if(t==="top-right")n=Th(e);else throw new Error("Invalid corner");return n}function fg(e,t,n,i,s){const[r,o,a,l,c,u,h,d]=gg(e,t,n,i);return Ss(Math.min(r,a,c,h),Math.min(o,l,u,d),Math.max(r,a,c,h),Math.max(o,l,u,d),s)}function gg(e,t,n,i){const s=t*i[0]/2,r=t*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=s*o,c=s*a,u=r*o,h=r*a,d=e[0],f=e[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}function ye(e){return e[3]-e[1]}function Ra(e,t,n){const i=n||vn();return Oe(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):Ch(i),i}function vr(e){return[e[0],e[3]]}function Th(e){return[e[2],e[3]]}function yt(e){return e[2]-e[0]}function Oe(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Rh(e){return e[2]<e[0]||e[3]<e[1]}function zT(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function jT(e,t,n){let i=!1;const s=hg(e,t),r=hg(e,n);if(s===Zt.INTERSECTING||r===Zt.INTERSECTING)i=!0;else{const o=e[0],a=e[1],l=e[2],c=e[3],u=t[0],h=t[1],d=n[0],f=n[1],g=(f-h)/(d-u);let p,y;r&Zt.ABOVE&&!(s&Zt.ABOVE)&&(p=d-(f-c)/g,i=p>=o&&p<=l),!i&&r&Zt.RIGHT&&!(s&Zt.RIGHT)&&(y=f-(d-l)*g,i=y>=a&&y<=c),!i&&r&Zt.BELOW&&!(s&Zt.BELOW)&&(p=d-(f-a)/g,i=p>=o&&p<=l),!i&&r&Zt.LEFT&&!(s&Zt.LEFT)&&(y=f-(d-o)*g,i=y>=a&&y<=c)}return i}function Ow(e,t){const n=t.getExtent(),i=fr(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=yt(n),o=Math.floor((i[0]-n[0])/s)*s;e[0]-=o,e[2]-=o}return e}function WT(e,t){if(t.canWrapX()){const n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];Ow(e,t);const i=yt(n);if(yt(e)>i)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+i,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-i,e[3]]]}return[e]}function BT(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function Fu(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function em(e,t){const n=Math.cos(t),i=Math.sin(t),s=e[0]*n-e[1]*i,r=e[1]*n+e[0]*i;return e[0]=s,e[1]=r,e}function VT(e,t){return e[0]*=t,e[1]*=t,e}function Lw(e,t){if(t.canWrapX()){const n=yt(t.getExtent()),i=YT(e,t,n);i&&(e[0]-=i*n)}return e}function YT(e,t,n){const i=t.getExtent();let s=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||yt(i),s=Math.floor((e[0]-i[0])/n)),s}const HT=63710088e-1;function C0(e,t,n){n=n||HT;const i=qc(e[1]),s=qc(t[1]),r=(s-i)/2,o=qc(t[0]-e[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function Dw(...e){console.warn(...e)}let pg=!0;function Fw(e){pg=!1}function nm(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function Nw(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function GT(e){OT(e.getCode(),e),Du(e,e,nm)}function UT(e){e.forEach(GT)}function wn(e){return typeof e=="string"?PT(e):e||null}function A0(e,t,n,i){e=wn(e);let s;const r=e.getPointResolutionFunc();if(r)s=r(t,n);else{const o=e.getUnits();if(o=="degrees"&&!i||i=="degrees")s=t;else{const a=sm(e,wn("EPSG:4326"));if(a===Nw&&o!=="degrees")s=t*e.getMetersPerUnit();else{let c=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];c=a(c,c,2);const u=C0(c.slice(0,2),c.slice(2,4)),h=C0(c.slice(4,6),c.slice(6,8));s=(u+h)/2}const l=e.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function b0(e){UT(e),e.forEach(function(t){e.forEach(function(n){t!==n&&Du(t,n,nm)})})}function XT(e,t,n,i){e.forEach(function(s){t.forEach(function(r){Du(s,r,n),Du(r,s,i)})})}function im(e,t){return e?typeof e=="string"?wn(e):e:wn(t)}function Pd(e,t){return Fw(),rm(e,"EPSG:4326","EPSG:3857")}function $T(e,t){const n=rm(e,"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=sr(i+180,360)-180),n}function Or(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||sm(e,t)===nm)&&n}function sm(e,t){const n=e.getCode(),i=t.getCode();let s=LT(n,i);return s||(s=Nw),s}function Nu(e,t){const n=wn(e),i=wn(t);return sm(n,i)}function rm(e,t,n){return Nu(t,n)(e,void 0,e.length)}function mg(e,t){return e}function hi(e,t){return pg&&!Fu(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(pg=!1,Dw("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function zw(e,t){return e}function qs(e,t){return e}function KT(){b0(v0),b0(E0),XT(E0,v0,RT,MT)}KT();function T0(e,t,n){return function(i,s,r,o,a){if(!i)return;if(!s&&!t)return i;const l=t?0:r[0]*s,c=t?0:r[1]*s,u=a?a[0]:0,h=a?a[1]:0;let d=e[0]+l/2+u,f=e[2]-l/2+u,g=e[1]+c/2+h,p=e[3]-c/2+h;d>f&&(d=(f+d)/2,f=d),g>p&&(g=(p+g)/2,p=g);let y=Gt(i[0],d,f),_=Gt(i[1],g,p);if(o&&n&&s){const m=30*s;y+=-m*Math.log(1+Math.max(0,d-i[0])/m)+m*Math.log(1+Math.max(0,i[0]-f)/m),_+=-m*Math.log(1+Math.max(0,g-i[1])/m)+m*Math.log(1+Math.max(0,i[1]-p)/m)}return[y,_]}}function ZT(e){return e}function om(e,t,n,i){const s=yt(t)/n[0],r=ye(t)/n[1];return i?Math.min(e,Math.max(s,r)):Math.min(e,Math.min(s,r))}function am(e,t,n){let i=Math.min(e,t);const s=50;return i*=Math.log(1+s*Math.max(0,e/t-1))/s+1,n&&(i=Math.max(i,n),i/=Math.log(1+s*Math.max(0,n/e-1))/s+1),Gt(i,n/2,t*2)}function qT(e,t,n,i){return t=t!==void 0?t:!0,function(s,r,o,a){if(s!==void 0){const l=e[0],c=e[e.length-1],u=n?om(l,n,o,i):l;if(a)return t?am(s,u,c):Gt(s,c,u);const h=Math.min(u,s),d=Math.floor($p(e,h,r));return e[d]>u&&d<e.length-1?e[d+1]:e[d]}}}function JT(e,t,n,i,s,r){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(o,a,l,c){if(o!==void 0){const u=s?om(t,s,l,r):t;if(c)return i?am(o,u,n):Gt(o,n,u);const h=1e-9,d=Math.ceil(Math.log(t/u)/Math.log(e)-h),f=-a*(.5-h)+.5,g=Math.min(u,o),p=Math.floor(Math.log(t/g)/Math.log(e)+f),y=Math.max(d,p),_=t/Math.pow(e,y);return Gt(_,n,u)}}}function R0(e,t,n,i,s){return n=n!==void 0?n:!0,function(r,o,a,l){if(r!==void 0){const c=i?om(e,i,a,s):e;return!n||!l?Gt(r,t,c):am(r,c,t)}}}function lm(e){if(e!==void 0)return 0}function M0(e){if(e!==void 0)return e}function QT(e){const t=2*Math.PI/e;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function tR(e){const t=qc(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=t?0:n}}function jw(e){return Math.pow(e,3)}function Io(e){return 1-jw(1-e)}function eR(e){return 3*e*e-2*e*e*e}function nR(e){return e}new Array(6);function On(){return[1,0,0,1,0,0]}function iR(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Jt(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function ni(e,t,n,i,s,r,o,a){const l=Math.sin(r),c=Math.cos(r);return e[0]=i*c,e[1]=s*l,e[2]=-i*l,e[3]=s*c,e[4]=o*i*c-a*i*l+t,e[5]=o*s*l+a*s*c+n,e}function cm(e,t){const n=sR(t);ht(n!==0,"Transformation matrix cannot be inverted");const i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5];return e[0]=o/n,e[1]=-s/n,e[2]=-r/n,e[3]=i/n,e[4]=(r*l-o*a)/n,e[5]=-(i*l-s*a)/n,e}function sR(e){return e[0]*e[3]-e[1]*e[2]}const k0=[1e6,1e6,1e6,1e6,2,2];function Ww(e){return"matrix("+e.map((n,i)=>Math.round(n*k0[i])/k0[i]).join(", ")+")"}function ys(e,t,n,i,s,r){r=r||[];let o=0;for(let a=t;a<n;a+=i){const l=e[a],c=e[a+1];r[o++]=s[0]*l+s[2]*c+s[4],r[o++]=s[1]*l+s[3]*c+s[5]}return r&&r.length!=o&&(r.length=o),r}function Bw(e,t,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),c=r[0],u=r[1];let h=0;for(let d=t;d<n;d+=i){const f=e[d]-c,g=e[d+1]-u;o[h++]=c+f*a-g*l,o[h++]=u+f*l+g*a;for(let p=d+2;p<d+i;++p)o[h++]=e[p]}return o&&o.length!=h&&(o.length=h),o}function rR(e,t,n,i,s,r,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let h=t;h<n;h+=i){const d=e[h]-l,f=e[h+1]-c;a[u++]=l+s*d,a[u++]=c+r*f;for(let g=h+2;g<h+i;++g)a[u++]=e[g]}return a&&a.length!=u&&(a.length=u),a}function oR(e,t,n,i,s,r,o){o=o||[];let a=0;for(let l=t;l<n;l+=i){o[a++]=e[l]+s,o[a++]=e[l+1]+r;for(let c=l+2;c<l+i;++c)o[a++]=e[c]}return o&&o.length!=a&&(o.length=a),o}const I0=On();class aR extends zn{constructor(){super(),this.extent_=vn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Cw((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return ft()}closestPointXY(t,n,i,s){return ft()}containsXY(t,n){const i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return ft()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Ch(n),this.extentRevision_=this.getRevision()}return zT(this.extent_,t)}rotate(t,n){ft()}scale(t,n,i){ft()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return ft()}getType(){return ft()}applyTransform(t){ft()}intersectsExtent(t){return ft()}translate(t,n){ft()}transform(t,n){const i=wn(t),s=i.getUnits()=="tile-pixels"?function(r,o,a){const l=i.getExtent(),c=i.getWorldExtent(),u=ye(c)/ye(l);return ni(I0,c[0],c[3],u,-u,0,0,0),ys(r,0,r.length,a,I0,o),Nu(i,n)(r,o,a)}:Nu(i,n);return this.applyTransform(s),this}}class um extends aR{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return tm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return ft()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=P0(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){ft()}setLayout(t,n,i){let s;if(t)s=P0(t);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,t=lR(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();Bw(i,0,i.length,s,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=fr(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();rR(s,0,s.length,r,t,n,i,s),this.changed()}}translate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();oR(i,0,i.length,s,t,n,i),this.changed()}}}function lR(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function P0(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function cR(e,t,n){const i=e.getFlatCoordinates();if(!i)return null;const s=e.getStride();return ys(i,0,i.length,s,t,n)}function O0(e,t,n,i,s,r,o){const a=e[t],l=e[t+1],c=e[n]-a,u=e[n+1]-l;let h;if(c===0&&u===0)h=t;else{const d=((s-a)*c+(r-l)*u)/(c*c+u*u);if(d>1)h=n;else if(d>0){for(let f=0;f<i;++f)o[f]=dn(e[t+f],e[n+f],d);o.length=i;return}else h=t}for(let d=0;d<i;++d)o[d]=e[h+d];o.length=i}function Vw(e,t,n,i,s){let r=e[t],o=e[t+1];for(t+=i;t<n;t+=i){const a=e[t],l=e[t+1],c=so(r,o,a,l);c>s&&(s=c),r=a,o=l}return s}function uR(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];s=Vw(e,t,a,i,s),t=a}return s}function Yw(e,t,n,i,s,r,o,a,l,c,u){if(t==n)return c;let h,d;if(s===0){if(d=so(o,a,e[t],e[t+1]),d<c){for(h=0;h<i;++h)l[h]=e[t+h];return l.length=i,d}return c}u=u||[NaN,NaN];let f=t+i;for(;f<n;)if(O0(e,f-i,f,i,o,a,u),d=so(o,a,u[0],u[1]),d<c){for(c=d,h=0;h<i;++h)l[h]=u[h];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(c))/s|0,1);if(O0(e,n-i,t,i,o,a,u),d=so(o,a,u[0],u[1]),d<c){for(c=d,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function hR(e,t,n,i,s,r,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const f=n[h];c=Yw(e,t,f,i,s,r,o,a,l,c,u),t=f}return c}function dR(e,t,n,i){for(let s=0,r=n.length;s<r;++s)e[t++]=n[s];return t}function Hw(e,t,n,i){for(let s=0,r=n.length;s<r;++s){const o=n[s];for(let a=0;a<i;++a)e[t++]=o[a]}return t}function fR(e,t,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=Hw(e,t,n[o],i);s[r++]=l,t=l}return s.length=r,s}function hm(e,t,n,i,s,r,o){const a=(n-t)/i;if(a<3){for(;t<n;t+=i)r[o++]=e[t],r[o++]=e[t+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,n-i];let u=0;for(;c.length>0;){const h=c.pop(),d=c.pop();let f=0;const g=e[d],p=e[d+1],y=e[h],_=e[h+1];for(let m=d+i;m<h;m+=i){const x=e[m],v=e[m+1],w=ST(x,v,g,p,y,_);w>f&&(u=m,f=w)}f>s&&(l[(u-t)/i]=1,d+i<u&&c.push(d,u),u+i<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(r[o++]=e[t+h*i],r[o++]=e[t+h*i+1]);return o}function gR(e,t,n,i,s,r,o,a){for(let l=0,c=n.length;l<c;++l){const u=n[l];o=hm(e,t,u,i,s,r,o),a.push(o),t=u}return o}function Ys(e,t){return t*Math.round(e/t)}function pR(e,t,n,i,s,r,o){if(t==n)return o;let a=Ys(e[t],s),l=Ys(e[t+1],s);t+=i,r[o++]=a,r[o++]=l;let c,u;do if(c=Ys(e[t],s),u=Ys(e[t+1],s),t+=i,t==n)return r[o++]=c,r[o++]=u,o;while(c==a&&u==l);for(;t<n;){const h=Ys(e[t],s),d=Ys(e[t+1],s);if(t+=i,h==c&&d==u)continue;const f=c-a,g=u-l,p=h-a,y=d-l;if(f*y==g*p&&(f<0&&p<f||f==p||f>0&&p>f)&&(g<0&&y<g||g==y||g>0&&y>g)){c=h,u=d;continue}r[o++]=c,r[o++]=u,a=c,l=u,c=h,u=d}return r[o++]=c,r[o++]=u,o}function Gw(e,t,n,i,s,r,o,a){for(let l=0,c=n.length;l<c;++l){const u=n[l];o=pR(e,t,u,i,s,r,o),a.push(o),t=u}return o}function qr(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=t;o<n;o+=i)s[r++]=e.slice(o,o+i);return s.length=r,s}function zu(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=qr(e,t,l,i,s[r]),t=l}return s.length=r,s}function L0(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=l.length===1&&l[0]===t?[]:zu(e,t,l,i,s[r]),t=l[l.length-1]}return s.length=r,s}function Uw(e,t,n,i){let s=0,r=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];s+=o*a-r*l,r=a,o=l}return s/2}function mR(e,t,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const a=n[r];s+=Uw(e,t,a,i),t=a}return s}class el extends um{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new el(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,s){return s<Rw(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Yw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,s))}getArea(){return Uw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return qr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new el(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hw(this.flatCoordinates,0,t,this.stride),this.changed()}}class Mh extends um{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new Mh(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){const r=this.flatCoordinates,o=so(t,n,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=r[l];return i.length=a,o}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return kw(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Mw(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=dR(this.flatCoordinates,0,t,this.stride),this.changed()}}function _R(e,t,n,i,s){return!Pw(s,function(o){return!Js(e,t,n,i,o[0],o[1])})}function Js(e,t,n,i,s,r){let o=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){const c=e[t],u=e[t+1];l<=r?u>r&&(c-a)*(r-l)-(s-a)*(u-l)>0&&o++:u<=r&&(c-a)*(r-l)-(s-a)*(u-l)<0&&o--,a=c,l=u}return o!==0}function Xw(e,t,n,i,s,r){if(n.length===0||!Js(e,t,n[0],i,s,r))return!1;for(let o=1,a=n.length;o<a;++o)if(Js(e,n[o-1],n[o],i,s,r))return!1;return!0}function dm(e,t,n,i,s,r,o){let a,l,c,u,h,d,f;const g=s[r+1],p=[];for(let m=0,x=n.length;m<x;++m){const v=n[m];for(u=e[v-i],d=e[v-i+1],a=t;a<v;a+=i)h=e[a],f=e[a+1],(g<=d&&f<=g||d<=g&&g<=f)&&(c=(g-d)/(f-d)*(h-u)+u,p.push(c)),u=h,d=f}let y=NaN,_=-1/0;for(p.sort(bi),u=p[0],a=1,l=p.length;a<l;++a){h=p[a];const m=Math.abs(h-u);m>_&&(c=(u+h)/2,Xw(e,t,n,i,c,g)&&(y=c,_=m)),u=h}return isNaN(y)&&(y=s[r]),o?(o.push(y,g,_),o):[y,g,_]}function yR(e,t,n,i,s){let r=[];for(let o=0,a=n.length;o<a;++o){const l=n[o];r=dm(e,t,l,i,s,2*o,r),t=l[l.length-1]}return r}function xR(e,t,n,i,s){let r;for(t+=i;t<n;t+=i)if(r=s(e.slice(t-i,t),e.slice(t,t+i)),r)return r;return!1}function $w(e,t,n,i,s){const r=Iw(vn(),e,t,n,i);return Oe(s,r)?Zs(s,r)||r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:xR(e,t,n,i,function(o,a){return jT(s,o,a)}):!1}function Kw(e,t,n,i,s){return!!($w(e,t,n,i,s)||Js(e,t,n,i,s[0],s[1])||Js(e,t,n,i,s[0],s[3])||Js(e,t,n,i,s[2],s[1])||Js(e,t,n,i,s[2],s[3]))}function vR(e,t,n,i,s){if(!Kw(e,t,n[0],i,s))return!1;if(n.length===1)return!0;for(let r=1,o=n.length;r<o;++r)if(_R(e,n[r-1],n[r],i,s)&&!$w(e,n[r-1],n[r],i,s))return!1;return!0}function wR(e,t,n,i){for(;t<n-i;){for(let s=0;s<i;++s){const r=e[t+s];e[t+s]=e[n-i+s],e[n-i+s]=r}t+=i,n-=i}}function fm(e,t,n,i){let s=0,r=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];s+=(a-r)*(l+o),r=a,o=l}return s===0?void 0:s>0}function ER(e,t,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=fm(e,t,a,i);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;t=a}return!0}function D0(e,t,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=fm(e,t,a,i);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&wR(e,t,a,i),t=a}return t}function SR(e,t){const n=[];let i=0,s=0,r;for(let o=0,a=t.length;o<a;++o){const l=t[o],c=fm(e,i,l,2);if(r===void 0&&(r=c),c===r)n.push(t.slice(s,o+1));else{if(n.length===0)continue;n[n.length-1].push(t[s])}s=o+1,i=l}return n}class nl extends um{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Kp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new nl(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<Rw(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(uR(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),hR(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,s))}containsXY(t,n){return Xw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return mR(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),D0(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,zu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=fr(this.getExtent());this.flatInteriorPoint_=dm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Mh(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new el(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let r=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],c=new el(n.slice(r,l),t);s.push(c),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;ER(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=D0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=Gw(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new nl(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return vR(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=fR(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function F0(e){if(Rh(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],i=e[2],s=e[3],r=[t,n,t,s,i,s,i,n,t,n];return new nl(r,"XY",[r.length])}const Od=0;class Un extends zn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=im(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Fw(),t.center&&(t.center=hi(t.center,this.projection_)),t.extent&&(t.extent=qs(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const a in An)delete n[a];this.setProperties(n,!0);const i=AR(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const s=CR(t),r=i.constraint,o=bR(t);this.constraints_={center:s,resolution:r,rotation:o},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const i=this.getCenterInternal();if(i){const s=t||[0,0,0,0];n=n||[0,0,0,0];const r=this.getResolution(),o=r/2*(s[3]-n[3]+n[1]-s[1]),a=r/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=hi(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=hi(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const u=arguments[s];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(s===n){i&&pc(i,!0);return}let r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;s<n;++s){const u=arguments[s],h={start:r,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||eR,callback:i};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),u.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),u.rotation!==void 0){h.sourceRotation=l;const d=sr(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+d,l=h.targetRotation}TR(h)?h.complete=!0:r+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(me.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[me.ANIMATING]>0}getInteracting(){return this.hints_[me.INTERACTING]>0}cancelAnimations(){this.setHint(me.ANIMATING,-this.hints_[me.ANIMATING]);let t;for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&pc(s[0].callback,!1),!t)for(let r=0,o=s.length;r<o;++r){const a=s[r];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let r=!0;for(let o=0,a=s.length;o<a;++o){const l=s[o];if(l.complete)continue;const c=t-l.start;let u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):r=!1;const h=l.easing(u);if(l.sourceCenter){const d=l.sourceCenter[0],f=l.sourceCenter[1],g=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter;const y=d+h*(g-d),_=f+h*(p-f);this.targetCenter_=[y,_]}if(l.sourceResolution&&l.targetResolution){const d=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(d,0,f,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const d=h===1?sr(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(r){this.animations_[i]=null,this.setHint(me.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=s[0].callback;o&&pc(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],em(i,t-this.getRotation()),BT(i,n)),i}calculateCenterZoom(t,n){let i;const s=this.getCenterInternal(),r=this.getResolution();if(s!==void 0&&r!==void 0){const o=n[0]-t*(n[0]-s[0])/r,a=n[1]-t*(n[1]-s[1])/r;i=[o,a]}return i}getViewportSize_(t){const n=this.viewportSize_;if(t){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(s*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(s*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&mg(t,this.getProjection())}getCenterInternal(){return this.get(An.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return zw(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ht(n,"The view center is not defined");const i=this.getResolution();ht(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return ht(s!==void 0,"The view rotation is not defined"),fg(n,i,s,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(An.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(qs(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const i=yt(t)/n[0],s=ye(t)/n[1];return Math.max(i,s)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(t);return function(r){return n/Math.pow(t,r*s)}}getRotation(){return this.get(An.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(i/s)/n;return function(o){return Math.log(i/o)/n/r}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const r=this.padding_;if(r){const o=this.getViewportSizeMinusPadding_();s=Ld(s,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],n,i)}return{center:s.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,i,s;if(this.resolutions_){const r=$p(this.resolutions_,t,1);n=r,i=this.resolutions_[r],r==this.resolutions_.length-1?s=2:s=i/this.resolutions_[r+1]}else i=this.maxResolution_,s=this.zoomFactor_;return n+Math.log(i/t)/Math.log(s)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Gt(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Gt(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let i;if(ht(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){ht(!Rh(t),"Cannot fit empty extent provided as `geometry`");const s=qs(t,this.getProjection());i=F0(s)}else if(t.getType()==="Circle"){const s=qs(t.getExtent(),this.getProjection());i=F0(s),i.rotate(this.getRotation(),fr(s))}else i=t;this.fitInternal(i,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),r=t.getFlatCoordinates(),o=t.getStride();let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let h=0,d=r.length;h<d;h+=o){const f=r[h]*i-r[h+1]*s,g=r[h]*s+r[h+1]*i;a=Math.min(a,f),l=Math.min(l,g),c=Math.max(c,f),u=Math.max(u,g)}return[a,l,c,u]}fitInternal(t,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],r=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const a=this.rotatedExtentForGeometry(t);let l=this.getResolutionForExtentInternal(a,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,r?0:1);const c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),d=fr(a);d[0]+=(s[1]-s[3])/2*l,d[1]+=(s[0]-s[2])/2*l;const f=d[0]*h-d[1]*u,g=d[1]*h+d[0]*u,p=this.getConstrainedCenter([f,g],l),y=n.callback?n.callback:_o;n.duration!==void 0?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},y):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),pc(y,!0))}centerOn(t,n,i){this.centerOnInternal(hi(t,this.getProjection()),n,i)}centerOnInternal(t,n,i){this.setCenterInternal(Ld(t,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,i,s){let r;const o=this.padding_;if(o&&t){const a=this.getViewportSizeMinusPadding_(-i),l=Ld(t,s,[a[0]/2+o[3],a[1]/2+o[0]],n,i);r=[t[0]-l[0],t[1]-l[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=mg(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&hi(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(r,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=hi(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&hi(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,0,r,i),a=this.constraints_.center(this.targetCenter_,o,r,i,this.calculateCenterShift(this.targetCenter_,o,s,r));this.get(An.ROTATION)!==s&&this.set(An.ROTATION,s),this.get(An.RESOLUTION)!==o&&(this.set(An.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(An.CENTER)||!Fu(this.get(An.CENTER),a))&&this.set(An.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,i){t=t!==void 0?t:200;const s=n||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,s,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,r,o));if(t===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=l,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==r||!this.getCenterInternal()||!Fu(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:a,duration:t,easing:Io,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(me.INTERACTING,1)}endInteraction(t,n,i){i=i&&hi(i,this.getProjection()),this.endInteractionInternal(t,n,i)}endInteractionInternal(t,n,i){this.getInteracting()&&(this.setHint(me.INTERACTING,-1),this.resolveConstraints(t,n,i))}getConstrainedCenter(t,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)}getConstrainedZoom(t,n){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(t,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)}}function pc(e,t){setTimeout(function(){e(t)},0)}function CR(e){if(e.extent!==void 0){const n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return T0(e.extent,e.constrainOnlyCenter,n)}const t=im(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,T0(n,!1,!1)}return ZT}function AR(e){let t,n,i,o=e.minZoom!==void 0?e.minZoom:Od,a=e.maxZoom!==void 0?e.maxZoom:28;const l=e.zoomFactor!==void 0?e.zoomFactor:2,c=e.multiWorld!==void 0?e.multiWorld:!1,u=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,h=e.showFullExtent!==void 0?e.showFullExtent:!1,d=im(e.projection,"EPSG:3857"),f=d.getExtent();let g=e.constrainOnlyCenter,p=e.extent;if(!c&&!p&&d.isGlobal()&&(g=!1,p=f),e.resolutions!==void 0){const y=e.resolutions;n=y[o],i=y[a]!==void 0?y[a]:y[y.length-1],e.constrainResolution?t=qT(y,u,!g&&p,h):t=R0(n,i,u,!g&&p,h)}else{const _=(f?Math.max(yt(f),ye(f)):360*Jp.degrees/d.getMetersPerUnit())/qp/Math.pow(2,Od),m=_/Math.pow(2,28-Od);n=e.maxResolution,n!==void 0?o=0:n=_/Math.pow(l,o),i=e.minResolution,i===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?i=n/Math.pow(l,a):i=_/Math.pow(l,a):i=m),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),e.constrainResolution?t=JT(l,n,i,u,!g&&p,h):t=R0(n,i,u,!g&&p,h)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}function bR(e){if(e.enableRotation!==void 0?e.enableRotation:!0){const n=e.constrainRotation;return n===void 0||n===!0?tR():n===!1?M0:typeof n=="number"?QT(n):M0}return lm}function TR(e){return!(e.sourceCenter&&e.targetCenter&&!Fu(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function Ld(e,t,n,i,s){const r=Math.cos(-s);let o=Math.sin(-s),a=e[0]*r-e[1]*o,l=e[1]*r+e[0]*o;a+=(t[0]/2-n[0])*i,l+=(n[1]-t[1]/2)*i,o=-o;const c=a*r-l*o,u=l*r+a*o;return[c,u]}class RR extends Aw{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(mt.SOURCE,this.handleSourcePropertyChange_);const i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(mt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(At(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=ct(t,J.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const i=this.getMapInternal();!t&&i&&(t=i.getView()),t instanceof Un?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let s;n.layerStatesArray?s=n.layerStatesArray.find(o=>o.layer===this):s=this.getLayerState();const r=this.getExtent();return gm(s,n.viewState)&&(!r||Oe(r,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];let n;const i=this.getSource();if(i&&(n=i.getAttributions()),!n)return[];const s=t instanceof Un?t.getViewStateAndExtent():t;let r=n(s);return Array.isArray(r)||(r=[r]),r}render(t,n){const i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(mt.MAP,t)}getMapInternal(){return this.get(mt.MAP)}setMap(t){this.mapPrecomposeKey_&&(At(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(At(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=ct(t,gn.PRECOMPOSE,function(n){const s=n.frameState.layerStatesArray,r=this.getLayerState(!1);ht(!s.some(function(o){return o.layer===r.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),s.push(r)},this),this.mapRenderKey_=ct(this,J.CHANGE,t.render,t),this.changed())}setSource(t){this.set(mt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function gm(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}const kh=RR;function MR(e,t,n,i,s){Zw(e,t,n||0,i||e.length-1,s||kR)}function Zw(e,t,n,i,s){for(;i>n;){if(i-n>600){var r=i-n+1,o=t-n+1,a=Math.log(r),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(r-l)/r)*(o-r/2<0?-1:1),u=Math.max(n,Math.floor(t-o*l/r+c)),h=Math.min(i,Math.floor(t+(r-o)*l/r+c));Zw(e,t,u,h,s)}var d=e[t],f=n,g=i;for($o(e,n,t),s(e[i],d)>0&&$o(e,n,i);f<g;){for($o(e,f,g),f++,g--;s(e[f],d)<0;)f++;for(;s(e[g],d)>0;)g--}s(e[n],d)===0?$o(e,n,g):(g++,$o(e,g,i)),g<=t&&(n=g+1),t<=g&&(i=g-1)}}function $o(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function kR(e,t){return e<t?-1:e>t?1:0}let qw=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const i=[];if(!_c(t,n))return i;const s=this.toBBox,r=[];for(;n;){for(let o=0;o<n.children.length;o++){const a=n.children[o],l=n.leaf?s(a):a;_c(t,l)&&(n.leaf?i.push(a):Fd(t,l)?this._all(a,i):r.push(a))}n=r.pop()}return i}collides(t){let n=this.data;if(!_c(t,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const r=n.children[s],o=n.leaf?this.toBBox(r):r;if(_c(t,o)){if(n.leaf||Fd(t,o))return!0;i.push(r)}}n=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Lr([]),this}remove(t,n){if(!t)return this;let i=this.data;const s=this.toBBox(t),r=[],o=[];let a,l,c;for(;i||r.length;){if(i||(i=r.pop(),l=r[r.length-1],a=o.pop(),c=!0),i.leaf){const u=IR(t,i.children,n);if(u!==-1)return i.children.splice(u,1),r.push(i),this._condense(r),this}!c&&!i.leaf&&Fd(i,s)?(r.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const i=[];for(;t;)t.leaf?n.push(...t.children):i.push(...t.children),t=i.pop();return n}_build(t,n,i,s){const r=i-n+1;let o=this._maxEntries,a;if(r<=o)return a=Lr(t.slice(n,i+1)),Tr(a,this.toBBox),a;s||(s=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,s-1))),a=Lr([]),a.leaf=!1,a.height=s;const l=Math.ceil(r/o),c=l*Math.ceil(Math.sqrt(o));N0(t,n,i,c,this.compareMinX);for(let u=n;u<=i;u+=c){const h=Math.min(u+c-1,i);N0(t,u,h,l,this.compareMinY);for(let d=u;d<=h;d+=l){const f=Math.min(d+l-1,h);a.children.push(this._build(t,d,f,s-1))}}return Tr(a,this.toBBox),a}_chooseSubtree(t,n,i,s){for(;s.push(n),!(n.leaf||s.length-1===i);){let r=1/0,o=1/0,a;for(let l=0;l<n.children.length;l++){const c=n.children[l],u=Dd(c),h=LR(t,c)-u;h<o?(o=h,r=u<r?u:r,a=c):h===o&&u<r&&(r=u,a=c)}n=a||n.children[0]}return n}_insert(t,n,i){const s=i?t:this.toBBox(t),r=[],o=this._chooseSubtree(s,this.data,n,r);for(o.children.push(t),ca(o,s);n>=0&&r[n].children.length>this._maxEntries;)this._split(r,n),n--;this._adjustParentBBoxes(s,r,n)}_split(t,n){const i=t[n],s=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,s);const o=this._chooseSplitIndex(i,r,s),a=Lr(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,Tr(i,this.toBBox),Tr(a,this.toBBox),n?t[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(t,n){this.data=Lr([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Tr(this.data,this.toBBox)}_chooseSplitIndex(t,n,i){let s,r=1/0,o=1/0;for(let a=n;a<=i-n;a++){const l=la(t,0,a,this.toBBox),c=la(t,a,i,this.toBBox),u=DR(l,c),h=Dd(l)+Dd(c);u<r?(r=u,s=a,o=h<o?h:o):u===r&&h<o&&(o=h,s=a)}return s||i-n}_chooseSplitAxis(t,n,i){const s=t.leaf?this.compareMinX:PR,r=t.leaf?this.compareMinY:OR,o=this._allDistMargin(t,n,i,s),a=this._allDistMargin(t,n,i,r);o<a&&t.children.sort(s)}_allDistMargin(t,n,i,s){t.children.sort(s);const r=this.toBBox,o=la(t,0,n,r),a=la(t,i-n,i,r);let l=mc(o)+mc(a);for(let c=n;c<i-n;c++){const u=t.children[c];ca(o,t.leaf?r(u):u),l+=mc(o)}for(let c=i-n-1;c>=n;c--){const u=t.children[c];ca(a,t.leaf?r(u):u),l+=mc(a)}return l}_adjustParentBBoxes(t,n,i){for(let s=i;s>=0;s--)ca(n[s],t)}_condense(t){for(let n=t.length-1,i;n>=0;n--)t[n].children.length===0?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():Tr(t[n],this.toBBox)}};function IR(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function Tr(e,t){la(e,0,e.children.length,t,e)}function la(e,t,n,i,s){s||(s=Lr(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let r=t;r<n;r++){const o=e.children[r];ca(s,e.leaf?i(o):o)}return s}function ca(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function PR(e,t){return e.minX-t.minX}function OR(e,t){return e.minY-t.minY}function Dd(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function mc(e){return e.maxX-e.minX+(e.maxY-e.minY)}function LR(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function DR(e,t){const n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),s=Math.min(e.maxX,t.maxX),r=Math.min(e.maxY,t.maxY);return Math.max(0,s-n)*Math.max(0,r-i)}function Fd(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function _c(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Lr(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function N0(e,t,n,i,s){const r=[t,n];for(;r.length;){if(n=r.pop(),t=r.pop(),n-t<=i)continue;const o=t+Math.ceil((n-t)/i/2)*i;MR(e,o,t,n,s),r.push(t,o,o,n)}}const et={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function z0(e){return e[0]>0&&e[1]>0}function FR(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function $e(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}class Ih{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=$e(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Ih({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ft()}getImage(t){return ft()}getHitDetectionImage(){return ft()}getPixelRatio(t){return 1}getImageState(){return ft()}getImageSize(){return ft()}getOrigin(){return ft()}getSize(){return ft()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$e(t)}listenImageChange(t){ft()}load(){ft()}unlistenImageChange(t){ft()}ready(){return Promise.resolve()}}const il={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var oe={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};oe.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};oe.max=oe.whitepoint[2].D65;oe.rgb=function(e,t){t=t||oe.whitepoint[2].E;var n=e[0]/t[0],i=e[1]/t[1],s=e[2]/t[2],r,o,a;return r=n*3.240969941904521+i*-1.537383177570093+s*-.498610760293,o=n*-.96924363628087+i*1.87596750150772+s*.041555057407175,a=n*.055630079696993+i*-.20397695888897+s*1.056971514242878,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=r*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[r*255,o*255,a*255]};il.xyz=function(e,t){var n=e[0]/255,i=e[1]/255,s=e[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;var r=n*.41239079926595+i*.35758433938387+s*.18048078840183,o=n*.21263900587151+i*.71516867876775+s*.072192315360733,a=n*.019330818715591+i*.11919477979462+s*.95053215224966;return t=t||oe.whitepoint[2].E,[r*t[0],o*t[1],a*t[2]]};const pm={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,n){var i,s,r,o,a,l,c,u,h,d,f,g,p;if(r=e[0],o=e[1],a=e[2],r===0)return[0,0,0];var y=.0011070564598794539;return t=t||"D65",n=n||2,h=oe.whitepoint[n][t][0],d=oe.whitepoint[n][t][1],f=oe.whitepoint[n][t][2],g=4*h/(h+15*d+3*f),p=9*d/(h+15*d+3*f),i=o/(13*r)+g||0,s=a/(13*r)+p||0,c=r>8?d*Math.pow((r+16)/116,3):d*r*y,l=c*9*i/(4*s)||0,u=c*(12-3*i-20*s)/(4*s)||0,[l,c,u]}};oe.luv=function(e,t,n){var i,s,r,o,a,l,c,u,h,d,f,g,p,y=.008856451679035631,_=903.2962962962961;t=t||"D65",n=n||2,h=oe.whitepoint[n][t][0],d=oe.whitepoint[n][t][1],f=oe.whitepoint[n][t][2],g=4*h/(h+15*d+3*f),p=9*d/(h+15*d+3*f),l=e[0],c=e[1],u=e[2],i=4*l/(l+15*c+3*u)||0,s=9*c/(l+15*c+3*u)||0;var m=c/d;return r=m<=y?_*m:116*Math.pow(m,1/3)-16,o=13*r*(i-g),a=13*r*(s-p),[r,o,a]};var Jw={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t=e[0],n=e[1],i=e[2],s,r,o;return o=i/360*2*Math.PI,s=n*Math.cos(o),r=n*Math.sin(o),[t,s,r]},xyz:function(e){return pm.xyz(Jw.luv(e))}};pm.lchuv=function(e){var t=e[0],n=e[1],i=e[2],s=Math.sqrt(n*n+i*i),r=Math.atan2(i,n),o=r*360/2/Math.PI;return o<0&&(o+=360),[t,s,o]};oe.lchuv=function(e){return pm.lchuv(oe.luv(e))};const j0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var W0={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function NR(e){var u,h;var t,n=[],i=1,s;if(typeof e=="number")return{space:"rgb",values:[e>>>16,(e&65280)>>>8,e&255],alpha:1};if(typeof e=="number")return{space:"rgb",values:[e>>>16,(e&65280)>>>8,e&255],alpha:1};if(e=String(e).toLowerCase(),j0[e])n=j0[e].slice(),s="rgb";else if(e==="transparent")i=0,s="rgb",n=[0,0,0];else if(e[0]==="#"){var r=e.slice(1),o=r.length,a=o<=4;i=1,a?(n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],o===4&&(i=parseInt(r[3]+r[3],16)/255)):(n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],o===8&&(i=parseInt(r[6]+r[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),s="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var l=t[1];s=l.replace(/a$/,"");var c=s==="cmyk"?4:s==="gray"?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),s==="color"&&(s=n.shift()),n=n.map(function(d,f){if(d[d.length-1]==="%")return d=parseFloat(d)/100,f===3?d:s==="rgb"?d*255:s[0]==="h"||s[0]==="l"&&!f?d*100:s==="lab"?d*125:s==="lch"?f<2?d*150:d*360:s[0]==="o"&&!f?d:s==="oklab"?d*.4:s==="oklch"?f<2?d*.4:d*360:d;if(s[f]==="h"||f===2&&s[s.length-1]==="h"){if(W0[d]!==void 0)return W0[d];if(d.endsWith("deg"))return parseFloat(d);if(d.endsWith("turn"))return parseFloat(d)*360;if(d.endsWith("grad"))return parseFloat(d)*360/400;if(d.endsWith("rad"))return parseFloat(d)*180/Math.PI}return d==="none"?0:parseFloat(d)}),i=n.length>c?n.pop():1}else/[0-9](?:\s|\/|,)/.test(e)&&(n=e.match(/([0-9]+)/g).map(function(d){return parseFloat(d)}),s=((h=(u=e.match(/([a-z])/ig))==null?void 0:u.join(""))==null?void 0:h.toLowerCase())||"rgb");return{space:s,values:n,alpha:i}}const Nd={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t=e[0]/360,n=e[1]/100,i=e[2]/100,s,r,o,a,l,c=0;if(n===0)return l=i*255,[l,l,l];for(r=i<.5?i*(1+n):i+n-i*n,s=2*i-r,a=[0,0,0];c<3;)o=t+1/3*-(c-1),o<0?o++:o>1&&o--,l=6*o<1?s+(r-s)*6*o:2*o<1?r:3*o<2?s+(r-s)*(2/3-o)*6:s,a[c++]=l*255;return a}};il.hsl=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,s=Math.min(t,n,i),r=Math.max(t,n,i),o=r-s,a,l,c;return r===s?a=0:t===r?a=(n-i)/o:n===r?a=2+(i-t)/o:i===r&&(a=4+(t-n)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(s+r)/2,r===s?l=0:c<=.5?l=o/(r+s):l=o/(2-r-s),[a,l*100,c*100]};function zR(e){Array.isArray(e)&&e.raw&&(e=String.raw(...arguments)),e instanceof Number&&(e=+e);var t,n=NR(e);if(!n.space)return[];const i=n.space[0]==="h"?Nd.min:il.min,s=n.space[0]==="h"?Nd.max:il.max;return t=Array(3),t[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),t[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),t[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),n.space[0]==="h"&&(t=Nd.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}function jR(e){return typeof e=="string"?e:_m(e)}const WR=1024,Ko={};let zd=0;function BR(e){if(e.length===4)return e;const t=e.slice();return t[3]=1,t}function B0(e){const t=oe.lchuv(il.xyz(e));return t[3]=e[3],t}function VR(e){const t=oe.rgb(Jw.xyz(e));return t[3]=e[3],t}function mm(e){if(Ko.hasOwnProperty(e))return Ko[e];if(zd>=WR){let n=0;for(const i in Ko)n++&3||(delete Ko[i],--zd)}const t=zR(e);if(t.length!==4)throw new Error('Failed to parse "'+e+'" as color');for(const n of t)if(isNaN(n))throw new Error('Failed to parse "'+e+'" as color');return Qw(t),Ko[e]=t,++zd,t}function sl(e){return Array.isArray(e)?e:mm(e)}function Qw(e){return e[0]=Gt(e[0]+.5|0,0,255),e[1]=Gt(e[1]+.5|0,0,255),e[2]=Gt(e[2]+.5|0,0,255),e[3]=Gt(e[3],0,1),e}function _m(e){let t=e[0];t!=(t|0)&&(t=t+.5|0);let n=e[1];n!=(n|0)&&(n=n+.5|0);let i=e[2];i!=(i|0)&&(i=i+.5|0);const s=e[3]===void 0?1:Math.round(e[3]*1e3)/1e3;return"rgba("+t+","+n+","+i+","+s+")"}function YR(e){try{return mm(e),!0}catch{return!1}}const Cs=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",HR=Cs.includes("firefox"),GR=Cs.includes("safari")&&!Cs.includes("chrom");GR&&(Cs.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Cs));const UR=Cs.includes("webkit")&&!Cs.includes("edge"),tE=Cs.includes("macintosh"),eE=typeof devicePixelRatio<"u"?devicePixelRatio:1,nE=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,iE=typeof Image<"u"&&Image.prototype.decode,sE=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();function ce(e,t,n,i){let s;return n&&n.length?s=n.shift():nE?s=new OffscreenCanvas(e||300,t||300):s=document.createElement("canvas"),e&&(s.width=e),t&&(s.height=t),s.getContext("2d",i)}let jd;function _g(){return jd||(jd=ce(1,1)),jd}function Ph(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function XR(e){let t=e.offsetWidth;const n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function $R(e){let t=e.offsetHeight;const n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function V0(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function ju(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function rE(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function KR(e,t){const n=e.childNodes;for(let i=0;;++i){const s=n[i],r=t[i];if(!s&&!r)break;if(s!==r){if(!s){e.appendChild(r);continue}if(!r){e.removeChild(s),--i;continue}e.insertBefore(r,s)}}}function ZR(e,t,n){const i=e;let s=!0,r=!1,o=!1;const a=[Lu(i,J.LOAD,function(){o=!0,r||t()})];return i.src&&iE?(r=!0,i.decode().then(function(){s&&t()}).catch(function(l){s&&(o?t():n())})):a.push(Lu(i,J.ERROR,n)),function(){s=!1,a.forEach(At)}}function qR(e,t){return new Promise((n,i)=>{function s(){o(),n(e)}function r(){o(),i(new Error("Image load error"))}function o(){e.removeEventListener("load",s),e.removeEventListener("error",r)}e.addEventListener("load",s),e.addEventListener("error",r)})}function JR(e,t){return t&&(e.src=t),e.src&&iE?new Promise((n,i)=>e.decode().then(()=>n(e)).catch(s=>e.complete&&e.width?n(e):i(s))):qR(e)}class QR{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const i=this.cache_[n];!(t++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,i){const s=Wd(t,n,i);return s in this.cache_?this.cache_[s]:null}getPattern(t,n,i){const s=Wd(t,n,i);return s in this.patternCache_?this.patternCache_[s]:null}set(t,n,i,s,r){const o=Wd(t,n,i),a=o in this.cache_;this.cache_[o]=s,r&&(s.getImageState()===et.IDLE&&s.load(),s.getImageState()===et.LOADING?s.ready().then(()=>{this.patternCache_[o]=_g().createPattern(s.getImage(1),"repeat")}):this.patternCache_[o]=_g().createPattern(s.getImage(1),"repeat")),a||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Wd(e,t,n){const i=n?sl(n):"null";return t+":"+e+":"+i}const Kn=new QR;let Zo=null;class t2 extends Sh{constructor(t,n,i,s,r){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=r,this.imageState_=s===void 0?et.IDLE:s,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===et.LOADED){Zo||(Zo=ce(1,1,void 0,{willReadFrequently:!0})),Zo.drawImage(this.image_,0,0);try{Zo.getImageData(0,0,1,1),this.tainted_=!1}catch{Zo=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(J.CHANGE)}handleImageError_(){this.imageState_=et.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=et.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],i=ce(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===et.IDLE){this.image_||this.initializeImage_(),this.imageState_=et.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&JR(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==et.LOADED)return;const n=this.image_,i=document.createElement("canvas");i.width=Math.ceil(n.width*t),i.height=Math.ceil(n.height*t);const s=i.getContext("2d");s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=jR(this.color_),s.fillRect(0,0,i.width/t,i.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=i}ready(){return this.ready_||(this.ready_=new Promise(t=>{this.imageState_===et.LOADED||this.imageState_===et.ERROR?t():this.addEventListener(J.CHANGE,function n(){(this.imageState_===et.LOADED||this.imageState_===et.ERROR)&&(this.removeEventListener(J.CHANGE,n),t())})})),this.ready_}}function ym(e,t,n,i,s,r){let o=t===void 0?void 0:Kn.get(t,n,s);return o||(o=new t2(e,e instanceof HTMLImageElement?e.src||void 0:t,n,i,s),Kn.set(t,n,s,o,r)),r&&o&&!Kn.getPattern(t,n,s)&&Kn.set(t,n,s,o,r),o}function Zn(e){return e?Array.isArray(e)?_m(e):typeof e=="object"&&"src"in e?e2(e):e:null}function e2(e){if(!e.offset||!e.size)return Kn.getPattern(e.src,"anonymous",e.color);const t=e.src+":"+e.offset,n=Kn.getPattern(t,void 0,e.color);if(n)return n;const i=Kn.get(e.src,"anonymous",null);if(i.getImageState()!==et.LOADED)return null;const s=ce(e.size[0],e.size[1]);return s.drawImage(i.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),ym(s.canvas,t,void 0,et.LOADED,e.color,!0),Kn.getPattern(t,void 0,e.color)}const yc="ol-hidden",n2="ol-selectable",Oh="ol-unselectable",xm="ol-control",Y0="ol-collapsed",i2=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),H0=["style","variant","weight","size","lineHeight","family"],oE=function(e){const t=e.match(i2);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=H0.length;i<s;++i){const r=t[i+1];r!==void 0&&(n[H0[i]]=r)}return n.families=n.family.split(/,\s?/),n},aE="10px sans-serif",Pe="#000",vo="round",Ti=[],Ri=0,wo="round",rl=10,ol="#000",al="center",Wu="middle",Qs=[0,0,0,0],ll=1,di=new zn;let Dr=null,yg;const xg={},s2=function(){const t="32px ",n=["monospace","serif"],i=n.length,s="wmytzilWMYTZIL@#/&?$%10";let r,o;function a(c,u,h){let d=!0;for(let f=0;f<i;++f){const g=n[f];if(o=Bu(c+" "+u+" "+t+g,s),h!=g){const p=Bu(c+" "+u+" "+t+h+","+g,s);d=d&&p!=o}}return!!d}function l(){let c=!0;const u=di.getKeys();for(let h=0,d=u.length;h<d;++h){const f=u[h];di.get(f)<100&&(a.apply(this,f.split(`
`))?(Ml(xg),Dr=null,yg=void 0,di.set(f,100)):(di.set(f,di.get(f)+1,!0),c=!1))}c&&(clearInterval(r),r=void 0)}return function(c){const u=oE(c);if(!u)return;const h=u.families;for(let d=0,f=h.length;d<f;++d){const g=h[d],p=u.style+`
`+u.weight+`
`+g;di.get(p)===void 0&&(di.set(p,100,!0),a(u.style,u.weight,g)||(di.set(p,0,!0),r===void 0&&(r=setInterval(l,32))))}}}(),r2=function(){let e;return function(t){let n=xg[t];if(n==null){if(nE){const i=oE(t),s=lE(t,"Žg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);xg[t]=n}return n}}();function lE(e,t){return Dr||(Dr=ce(1,1)),e!=yg&&(Dr.font=e,yg=Dr.font),Dr.measureText(t)}function Bu(e,t){return lE(e,t).width}function G0(e,t,n){if(t in n)return n[t];const i=t.split(`
`).reduce((s,r)=>Math.max(s,Bu(e,r)),0);return n[t]=i,i}function o2(e,t){const n=[],i=[],s=[];let r=0,o=0,a=0,l=0;for(let c=0,u=t.length;c<=u;c+=2){const h=t[c];if(h===`
`||c===u){r=Math.max(r,o),s.push(o),o=0,a+=l;continue}const d=t[c+1]||e.font,f=Bu(d,h);n.push(f),o+=f;const g=r2(d);i.push(g),l=Math.max(l,g)}return{width:r,height:a,widths:n,heights:i,lineWidths:s}}function a2(e,t,n,i,s,r,o,a,l,c,u){e.save(),n!==1&&(e.globalAlpha===void 0?e.globalAlpha=h=>h.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(l,c),e.scale(u[0],u[1]),l2(i,e)):u[0]<0||u[1]<0?(e.translate(l,c),e.scale(u[0],u[1]),e.drawImage(i,s,r,o,a,0,0,o,a)):e.drawImage(i,s,r,o,a,l,c,o*u[0],a*u[1]),e.restore()}function l2(e,t){const n=e.contextInstructions;for(let i=0,s=n.length;i<s;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}class Lh extends Ih{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?et.LOADING:et.LOADED,this.imageState_===et.LOADING&&this.ready().then(()=>this.imageState_=et.LOADED),this.render()}clone(){const t=this.getScale(),n=new Lh({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-n[0]/i[0],t[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let n=this.canvases_[t];if(!n){const i=this.renderOptions_,s=ce(i.size*t,i.size*t);this.draw_(i,s,t),n=s.canvas,this.canvases_[t]=n}return n}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,i){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let s=this.radius_,r=this.radius2_===void 0?s:this.radius2_;if(s<r){const S=s;s=r,r=S}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=r*Math.sin(a),c=Math.sqrt(r*r-l*l),u=s-c,h=Math.sqrt(l*l+u*u),d=h/l;if(t==="miter"&&d<=i)return d*n;const f=n/2/d,g=n/2*(u/h),y=Math.sqrt((s+f)*(s+f)+g*g)-s;if(this.radius2_===void 0||t==="bevel")return y*2;const _=s*Math.sin(a),m=Math.sqrt(s*s-_*_),x=r-m,w=Math.sqrt(_*_+x*x)/_;if(w<=i){const S=w*n/2-r-s;return 2*Math.max(y,S)}return y*2}createRenderOptions(){let t=vo,n=wo,i=0,s=null,r=0,o,a=0;this.stroke_&&(o=Zn(this.stroke_.getColor()??ol),a=this.stroke_.getWidth()??ll,s=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??wo,t=this.stroke_.getLineCap()??vo,i=this.stroke_.getMiterLimit()??rl);const l=this.calculateLineJoinSize_(n,a,i),c=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:u,lineCap:t,lineDash:s,lineDashOffset:r,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,i){if(n.scale(i,i),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let s=this.fill_.getColor();s===null&&(s=Pe),n.fillStyle=Zn(s),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let i=this.fill_.getColor(),s=0;typeof i=="string"&&(i=sl(i)),i===null?s=1:Array.isArray(i)&&(s=i.length===4?i[3]:1),s===0&&(n=ce(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const i=this.radius_;if(n===1/0)t.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let a=0;a<n;a++){const l=r+a*o,c=a%2===0?i:s;t.lineTo(c*Math.cos(l),c*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Pe,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Pl extends Lh{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new Pl({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius_=t,this.render()}}class Po{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Po({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=ym(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===et.IDLE&&n.load(),n.getImageState()===et.LOADING&&(this.patternImage_=n)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class Dh{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Dh({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class xs{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=U0,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new xs({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=U0,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function c2(e){let t;if(typeof e=="function")t=e;else{let n;Array.isArray(e)?n=e:(ht(typeof e.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}let Bd=null;function u2(e,t){if(!Bd){const n=new Po({color:"rgba(255,255,255,0.4)"}),i=new Dh({color:"#3399CC",width:1.25});Bd=[new xs({image:new Pl({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Bd}function U0(e){return e.getGeometry()}function X0(e,t,n,i){return n!==void 0&&i!==void 0?[n/e,i/t]:n!==void 0?n/e:i!==void 0?i/t:1}class Fh extends Ih{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,i=t.rotation!==void 0?t.rotation:0,s=t.scale!==void 0?t.scale:1,r=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:i,scale:s,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:r,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const o=t.img!==void 0?t.img:null;let a=t.src;ht(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||pt(o)),ht(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),ht(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(t.src!==void 0?l=et.IDLE:o!==void 0&&(o instanceof HTMLImageElement?o.complete?l=o.src?et.LOADED:et.IDLE:l=et.LOADING:l=et.LOADED),this.color_=t.color!==void 0?sl(t.color):null,this.iconImage_=ym(o,a,this.crossOrigin_,l,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,t.width!==void 0||t.height!==void 0){let c,u;if(t.size)[c,u]=t.size;else{const h=this.getImage(1);if(h.width&&h.height)c=h.width,u=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=t;const d=()=>{if(this.unlistenImageChange(d),!this.initialOptions_)return;const f=this.iconImage_.getSize();this.setScale(X0(f[0],f[1],t.width,t.height))};this.listenImageChange(d);return}}c!==void 0&&this.setScale(X0(c,u,t.width,t.height))}}clone(){let t,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Fh({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=s[0]),this.anchorYUnits_=="fraction"&&(t[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+s[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),i=this.getScaleArray();return[t[0]-n[0]/i[0],t[1]+n[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=i[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==et.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==et.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(J.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(J.CHANGE,t)}ready(){return this.iconImage_.ready()}}const h2="#333";class vm{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=$e(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Po({color:h2}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new vm({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$e(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}let Oo=0;const Lo=0,Ft=1<<Oo++,G=1<<Oo++,Ue=1<<Oo++,Qt=1<<Oo++,Li=1<<Oo++,fe=Math.pow(2,Oo)-1,cE={[Ft]:"boolean",[G]:"number",[Ue]:"string",[Qt]:"color",[Li]:"number[]"},d2=Object.keys(cE).map(Number).sort(bi);function ve(e){const t=[];for(const n of d2)f2(e,n)&&t.push(cE[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function f2(e,t){return(e&t)===t}function ti(e,t){return!!(e&t)}function Nh(e,t){return e===t}class ss{constructor(t,n){this.type=t,this.value=n}}class g2{constructor(t,n,...i){this.type=t,this.operator=n,this.args=i}}function uE(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function p2(e){switch(e){case"string":return Ue;case"color":return Qt;case"number":return G;case"boolean":return Ft;case"number[]":return Li;default:throw new Error(`Unrecognized type hint: ${e}`)}}function gt(e,t,n){switch(typeof e){case"boolean":return new ss(Ft,e);case"number":return new ss(G,e);case"string":{let s=Ue;return YR(e)&&(s|=Qt),Nh(s&n,Lo)||(s&=n),new ss(s,e)}}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(e.length===0)throw new Error("Empty expression");if(typeof e[0]=="string")return T2(e,t,n);for(const s of e)if(typeof s!="number")throw new Error("Expected an array of numbers");let i=Li;return(e.length===3||e.length===4)&&(i|=Qt),n&&(i&=n),new ss(i,e)}const D={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},m2={[D.Get]:q(([e,t])=>t!==void 0?p2(t.value):fe,tt(1,2),_2),[D.Var]:q(([e])=>e.type,tt(1,1),y2),[D.Id]:q(G|Ue,qo,x2),[D.Concat]:q(Ue,tt(2,1/0),lt(fe)),[D.GeometryType]:q(Ue,qo,v2),[D.Resolution]:q(G,qo),[D.Zoom]:q(G,qo),[D.Time]:q(G,qo),[D.Any]:q(Ft,tt(2,1/0),lt(Ft)),[D.All]:q(Ft,tt(2,1/0),lt(Ft)),[D.Not]:q(Ft,tt(1,1),lt(Ft)),[D.Equal]:q(Ft,tt(2,2),lt(fe),Yi),[D.NotEqual]:q(Ft,tt(2,2),lt(fe),Yi),[D.GreaterThan]:q(Ft,tt(2,2),lt(fe),Yi),[D.GreaterThanOrEqualTo]:q(Ft,tt(2,2),lt(fe),Yi),[D.LessThan]:q(Ft,tt(2,2),lt(fe),Yi),[D.LessThanOrEqualTo]:q(Ft,tt(2,2),lt(fe),Yi),[D.Multiply]:q(e=>{let t=G|Qt;for(let n=0;n<e.length;n++)t&=e[n].type;return t},tt(2,1/0),lt(G|Qt),Yi),[D.Coalesce]:q(e=>{let t=fe;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},tt(2,1/0),lt(fe),Yi),[D.Divide]:q(G,tt(2,2),lt(G)),[D.Add]:q(G,tt(2,1/0),lt(G)),[D.Subtract]:q(G,tt(2,2),lt(G)),[D.Clamp]:q(G,tt(3,3),lt(G)),[D.Mod]:q(G,tt(2,2),lt(G)),[D.Pow]:q(G,tt(2,2),lt(G)),[D.Abs]:q(G,tt(1,1),lt(G)),[D.Floor]:q(G,tt(1,1),lt(G)),[D.Ceil]:q(G,tt(1,1),lt(G)),[D.Round]:q(G,tt(1,1),lt(G)),[D.Sin]:q(G,tt(1,1),lt(G)),[D.Cos]:q(G,tt(1,1),lt(G)),[D.Atan]:q(G,tt(1,2),lt(G)),[D.Sqrt]:q(G,tt(1,1),lt(G)),[D.Match]:q(e=>{let t=fe;for(let n=2;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},tt(4,1/0),$0,E2),[D.Between]:q(Ft,tt(3,3),lt(G)),[D.Interpolate]:q(e=>{let t=Qt|G;for(let n=3;n<e.length;n+=2)t&=e[n].type;return t},tt(6,1/0),$0,S2),[D.Case]:q(e=>{let t=fe;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},tt(3,1/0),w2,C2),[D.In]:q(Ft,tt(2,2),A2),[D.Number]:q(G,tt(1,1/0),lt(fe)),[D.String]:q(Ue,tt(1,1/0),lt(fe)),[D.Array]:q(e=>e.length===3||e.length===4?Li|Qt:Li,tt(1,1/0),lt(G)),[D.Color]:q(Qt,tt(1,4),lt(G)),[D.Band]:q(G,tt(1,3),lt(G)),[D.Palette]:q(Qt,tt(2,2),b2),[D.ToString]:q(Ue,tt(1,1),lt(Ft|G|Ue|Qt))};function _2(e,t){const n=gt(e[1],t);if(!(n instanceof ss))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(t.properties.add(n.value),e.length===3){const i=gt(e[2],t);return[n,i]}return[n]}function y2(e,t,n,i){const s=e[1];if(typeof s!="string")throw new Error("Expected a string argument for var operation");if(t.variables.add(s),!("variables"in t.style)||t.style.variables[s]===void 0)return[new ss(fe,s)];const r=t.style.variables[s],o=gt(r,t);if(o.value=s,i&&!ti(i,o.type))throw new Error(`The variable ${s} has type ${ve(o.type)} but the following type was expected: ${ve(i)}`);return[o]}function x2(e,t){t.featureId=!0}function v2(e,t){t.geometryType=!0}function qo(e,t){const n=e[0];if(e.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function tt(e,t){return function(n,i){const s=n[0],r=n.length-1;if(e===t){if(r!==e){const o=e===1?"":"s";throw new Error(`Expected ${e} argument${o} for ${s}, got ${r}`)}}else if(r<e||r>t){const o=t===1/0?`${e} or more`:`${e} to ${t}`;throw new Error(`Expected ${o} arguments for ${s}, got ${r}`)}}}function lt(e){return function(t,n){const i=t[0],s=t.length-1,r=new Array(s);for(let o=0;o<s;++o){const a=gt(t[o+1],n);if(!ti(e,a.type)){const l=ve(e),c=ve(a.type);throw new Error(`Unexpected type for argument ${o} of ${i} operation, got ${l} but expected ${c}`)}a.type&=e,r[o]=a}return r}}function Yi(e,t,n){const i=e[0],s=e.length-1;let r=fe;for(let a=0;a<n.length;++a)r&=n[a].type;if(r===Lo)throw new Error(`No common type could be found for arguments of ${i} operation`);const o=new Array(s);for(let a=0;a<s;++a)o[a]=gt(e[a+1],t,r);return o}function w2(e,t){const n=e[0],i=e.length-1;if(i%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function $0(e,t){const n=e[0],i=e.length-1;if(i%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function E2(e,t,n,i){const s=e.length-1;let o=gt(e[1],t).type;const a=gt(e[e.length-1],t);let l=i!==void 0?i&a.type:a.type;const c=new Array(s-2);for(let h=0;h<s-2;h+=2){const d=gt(e[h+2],t),f=gt(e[h+3],t);o&=d.type,l&=f.type,c[h]=d,c[h+1]=f}const u=Ue|G|Ft;if(!ti(u,o))throw new Error(`Expected an input of type ${ve(u)} for the interpolate operation, got ${ve(o)} instead`);if(Nh(l,Lo))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(let h=0;h<s-2;h+=2){const d=gt(e[h+2],t,o),f=gt(e[h+3],t,l);c[h]=d,c[h+1]=f}return[gt(e[1],t,o),...c,gt(e[e.length-1],t,l)]}function S2(e,t,n,i){const s=e[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":if(r=s[1],typeof r!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(r)} instead`);break;default:r=null}if(!r)throw new Error(`Invalid interpolation type: ${JSON.stringify(s)}`);r=gt(r,t);let o=gt(e[2],t);if(!ti(G,o.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${ve(o.type)} instead`);o=gt(e[2],t,G);const a=new Array(e.length-3);for(let l=0;l<a.length;l+=2){let c=gt(e[l+3],t);if(!ti(G,c.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${ve(c.type)} at position ${l+2} instead`);let u=gt(e[l+4],t);if(!ti(G|Qt,u.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${ve(u.type)} at position ${l+3} instead`);c=gt(e[l+3],t,G),u=gt(e[l+4],t,G|Qt),a[l]=c,a[l+1]=u}return[r,o,...a]}function C2(e,t,n,i){const s=gt(e[e.length-1],t);let r=i!==void 0?i&s.type:s.type;const o=new Array(e.length-1);for(let a=0;a<o.length-1;a+=2){const l=gt(e[a+1],t),c=gt(e[a+2],t);if(!ti(Ft,l.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${ve(l.type)} at position ${a} instead`);r&=c.type,o[a]=l,o[a+1]=c}if(Nh(r,Lo))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(let a=0;a<o.length-1;a+=2)o[a+1]=gt(e[a+2],t,r);return o[o.length-1]=gt(e[e.length-1],t,r),o}function A2(e,t){let n=e[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=Ue|G;const s=new Array(n.length);for(let o=0;o<s.length;o++){const a=gt(n[o],t);i&=a.type,s[o]=a}if(Nh(i,Lo))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(e));return[gt(e[1],t,i),...s]}function b2(e,t){const n=gt(e[1],t,G);if(n.type!==G)throw new Error(`The first argument of palette must be an number, got ${ve(n.type)} instead`);const i=e[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const s=new Array(i.length);for(let r=0;r<s.length;r++){const o=gt(i[r],t,Qt);if(!(o instanceof ss))throw new Error(`The palette color at index ${r} must be a literal value`);if(!ti(o.type,Qt))throw new Error(`The palette color at index ${r} should be of type color, got ${ve(o.type)} instead`);s[r]=o}return[n,...s]}function q(e,...t){return function(n,i,s){const r=n[0];let o=[];for(let l=0;l<t.length;l++)o=t[l](n,i,o,s)||o;let a=typeof e=="function"?e(o):e;if(s!==void 0){if(!ti(a,s))throw new Error(`The following expression was expected to return ${ve(s)}, but returns ${ve(a)} instead: ${JSON.stringify(n)}`);a&=s}if(a===Lo)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new g2(a,r,...o)}}function T2(e,t,n){const i=e[0],s=m2[i];if(!s)throw new Error(`Unknown operator: ${i}`);return s(e,t,n)}function hE(e){if(!e)return"";const t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return hE(e.getGeometries()[0]);default:return""}}function dE(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function zi(e,t,n){const i=gt(e,n);if(!ti(t,i.type)){const s=ve(t),r=ve(i.type);throw new Error(`Expected expression to be of type ${s}, got ${r}`)}return Fn(i)}function Fn(e,t){if(e instanceof ss){if(e.type===Qt&&typeof e.value=="string"){const i=mm(e.value);return function(){return i}}return function(){return e.value}}const n=e.operator;switch(n){case D.Number:case D.String:case D.Coalesce:return R2(e);case D.Get:case D.Var:return M2(e);case D.Id:return i=>i.featureId;case D.GeometryType:return i=>i.geometryType;case D.Concat:{const i=e.args.map(s=>Fn(s));return s=>"".concat(...i.map(r=>r(s).toString()))}case D.Resolution:return i=>i.resolution;case D.Any:case D.All:case D.Between:case D.In:case D.Not:return I2(e);case D.Equal:case D.NotEqual:case D.LessThan:case D.LessThanOrEqualTo:case D.GreaterThan:case D.GreaterThanOrEqualTo:return k2(e);case D.Multiply:case D.Divide:case D.Add:case D.Subtract:case D.Clamp:case D.Mod:case D.Pow:case D.Abs:case D.Floor:case D.Ceil:case D.Round:case D.Sin:case D.Cos:case D.Atan:case D.Sqrt:return P2(e);case D.Case:return O2(e);case D.Match:return L2(e);case D.Interpolate:return D2(e);case D.ToString:return F2(e);default:throw new Error(`Unsupported operator ${n}`)}}function R2(e,t){const n=e.operator,i=e.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Fn(e.args[r]);switch(n){case D.Coalesce:return r=>{for(let o=0;o<i;++o){const a=s[o](r);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case D.Number:case D.String:return r=>{for(let o=0;o<i;++o){const a=s[o](r);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function M2(e,t){const i=e.args[0].value;switch(e.operator){case D.Get:return s=>s.properties[i];case D.Var:return s=>s.variables[i];default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}function k2(e,t){const n=e.operator,i=Fn(e.args[0]),s=Fn(e.args[1]);switch(n){case D.Equal:return r=>i(r)===s(r);case D.NotEqual:return r=>i(r)!==s(r);case D.LessThan:return r=>i(r)<s(r);case D.LessThanOrEqualTo:return r=>i(r)<=s(r);case D.GreaterThan:return r=>i(r)>s(r);case D.GreaterThanOrEqualTo:return r=>i(r)>=s(r);default:throw new Error(`Unsupported comparison operator ${n}`)}}function I2(e,t){const n=e.operator,i=e.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Fn(e.args[r]);switch(n){case D.Any:return r=>{for(let o=0;o<i;++o)if(s[o](r))return!0;return!1};case D.All:return r=>{for(let o=0;o<i;++o)if(!s[o](r))return!1;return!0};case D.Between:return r=>{const o=s[0](r),a=s[1](r),l=s[2](r);return o>=a&&o<=l};case D.In:return r=>{const o=s[0](r);for(let a=1;a<i;++a)if(o===s[a](r))return!0;return!1};case D.Not:return r=>!s[0](r);default:throw new Error(`Unsupported logical operator ${n}`)}}function P2(e,t){const n=e.operator,i=e.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Fn(e.args[r]);switch(n){case D.Multiply:return r=>{let o=1;for(let a=0;a<i;++a)o*=s[a](r);return o};case D.Divide:return r=>s[0](r)/s[1](r);case D.Add:return r=>{let o=0;for(let a=0;a<i;++a)o+=s[a](r);return o};case D.Subtract:return r=>s[0](r)-s[1](r);case D.Clamp:return r=>{const o=s[0](r),a=s[1](r);if(o<a)return a;const l=s[2](r);return o>l?l:o};case D.Mod:return r=>s[0](r)%s[1](r);case D.Pow:return r=>Math.pow(s[0](r),s[1](r));case D.Abs:return r=>Math.abs(s[0](r));case D.Floor:return r=>Math.floor(s[0](r));case D.Ceil:return r=>Math.ceil(s[0](r));case D.Round:return r=>Math.round(s[0](r));case D.Sin:return r=>Math.sin(s[0](r));case D.Cos:return r=>Math.cos(s[0](r));case D.Atan:return i===2?r=>Math.atan2(s[0](r),s[1](r)):r=>Math.atan(s[0](r));case D.Sqrt:return r=>Math.sqrt(s[0](r));default:throw new Error(`Unsupported numeric operator ${n}`)}}function O2(e,t){const n=e.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Fn(e.args[s]);return s=>{for(let r=0;r<n-1;r+=2)if(i[r](s))return i[r+1](s);return i[n-1](s)}}function L2(e,t){const n=e.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Fn(e.args[s]);return s=>{const r=i[0](s);for(let o=1;o<n;o+=2)if(r===i[o](s))return i[o+1](s);return i[n-1](s)}}function D2(e,t){const n=e.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Fn(e.args[s]);return s=>{const r=i[0](s),o=i[1](s);let a,l;for(let c=2;c<n;c+=2){const u=i[c](s);let h=i[c+1](s);const d=Array.isArray(h);if(d&&(h=BR(h)),u>=o)return c===2?h:d?N2(r,o,a,l,u,h):ua(r,o,a,l,u,h);a=u,l=h}return l}}function F2(e,t){const n=e.operator,i=e.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Fn(e.args[r]);switch(n){case D.ToString:return r=>{const o=s[0](r);return e.args[0].type===Qt?_m(o):o.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function ua(e,t,n,i,s,r){const o=s-n;if(o===0)return i;const a=t-n,l=e===1?a/o:(Math.pow(e,a)-1)/(Math.pow(e,o)-1);return i+l*(r-i)}function N2(e,t,n,i,s,r){if(s-n===0)return i;const a=B0(i),l=B0(r);let c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);const u=[ua(e,t,n,a[0],s,l[0]),ua(e,t,n,a[1],s,l[1]),a[2]+ua(e,t,n,0,s,c),ua(e,t,n,i[3],s,r[3])];return Qw(VR(u))}function z2(e){return!0}function j2(e){const t=uE(),n=W2(e,t),i=dE();return function(s,r){if(i.properties=s.getPropertiesInternal(),i.resolution=r,t.featureId){const o=s.getId();o!==void 0?i.featureId=o:i.featureId=null}return t.geometryType&&(i.geometryType=hE(s.getGeometry())),n(i)}}function K0(e){const t=uE(),n=e.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=vg(e[o],t);const s=dE(),r=new Array(n);return function(o,a){if(s.properties=o.getPropertiesInternal(),s.resolution=a,t.featureId){const c=o.getId();c!==void 0?s.featureId=c:s.featureId=null}let l=0;for(let c=0;c<n;++c){const u=i[c](s);u&&(r[l]=u,l+=1)}return r.length=l,r}}function W2(e,t){const n=e.length,i=new Array(n);for(let s=0;s<n;++s){const r=e[s],o="filter"in r?zi(r.filter,Ft,t):z2;let a;if(Array.isArray(r.style)){const l=r.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=vg(r.style[c],t)}else a=[vg(r.style,t)];i[s]={filter:o,styles:a}}return function(s){const r=[];let o=!1;for(let a=0;a<n;++a){const l=i[a].filter;if(l(s)&&!(e[a].else&&o)){o=!0;for(const c of i[a].styles){const u=c(s);u&&r.push(u)}}}return r}}function vg(e,t){const n=cl(e,"",t),i=ul(e,"",t),s=B2(e,t),r=V2(e,t),o=Le(e,"z-index",t);if(!n&&!i&&!s&&!r&&!yo(e))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new xs;return function(l){let c=!0;if(n){const u=n(l);u&&(c=!1),a.setFill(u)}if(i){const u=i(l);u&&(c=!1),a.setStroke(u)}if(s){const u=s(l);u&&(c=!1),a.setText(u)}if(r){const u=r(l);u&&(c=!1),a.setImage(u)}return o&&a.setZIndex(o(l)),c?null:a}}function cl(e,t,n){let i;if(t+"fill-pattern-src"in e?i=U2(e,t+"fill-",n):i=wm(e,t+"fill-color",n),!i)return null;const s=new Po;return function(r){const o=i(r);return o==="none"?null:(s.setColor(o),s)}}function ul(e,t,n){const i=Le(e,t+"stroke-width",n),s=wm(e,t+"stroke-color",n);if(!i&&!s)return null;const r=yi(e,t+"stroke-line-cap",n),o=yi(e,t+"stroke-line-join",n),a=fE(e,t+"stroke-line-dash",n),l=Le(e,t+"stroke-line-dash-offset",n),c=Le(e,t+"stroke-miter-limit",n),u=new Dh;return function(h){if(s){const d=s(h);if(d==="none")return null;u.setColor(d)}if(i&&u.setWidth(i(h)),r){const d=r(h);if(d!=="butt"&&d!=="round"&&d!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(d)}if(o){const d=o(h);if(d!=="bevel"&&d!=="round"&&d!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(d)}return a&&u.setLineDash(a(h)),l&&u.setLineDashOffset(l(h)),c&&u.setMiterLimit(c(h)),u}}function B2(e,t){const n="text-",i=yi(e,n+"value",t);if(!i)return null;const s=cl(e,n,t),r=cl(e,n+"background-",t),o=ul(e,n,t),a=ul(e,n+"background-",t),l=yi(e,n+"font",t),c=Le(e,n+"max-angle",t),u=Le(e,n+"offset-x",t),h=Le(e,n+"offset-y",t),d=hl(e,n+"overflow",t),f=yi(e,n+"placement",t),g=Le(e,n+"repeat",t),p=zh(e,n+"scale",t),y=hl(e,n+"rotate-with-view",t),_=Le(e,n+"rotation",t),m=yi(e,n+"align",t),x=yi(e,n+"justify",t),v=yi(e,n+"baseline",t),w=fE(e,n+"padding",t),S=jh(e,n+"declutter-mode"),C=new vm({declutterMode:S});return function(E){if(C.setText(i(E)),s&&C.setFill(s(E)),r&&C.setBackgroundFill(r(E)),o&&C.setStroke(o(E)),a&&C.setBackgroundStroke(a(E)),l&&C.setFont(l(E)),c&&C.setMaxAngle(c(E)),u&&C.setOffsetX(u(E)),h&&C.setOffsetY(h(E)),d&&C.setOverflow(d(E)),f){const b=f(E);if(b!=="point"&&b!=="line")throw new Error("Expected point or line for text-placement");C.setPlacement(b)}if(g&&C.setRepeat(g(E)),p&&C.setScale(p(E)),y&&C.setRotateWithView(y(E)),_&&C.setRotation(_(E)),m){const b=m(E);if(b!=="left"&&b!=="center"&&b!=="right"&&b!=="end"&&b!=="start")throw new Error("Expected left, right, center, start, or end for text-align");C.setTextAlign(b)}if(x){const b=x(E);if(b!=="left"&&b!=="right"&&b!=="center")throw new Error("Expected left, right, or center for text-justify");C.setJustify(b)}if(v){const b=v(E);if(b!=="bottom"&&b!=="top"&&b!=="middle"&&b!=="alphabetic"&&b!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");C.setTextBaseline(b)}return w&&C.setPadding(w(E)),C}}function V2(e,t){return"icon-src"in e?Y2(e,t):"shape-points"in e?H2(e,t):"circle-radius"in e?G2(e,t):null}function Y2(e,t){const n="icon-",i=n+"src",s=gE(e[i],i),r=Vu(e,n+"anchor",t),o=zh(e,n+"scale",t),a=Le(e,n+"opacity",t),l=Vu(e,n+"displacement",t),c=Le(e,n+"rotation",t),u=hl(e,n+"rotate-with-view",t),h=q0(e,n+"anchor-origin"),d=J0(e,n+"anchor-x-units"),f=J0(e,n+"anchor-y-units"),g=Z2(e,n+"color"),p=$2(e,n+"cross-origin"),y=K2(e,n+"offset"),_=q0(e,n+"offset-origin"),m=Yu(e,n+"width"),x=Yu(e,n+"height"),v=X2(e,n+"size"),w=jh(e,n+"declutter-mode"),S=new Fh({src:s,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:g,crossOrigin:p,offset:y,offsetOrigin:_,height:x,width:m,size:v,declutterMode:w});return function(C){return a&&S.setOpacity(a(C)),l&&S.setDisplacement(l(C)),c&&S.setRotation(c(C)),u&&S.setRotateWithView(u(C)),o&&S.setScale(o(C)),r&&S.setAnchor(r(C)),S}}function H2(e,t){const n="shape-",i=n+"points",s=n+"radius",r=wg(e[i],i),o=wg(e[s],s),a=cl(e,n,t),l=ul(e,n,t),c=zh(e,n+"scale",t),u=Vu(e,n+"displacement",t),h=Le(e,n+"rotation",t),d=hl(e,n+"rotate-with-view",t),f=Yu(e,n+"radius2"),g=Yu(e,n+"angle"),p=jh(e,n+"declutter-mode"),y=new Lh({points:r,radius:o,radius2:f,angle:g,declutterMode:p});return function(_){return a&&y.setFill(a(_)),l&&y.setStroke(l(_)),u&&y.setDisplacement(u(_)),h&&y.setRotation(h(_)),d&&y.setRotateWithView(d(_)),c&&y.setScale(c(_)),y}}function G2(e,t){const n="circle-",i=cl(e,n,t),s=ul(e,n,t),r=Le(e,n+"radius",t),o=zh(e,n+"scale",t),a=Vu(e,n+"displacement",t),l=Le(e,n+"rotation",t),c=hl(e,n+"rotate-with-view",t),u=jh(e,n+"declutter-mode"),h=new Pl({radius:5,declutterMode:u});return function(d){return r&&h.setRadius(r(d)),i&&h.setFill(i(d)),s&&h.setStroke(s(d)),a&&h.setDisplacement(a(d)),l&&h.setRotation(l(d)),c&&h.setRotateWithView(c(d)),o&&h.setScale(o(d)),h}}function Le(e,t,n){if(!(t in e))return;const i=zi(e[t],G,n);return function(s){return wg(i(s),t)}}function yi(e,t,n){if(!(t in e))return null;const i=zi(e[t],Ue,n);return function(s){return gE(i(s),t)}}function U2(e,t,n){const i=yi(e,t+"pattern-src",n),s=Z0(e,t+"pattern-offset",n),r=Z0(e,t+"pattern-size",n),o=wm(e,t+"color",n);return function(a){return{src:i(a),offset:s&&s(a),size:r&&r(a),color:o&&o(a)}}}function hl(e,t,n){if(!(t in e))return null;const i=zi(e[t],Ft,n);return function(s){const r=i(s);if(typeof r!="boolean")throw new Error(`Expected a boolean for ${t}`);return r}}function wm(e,t,n){if(!(t in e))return null;const i=zi(e[t],Qt|Ue,n);return function(s){return pE(i(s),t)}}function fE(e,t,n){if(!(t in e))return null;const i=zi(e[t],Li,n);return function(s){return Ol(i(s),t)}}function Vu(e,t,n){if(!(t in e))return null;const i=zi(e[t],Li,n);return function(s){const r=Ol(i(s),t);if(r.length!==2)throw new Error(`Expected two numbers for ${t}`);return r}}function Z0(e,t,n){if(!(t in e))return null;const i=zi(e[t],Li,n);return function(s){return mE(i(s),t)}}function zh(e,t,n){if(!(t in e))return null;const i=zi(e[t],Li|G,n);return function(s){return q2(i(s),t)}}function Yu(e,t){const n=e[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function X2(e,t){const n=e[t];if(n!==void 0){if(typeof n=="number")return $e(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function $2(e,t){const n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function q0(e,t){const n=e[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function J0(e,t){const n=e[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function K2(e,t){const n=e[t];if(n!==void 0)return Ol(n,t)}function jh(e,t){const n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function Z2(e,t){const n=e[t];if(n!==void 0)return pE(n,t)}function Ol(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const n=e.length;for(let i=0;i<n;++i)if(typeof e[i]!="number")throw new Error(`Expected an array of numbers for ${t}`);return e}function gE(e,t){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);return e}function wg(e,t){if(typeof e!="number")throw new Error(`Expected a number for ${t}`);return e}function pE(e,t){if(typeof e=="string")return e;const n=Ol(e,t),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function mE(e,t){const n=Ol(e,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function q2(e,t){return typeof e=="number"?e:mE(e,t)}const Q0={RENDER_ORDER:"renderOrder"};class _E extends kh{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Q0.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const i=this.getDeclutter();i in t.declutter||(t.declutter[i]=new qw(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(Q0.RENDER_ORDER,t)}setStyle(t){this.style_=J2(t),this.styleFunction_=t===null?void 0:c2(this.style_),this.changed()}}function J2(e){if(e===void 0)return u2;if(!e)return null;if(typeof e=="function"||e instanceof xs)return e;if(!Array.isArray(e))return K0([e]);if(e.length===0)return[];const t=e.length,n=e[0];if(n instanceof xs){const s=new Array(t);for(let r=0;r<t;++r){const o=e[r];if(!(o instanceof xs))throw new Error("Expected a list of style instances");s[r]=o}return s}if("style"in n){const s=new Array(t);for(let r=0;r<t;++r){const o=e[r];if(!("style"in o))throw new Error("Expected a list of rules with a style property");s[r]=o}return j2(s)}return K0(e)}class Q2 extends Xp{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){ft()}calculateMatrices2D(t){const n=t.viewState,i=t.coordinateToPixelTransform,s=t.pixelToCoordinateTransform;ni(i,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),cm(s,i)}forEachFeatureAtCoordinate(t,n,i,s,r,o,a,l){let c;const u=n.viewState;function h(v,w,S,C){return r.call(o,w,v?S:null,C)}const d=u.projection,f=Lw(t.slice(),d),g=[[0,0]];if(d.canWrapX()&&s){const v=d.getExtent(),w=yt(v);g.push([-w,0],[w,0])}const p=n.layerStatesArray,y=p.length,_=[],m=[];for(let v=0;v<g.length;v++)for(let w=y-1;w>=0;--w){const S=p[w],C=S.layer;if(C.hasRenderer()&&gm(S,u)&&a.call(l,C)){const E=C.getRenderer(),b=C.getSource();if(E&&b){const R=b.getWrapX()?f:t,k=h.bind(null,S.managed);m[0]=R[0]+g[v][0],m[1]=R[1]+g[v][1],c=E.forEachFeatureAtCoordinate(m,n,i,k,_)}if(c)return c}}if(_.length===0)return;const x=1/_.length;return _.forEach((v,w)=>v.distanceSq+=w*x),_.sort((v,w)=>v.distanceSq-w.distanceSq),_.some(v=>c=v.callback(v.feature,v.layer,v.geometry)),c}hasFeatureAtCoordinate(t,n,i,s,r,o){return this.forEachFeatureAtCoordinate(t,n,i,s,Qa,this,r,o)!==void 0}getMap(){return this.map_}renderFrame(t){ft()}scheduleExpireIconCache(t){Kn.canExpireCache()&&t.postRenderFunctions.push(tM)}}function tM(e,t){Kn.expire()}class yE extends Ni{constructor(t,n,i,s){super(t),this.inversePixelTransform=n,this.frameState=i,this.context=s}}class eM extends Q2{constructor(t){super(t),this.fontChangeListenerKey_=ct(di,mo.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Oh+" ol-layers";const i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const i=this.getMap();if(i.hasListener(t)){const s=new yE(t,void 0,n);i.dispatchEvent(s)}}disposeInternal(){At(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(gn.PRECOMPOSE,t);const n=t.layerStatesArray.sort(function(a,l){return a.zIndex-l.zIndex});n.some(a=>a.layer instanceof _E&&a.layer.getDeclutter())&&(t.declutter={});const s=t.viewState;this.children_.length=0;const r=[];let o=null;for(let a=0,l=n.length;a<l;++a){const c=n[a];t.layerIndex=a;const u=c.layer,h=u.getSourceState();if(!gm(c,s)||h!="ready"&&h!="undefined"){u.unrender();continue}const d=u.render(t,o);d&&(d!==o&&(this.children_.push(d),o=d),r.push(c))}this.declutter(t,r),KR(this.element_,this.children_),this.dispatchRenderEvent(gn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){for(let i=n.length-1;i>=0;--i){const s=n[i],r=s.layer;r.getDeclutter()&&r.renderDeclutter(t,s)}n.forEach(i=>i.layer.renderDeferred(t))}}class Qi extends Ni{constructor(t,n){super(t),this.layer=n}}const Vd={LAYERS:"layers"};class Do extends Aw{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let i=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Vd.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new $n(i.slice(),{unique:!0}):ht(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new $n(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(At),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(ct(t,Ie.ADD,this.handleLayersAdd_,this),ct(t,Ie.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(At);Ml(this.listenerKeys_);const n=t.getArray();for(let i=0,s=n.length;i<s;i++){const r=n[i];this.registerLayerListeners_(r),this.dispatchEvent(new Qi("addlayer",r))}this.changed()}registerLayerListeners_(t){const n=[ct(t,mo.PROPERTYCHANGE,this.handleLayerChange_,this),ct(t,J.CHANGE,this.handleLayerChange_,this)];t instanceof Do&&n.push(ct(t,"addlayer",this.handleLayerGroupAdd_,this),ct(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[pt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new Qi("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Qi("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new Qi("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,i=pt(n);this.listenerKeys_[i].forEach(At),delete this.listenerKeys_[i],this.dispatchEvent(new Qi("removelayer",n)),this.changed()}getLayers(){return this.get(Vd.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const i=n.getArray();for(let s=0,r=i.length;s<r;++s)this.dispatchEvent(new Qi("removelayer",i[s]))}this.set(Vd.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],i=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const s=this.getLayerState();let r=s.zIndex;!t&&s.zIndex===void 0&&(r=0);for(let o=i,a=n.length;o<a;o++){const l=n[o];l.opacity*=s.opacity,l.visible=l.visible&&s.visible,l.maxResolution=Math.min(l.maxResolution,s.maxResolution),l.minResolution=Math.max(l.minResolution,s.minResolution),l.minZoom=Math.max(l.minZoom,s.minZoom),l.maxZoom=Math.min(l.maxZoom,s.maxZoom),s.extent!==void 0&&(l.extent!==void 0?l.extent=Ra(l.extent,s.extent):l.extent=s.extent),l.zIndex===void 0&&(l.zIndex=r)}return n}getSourceState(){return"ready"}}class Fr extends Ni{constructor(t,n,i){super(t),this.map=n,this.frameState=i!==void 0?i:null}}class Zi extends Fr{constructor(t,n,i,s,r,o){super(t,n,r),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Nt={SINGLECLICK:"singleclick",CLICK:J.CLICK,DBLCLICK:J.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Eg={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class nM extends Sh{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=ct(i,Eg.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ct(i,Eg.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(J.TOUCHMOVE,this.boundHandleTouchMove_,sE?{passive:!1}:!1)}emulateClick_(t){let n=new Zi(Nt.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Zi(Nt.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Zi(Nt.SINGLECLICK,this.map_,t);this.dispatchEvent(i)},250)}updateActivePointers_(t){const n=t,i=n.pointerId;if(n.type==Nt.POINTERUP||n.type==Nt.POINTERCANCEL){delete this.trackedTouches_[i];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==n.target){delete this.trackedTouches_[s];break}}else(n.type==Nt.POINTERDOWN||n.type==Nt.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new Zi(Nt.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(At),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new Zi(Nt.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ct(i,Nt.POINTERMOVE,this.handlePointerMove_,this),ct(i,Nt.POINTERUP,this.handlePointerUp_,this),ct(this.element_,Nt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ct(this.element_.getRootNode(),Nt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new Zi(Nt.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Zi(Nt.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(At(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(J.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(At(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(At),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const mi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},ge={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Hu=1/0;class iM{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ml(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,i=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(t){ht(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Hu?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,i=this.priorities_,s=n.length,r=n[t],o=i[t],a=t;for(;t<s>>1;){const l=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),u=c<s&&i[c]<i[l]?c:l;n[t]=n[u],i[t]=i[u],t=u}n[t]=r,i[t]=o,this.siftDown_(a,t)}siftDown_(t,n){const i=this.elements_,s=this.priorities_,r=i[n],o=s[n];for(;n>t;){const a=this.getParentIndex_(n);if(s[a]>o)i[n]=i[a],s[n]=s[a],n=a;else break}i[n]=r,s[n]=o}reprioritize(){const t=this.priorityFunction_,n=this.elements_,i=this.priorities_;let s=0;const r=n.length;let o,a,l;for(a=0;a<r;++a)o=n[a],l=t(o),l==Hu?delete this.queuedElements_[this.keyFunction_(o)]:(i[s]=l,n[s++]=o);n.length=s,i.length=s,this.heapify_()}}const K={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class sM extends iM{constructor(t,n){super(function(i){return t.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(J.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,i=n.getState();if(i===K.LOADED||i===K.ERROR||i===K.EMPTY){i!==K.ERROR&&n.removeEventListener(J.CHANGE,this.boundHandleTileChange_);const s=n.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let i=0,s,r,o;for(;this.tilesLoading_<t&&i<n&&this.getCount()>0;)r=this.dequeue()[0],o=r.getKey(),s=r.getState(),s===K.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}function rM(e,t,n,i,s){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return Hu;const r=e.viewState.center,o=i[0]-r[0],a=i[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+a*a)/s}class Em extends zn{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){ju(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&ju(this.element);for(let n=0,i=this.listenerKeys.length;n<i;++n)At(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==_o&&this.listenerKeys.push(ct(t,mi.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class oM extends Em{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=t.className!==void 0?t.className:"ol-attribution",i=t.tipLabel!==void 0?t.tipLabel:"Attributions",s=t.expandClassName!==void 0?t.expandClassName:n+"-expand",r=t.collapseLabel!==void 0?t.collapseLabel:"›",o=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const a=t.label!==void 0?t.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=s):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(J.CLICK,this.handleClick_.bind(this),!1);const c=n+" "+Oh+" "+xm+(this.collapsed_&&this.collapsible_?" "+Y0:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(s=>s.getAttributions(t)))),i=!this.getMap().getAllLayers().some(s=>s.getSource()&&s.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),n}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(s=>vT(()=>s))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Ps(n,this.renderedAttributions_)){rE(this.ulElement_);for(let s=0,r=n.length;s<r;++s){const o=document.createElement("li");o.innerHTML=n[s],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Y0),this.collapsed_?V0(this.collapseLabel_,this.label_):V0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class aM extends Em{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",i=t.label!==void 0?t.label:"⇧",s=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(s));const r=t.tipLabel?t.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(J.CLICK,this.handleClick_.bind(this),!1);const a=n+" "+Oh+" "+xm,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(yc)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Io}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const s="rotate("+i+"rad)";if(this.autoHide_){const r=this.element.classList.contains(yc);!r&&i===0?this.element.classList.add(yc):r&&i!==0&&this.element.classList.remove(yc)}this.label_.style.transform=s}this.rotation_=i}}class lM extends Em{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,s=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",r=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",o=t.zoomInLabel!==void 0?t.zoomInLabel:"+",a=t.zoomOutLabel!==void 0?t.zoomOutLabel:"–",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",c=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=s,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(J.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(J.CLICK,this.handleClick_.bind(this,-i),!1);const d=n+" "+Oh+" "+xm,f=this.element;f.className=d,f.appendChild(u),f.appendChild(h),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const r=i.getConstrainedZoom(s+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:r,duration:this.duration_,easing:Io})):i.setZoom(r)}}}function cM(e){e=e||{};const t=new $n;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new lM(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new aM(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new oM(e.attributionOptions)),t}const ty={ACTIVE:"active"};let Ll=class extends zn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(ty.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(ty.ACTIVE,t)}setMap(t){this.map_=t}};function uM(e,t,n){const i=e.getCenterInternal();if(i){const s=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:nR,center:e.getConstrainedCenter(s)})}}function Sm(e,t,n,i){const s=e.getZoom();if(s===void 0)return;const r=e.getConstrainedZoom(s+t),o=e.getResolutionForZoom(r);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:o,anchor:n,duration:i!==void 0?i:250,easing:Io})}class hM extends Ll{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==Nt.DBLCLICK){const i=t.originalEvent,s=t.map,r=t.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=s.getView();Sm(a,o,r,this.duration_),i.preventDefault(),n=!0}return!n}}class Dl extends Ll{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Nt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Nt.POINTERUP){const i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Nt.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,n=this.stopDown(i)}else t.type==Nt.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Cm(e){const t=e.length;let n=0,i=0;for(let s=0;s<t;s++)n+=e[s].clientX,i+=e[s].clientY;return{clientX:n/t,clientY:i/t}}function Sg(e){const t=arguments;return function(n){let i=!0;for(let s=0,r=t.length;s<r&&(i=i&&t[s](n),!!i);++s);return i}}const dM=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},fM=function(e){const t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},xE=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?fM(e):!0},gM=Qa,vE=function(e){const t=e.originalEvent;return t.button==0&&!(UR&&tE&&t.ctrlKey)},wE=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},pM=function(e){const t=e.originalEvent;return tE?t.metaKey:t.ctrlKey},mM=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},EE=function(e){const t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},Yd=function(e){const t=e.originalEvent;return ht(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"},_M=function(e){const t=e.originalEvent;return ht(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};class yM extends Dl{constructor(t){super({stopDown:Eh}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:Sg(wE,_M);this.condition_=t.onFocusOnly?Sg(xE,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,s=n.getEventPixel(Cm(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const r=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],a=t.map.getView();VT(r,a.getResolution()),em(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-s*Math.cos(r),a[1]-s*Math.sin(r)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Io})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class xM extends Dl{constructor(t){t=t||{},super({stopDown:Eh}),this.condition_=t.condition?t.condition:dM,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Yd(t))return;const n=t.map,i=n.getView();if(i.getConstraints().rotation===lm)return;const s=n.getSize(),r=t.pixel,o=Math.atan2(s[1]/2-r[1],r[0]-s[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(t){return Yd(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Yd(t)&&vE(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class vM extends Xp{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,i="px",s=this.element_.style;s.left=Math.min(t[0],n[0])+i,s.top=Math.min(t[1],n[1])+i,s.width=Math.abs(n[0]-t[0])+i,s.height=Math.abs(n[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,n=this.endPixel_,s=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new nl([s])}getGeometry(){return this.geometry_}}const xc={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Hd extends Ni{constructor(t,n,i){super(t),this.coordinate=n,this.mapBrowserEvent=i}}class wM extends Dl{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new vM(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:vE,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,i){const s=i[0]-n[0],r=i[1]-n[1];return s*s+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Hd(xc.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new Hd(n?xc.BOXEND:xc.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Hd(xc.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}}class EM extends wM{constructor(t){t=t||{};const n=t.condition?t.condition:mM;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const i=this.getMap().getView();let s=this.getGeometry();if(this.out_){const r=i.rotatedExtentForGeometry(s),o=i.getResolutionForExtentInternal(r),a=i.getResolution()/o;s=s.clone(),s.scale(a*a)}i.fitInternal(s,{duration:this.duration_,easing:Io})}}const Fs={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class SM extends Ll{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return wE(n)&&EE(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==J.KEYDOWN){const i=t.originalEvent,s=i.key;if(this.condition_(t)&&(s==Fs.DOWN||s==Fs.LEFT||s==Fs.RIGHT||s==Fs.UP)){const o=t.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,c=0;s==Fs.DOWN?c=-a:s==Fs.LEFT?l=-a:s==Fs.RIGHT?l=a:c=a;const u=[l,c];em(u,o.getRotation()),uM(o,u,this.duration_),i.preventDefault(),n=!0}}return!n}}class CM extends Ll{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!pM(n)&&EE(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==J.KEYDOWN||t.type==J.KEYPRESS){const i=t.originalEvent,s=i.key;if(this.condition_(t)&&(s==="+"||s==="-")){const r=t.map,o=s==="+"?this.delta_:-this.delta_,a=r.getView();Sm(a,o,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class AM{constructor(t,n,i){this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>t;)i-=3;const s=this.points_[n+2]-this.points_[i+2];if(s<1e3/60)return!1;const r=this.points_[n]-this.points_[i],o=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class bM extends Ll{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:gM;this.condition_=t.onFocusOnly?Sg(xE,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==J.WHEEL)return!0;const i=t.map,s=t.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);let r;if(t.type==J.WHEEL&&(r=s.deltaY,HR&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=eE),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=r;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let i=-Gt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Sm(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class TM extends Dl{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Eh),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const i=this.targetPointers[0],s=this.targetPointers[1],r=Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=r-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=r;const o=t.map,a=o.getView();a.getConstraints().rotation!==lm&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Cm(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class RM extends Dl{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Eh),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const i=this.targetPointers[0],s=this.targetPointers[1],r=i.clientX-s.clientX,o=i.clientY-s.clientY,a=Math.sqrt(r*r+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=t.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Cm(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const i=t.map.getView(),s=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function MM(e){e=e||{};const t=new $n,n=new AM(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new xM),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new hM({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new yM({onFocusOnly:e.onFocusOnly,kinetic:n})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new TM),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new RM({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new SM),t.push(new CM({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new bM({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new EM({duration:e.zoomDuration})),t}function SE(e){if(e instanceof kh){e.setMapInternal(null);return}e instanceof Do&&e.getLayers().forEach(SE)}function CE(e,t){if(e instanceof kh){e.setMapInternal(t);return}if(e instanceof Do){const n=e.getLayers().getArray();for(let i=0,s=n.length;i<s;++i)CE(n[i],t)}}let kM=class extends zn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=IM(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:eE,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=On(),this.pixelToCoordinateTransform_=On(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||cM(),this.interactions=n.interactions||MM({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new sM(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ge.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(ge.VIEW,this.handleViewChanged_),this.addChangeListener(ge.SIZE,this.handleSizeChanged_),this.addChangeListener(ge.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;t.view&&!(t.view instanceof Un)&&t.view.then(function(s){i.setView(new Un(s))}),this.controls.addEventListener(Ie.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(Ie.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(Ie.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(Ie.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(Ie.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(Ie.REMOVE,s=>{const r=s.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){CE(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,i){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};const r=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:Qa,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,r,a,n,null,o,null)}getFeaturesAtPixel(t,n){const i=[];return this.forEachFeatureAtPixel(t,function(s){i.push(s)},n),i}getAllLayers(){const t=[];function n(i){i.forEach(function(s){s instanceof Do?n(s.getLayers()):t.push(s)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const s=n.layerFilter!==void 0?n.layerFilter:Qa,r=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,o,s,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const i=this.viewport_.getBoundingClientRect(),s=this.getSize(),r=i.width/s[0],o=i.height/s[1],a="changedTouches"in t?t.changedTouches[0]:t;return[(a.clientX-i.left)/r,(a.clientY-i.top)/o]}getTarget(){return this.get(ge.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return mg(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?Jt(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ge.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof $n){n.setLayers(t);return}const i=n.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){const s=t[n];if(!s.visible)continue;const r=s.layer.getRenderer();if(r&&!r.ready)return!0;const o=s.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(t){const n=hi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?Jt(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ge.SIZE)}getView(){return this.get(ge.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,i,s){return rM(this.frameState_,t,n,i,s)}handleBrowserEvent(t,n){n=n||t.type;const i=new Zi(n,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,i=n.type;if(i===Eg.POINTERDOWN||i===J.WHEEL||i===J.KEYDOWN){const s=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():s,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(r===s?s.documentElement:r).contains(o))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const s=this.getInteractions().getArray().slice();for(let r=s.length-1;r>=0;r--){const o=s[r];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let s=this.maxTilesLoading_,r=s;if(t){const o=t.viewHints;if(o[me.ANIMATING]||o[me.INTERACTING]){const a=Date.now()-t.time>8;s=a?0:8,r=a?0:2}}n.getTilesLoading()<s&&(n.reprioritize(),n.loadMoreTiles(s,r))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(gn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(gn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Fr(mi.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Fr(mi.LOADSTART,this,t))));const i=this.postRenderFunctions_;for(let s=0,r=i.length;s<r;++s)i[s](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,s=this.targetChangeHandlerKeys_.length;i<s;++i)At(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(J.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(J.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,ju(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new eM(this)),this.mapBrowserEventHandler_=new nM(this,this.moveTolerance_);for(const r in Nt)this.mapBrowserEventHandler_.addEventListener(Nt[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(J.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(J.WHEEL,this.boundHandleBrowserEvent_,sE?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[ct(i,J.KEYDOWN,this.handleBrowserEvent,this),ct(i,J.KEYPRESS,this.handleBrowserEvent,this)];const s=n.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(At(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(At(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ct(t,mo.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ct(t,J.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(At),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Qi("addlayer",t)),this.layerGroupPropertyListenerKeys_=[ct(t,mo.PROPERTYCHANGE,this.render,this),ct(t,J.CHANGE,this.render,this),ct(t,"addlayer",this.handleLayerAdd_,this),ct(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){const s=t[n].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){SE(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),i=this.getView(),s=this.frameState_;let r=null;if(n!==void 0&&z0(n)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:fg(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:pt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;r.nextExtent=fg(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),s&&(!this.previousExtent_||!Rh(this.previousExtent_)&&!tl(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Fr(mi.MOVESTART,this,s)),this.previousExtent_=Ch(this.previousExtent_)),this.previousExtent_&&!r.viewHints[me.ANIMATING]&&!r.viewHints[me.INTERACTING]&&!tl(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Fr(mi.MOVEEND,this,r)),Tw(r.extent,this.previousExtent_))),this.dispatchEvent(new Fr(mi.POSTRENDER,this,r)),this.renderComplete_=this.hasListener(mi.LOADSTART)||this.hasListener(mi.LOADEND)||this.hasListener(gn.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Qi("removelayer",n)),this.set(ge.LAYERGROUP,t)}setSize(t){this.set(ge.SIZE,t)}setTarget(t){this.set(ge.TARGET,t)}setView(t){if(!t||t instanceof Un){this.set(ge.VIEW,t);return}this.set(ge.VIEW,new Un);const n=this;t.then(function(i){n.setView(new Un(i))})}updateSize(){const t=this.getTargetElement();let n;if(t){const s=getComputedStyle(t),r=t.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),o=t.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(r)&&!isNaN(o)&&(n=[r,o],!z0(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Dw("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!Ps(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function IM(e){let t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},i=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new Do({layers:e.layers});n[ge.LAYERGROUP]=i,n[ge.TARGET]=e.target,n[ge.VIEW]=e.view instanceof Un?e.view:new Un;let s;e.controls!==void 0&&(Array.isArray(e.controls)?s=new $n(e.controls.slice()):(ht(typeof e.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),s=e.controls));let r;e.interactions!==void 0&&(Array.isArray(e.interactions)?r=new $n(e.interactions.slice()):(ht(typeof e.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),r=e.interactions));let o;return e.overlays!==void 0?Array.isArray(e.overlays)?o=new $n(e.overlays.slice()):(ht(typeof e.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=e.overlays):o=new $n,{controls:s,interactions:r,keyboardEventTarget:t,overlays:o,values:n}}const $={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},vc=[$.FILL],rs=[$.STROKE],tr=[$.BEGIN_PATH],ey=[$.CLOSE_PATH];class AE{drawCustom(t,n,i,s,r){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,i){}drawFeature(t,n,i){}drawGeometryCollection(t,n,i){}drawLineString(t,n,i){}drawMultiLineString(t,n,i){}drawMultiPoint(t,n,i){}drawMultiPolygon(t,n,i){}drawPoint(t,n,i){}drawPolygon(t,n,i){}drawText(t,n,i){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}class Fl extends AE{constructor(t,n,i,s){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(i){return i*n})}appendFlatPointCoordinates(t,n){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let a=0,l=t.length;a<l;a+=n)s[0]=t[a],s[1]=t[a+1],xo(i,s)&&(r[o++]=s[0],r[o++]=s[1]);return o}appendFlatLineCoordinates(t,n,i,s,r,o){const a=this.coordinates;let l=a.length;const c=this.getBufferedMaxExtent();o&&(n+=s);let u=t[n],h=t[n+1];const d=this.tmpCoordinate_;let f=!0,g,p,y;for(g=n+s;g<i;g+=s)d[0]=t[g],d[1]=t[g+1],y=hg(c,d),y!==p?(f&&(a[l++]=u,a[l++]=h,f=!1),a[l++]=d[0],a[l++]=d[1]):y===Zt.INTERSECTING?(a[l++]=d[0],a[l++]=d[1],f=!1):f=!0,u=d[0],h=d[1],p=y;return(r&&f||g===n+s)&&(a[l++]=u,a[l++]=h),l}drawCustomCoordinates_(t,n,i,s,r){for(let o=0,a=i.length;o<a;++o){const l=i[o],c=this.appendFlatLineCoordinates(t,n,l,s,!1,!1);r.push(c),n=l}return n}drawCustom(t,n,i,s,r){this.beginGeometry(t,n,r);const o=t.getType(),a=t.getStride(),l=this.coordinates.length;let c,u,h,d,f;switch(o){case"MultiPolygon":c=t.getOrientedFlatCoordinates(),d=[];const g=t.getEndss();f=0;for(let p=0,y=g.length;p<y;++p){const _=[];f=this.drawCustomCoordinates_(c,f,g[p],a,_),d.push(_)}this.instructions.push([$.CUSTOM,l,d,t,i,L0,r]),this.hitDetectionInstructions.push([$.CUSTOM,l,d,t,s||i,L0,r]);break;case"Polygon":case"MultiLineString":h=[],c=o=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),f=this.drawCustomCoordinates_(c,0,t.getEnds(),a,h),this.instructions.push([$.CUSTOM,l,h,t,i,zu,r]),this.hitDetectionInstructions.push([$.CUSTOM,l,h,t,s||i,zu,r]);break;case"LineString":case"Circle":c=t.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([$.CUSTOM,l,u,t,i,qr,r]),this.hitDetectionInstructions.push([$.CUSTOM,l,u,t,s||i,qr,r]);break;case"MultiPoint":c=t.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([$.CUSTOM,l,u,t,i,qr,r]),this.hitDetectionInstructions.push([$.CUSTOM,l,u,t,s||i,qr,r]));break;case"Point":c=t.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([$.CUSTOM,l,u,t,i,void 0,r]),this.hitDetectionInstructions.push([$.CUSTOM,l,u,t,s||i,void 0,r]);break}this.endGeometry(n)}beginGeometry(t,n,i){this.beginGeometryInstruction1_=[$.BEGIN_GEOMETRY,n,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[$.BEGIN_GEOMETRY,n,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const i=t.length;let s,r,o=-1;for(n=0;n<i;++n)s=t[n],r=s[0],r==$.END_GEOMETRY?o=n:r==$.BEGIN_GEOMETRY&&(s[2]=n,yT(this.hitDetectionInstructions,o,n),o=-1)}setFillStrokeStyle(t,n){const i=this.state;if(t){const s=t.getColor();i.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,i.fillStyle=Zn(s||Pe)}else i.fillStyle=void 0;if(n){const s=n.getColor();i.strokeStyle=Zn(s||ol);const r=n.getLineCap();i.lineCap=r!==void 0?r:vo;const o=n.getLineDash();i.lineDash=o?o.slice():Ti;const a=n.getLineDashOffset();i.lineDashOffset=a||Ri;const l=n.getLineJoin();i.lineJoin=l!==void 0?l:wo;const c=n.getWidth();i.lineWidth=c!==void 0?c:ll;const u=n.getMiterLimit();i.miterLimit=u!==void 0?u:rl,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){const n=t.fillStyle,i=[$.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[$.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,n){const i=t.strokeStyle,s=t.lineCap,r=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,l=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=s||r!=t.currentLineDash&&!Ps(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=l||t.currentMiterLimit!=c)&&(i!==void 0&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=s,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=l,t.currentMiterLimit=c)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[$.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Tw(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Qp(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class PM extends Fl{constructor(t,n,i,s){super(t,n,i,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,i){if(!this.image_||this.maxExtent&&!xo(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,i);const s=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,r);this.instructions.push([$.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([$.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,i){if(!this.image_)return;this.beginGeometry(t,n,i);const s=t.getFlatCoordinates(),r=[];for(let l=0,c=s.length;l<c;l+=t.getStride())(!this.maxExtent||xo(this.maxExtent,s.slice(l,l+2)))&&r.push(s[l],s[l+1]);const o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,2);this.instructions.push([$.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([$.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const i=t.getAnchor(),s=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=s[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class OM extends Fl{constructor(t,n,i,s){super(t,n,i,s)}drawFlatCoordinates_(t,n,i,s){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,n,i,s,!1,!1),a=[$.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(t,n,i){const s=this.state,r=s.strokeStyle,o=s.lineWidth;if(r===void 0||o===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ti,Ri],tr);const a=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(rs),this.endGeometry(n)}drawMultiLineString(t,n,i){const s=this.state,r=s.strokeStyle,o=s.lineWidth;if(r===void 0||o===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ti,Ri],tr);const a=t.getEnds(),l=t.getFlatCoordinates(),c=t.getStride();let u=0;for(let h=0,d=a.length;h<d;++h)u=this.drawFlatCoordinates_(l,u,a[h],c);this.hitDetectionInstructions.push(rs),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(rs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(rs),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(tr)}}class ny extends Fl{constructor(t,n,i,s){super(t,n,i,s)}drawFlatCoordinatess_(t,n,i,s){const r=this.state,o=r.fillStyle!==void 0,a=r.strokeStyle!==void 0,l=i.length;this.instructions.push(tr),this.hitDetectionInstructions.push(tr);for(let c=0;c<l;++c){const u=i[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(t,n,u,s,!0,!a),f=[$.MOVE_TO_LINE_TO,h,d];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(ey),this.hitDetectionInstructions.push(ey)),n=u}return o&&(this.instructions.push(vc),this.hitDetectionInstructions.push(vc)),a&&(this.instructions.push(rs),this.hitDetectionInstructions.push(rs)),n}drawCircle(t,n,i){const s=this.state,r=s.fillStyle,o=s.strokeStyle;if(r===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_FILL_STYLE,Pe]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ti,Ri]);const a=t.getFlatCoordinates(),l=t.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);const u=[$.CIRCLE,c];this.instructions.push(tr,u),this.hitDetectionInstructions.push(tr,u),s.fillStyle!==void 0&&(this.instructions.push(vc),this.hitDetectionInstructions.push(vc)),s.strokeStyle!==void 0&&(this.instructions.push(rs),this.hitDetectionInstructions.push(rs)),this.endGeometry(n)}drawPolygon(t,n,i){const s=this.state,r=s.fillStyle,o=s.strokeStyle;if(r===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_FILL_STYLE,Pe]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ti,Ri]);const a=t.getEnds(),l=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(n)}drawMultiPolygon(t,n,i){const s=this.state,r=s.fillStyle,o=s.strokeStyle;if(r===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_FILL_STYLE,Pe]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ti,Ri]);const a=t.getEndss(),l=t.getOrientedFlatCoordinates(),c=t.getStride();let u=0;for(let h=0,d=a.length;h<d;++h)u=this.drawFlatCoordinatess_(l,u,a[h],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let i=0,s=n.length;i<s;++i)n[i]=Ys(n[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function LM(e,t,n,i,s){const r=[];let o=n,a=0,l=t.slice(n,2);for(;a<e&&o+s<i;){const[c,u]=l.slice(-2),h=t[o+s],d=t[o+s+1],f=Math.sqrt((h-c)*(h-c)+(d-u)*(d-u));if(a+=f,a>=e){const g=(e-a+f)/f,p=dn(c,h,g),y=dn(u,d,g);l.push(p,y),r.push(l),l=[p,y],a==e&&(o+=s),a=0}else if(a<e)l.push(t[o+s],t[o+s+1]),o+=s;else{const g=f-a,p=dn(c,h,g/f),y=dn(u,d,g/f);l.push(p,y),r.push(l),l=[p,y],a=0,o+=s}}return a>0&&r.push(l),r}function DM(e,t,n,i,s){let r=n,o=n,a=0,l=0,c=n,u,h,d,f,g,p,y,_,m,x;for(h=n;h<i;h+=s){const v=t[h],w=t[h+1];g!==void 0&&(m=v-g,x=w-p,f=Math.sqrt(m*m+x*x),y!==void 0&&(l+=d,u=Math.acos((y*m+_*x)/(d*f)),u>e&&(l>a&&(a=l,r=c,o=h),l=0,c=h-s)),d=f,y=m,_=x),g=v,p=w}return l+=f,l>a?[c,h]:[r,o]}const Gu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class FM extends Fl{constructor(t,n,i,s){super(t,n,i,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Pe]={fillStyle:Pe},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,i){const s=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!s&&!r)return;const a=this.coordinates;let l=a.length;const c=t.getType();let u=null,h=t.getStride();if(o.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!Oe(this.maxExtent,t.getExtent()))return;let d;if(u=t.getFlatCoordinates(),c=="LineString")d=[u.length];else if(c=="MultiLineString")d=t.getEnds();else if(c=="Polygon")d=t.getEnds().slice(0,1);else if(c=="MultiPolygon"){const y=t.getEndss();d=[];for(let _=0,m=y.length;_<m;++_)d.push(y[_][0])}this.beginGeometry(t,n,i);const f=o.repeat,g=f?void 0:o.textAlign;let p=0;for(let y=0,_=d.length;y<_;++y){let m;f?m=LM(f*this.resolution,u,p,d[y],h):m=[u.slice(p,d[y])];for(let x=0,v=m.length;x<v;++x){const w=m[x];let S=0,C=w.length;if(g==null){const b=DM(o.maxAngle,w,0,w.length,2);S=b[0],C=b[1]}for(let b=S;b<C;b+=h)a.push(w[b],w[b+1]);const E=a.length;p=d[y],this.drawChars_(l,E),l=E}}this.endGeometry(n)}else{let d=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=t.getFlatCoordinates();break;case"LineString":u=t.getFlatMidpoint();break;case"Circle":u=t.getCenter();break;case"MultiLineString":u=t.getFlatMidpoints(),h=2;break;case"Polygon":u=t.getFlatInteriorPoint(),o.overflow||d.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":const m=t.getFlatInteriorPoints();u=[];for(let x=0,v=m.length;x<v;x+=3)o.overflow||d.push(m[x+2]/this.resolution),u.push(m[x],m[x+1]);if(u.length===0)return;h=2;break}const f=this.appendFlatPointCoordinates(u,h);if(f===l)return;if(d&&(f-l)/2!==u.length/h){let m=l/2;d=d.filter((x,v)=>{const w=a[(m+v)*2]===u[v*h]&&a[(m+v)*2+1]===u[v*h+1];return w||--m,w})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n,i);let g=o.padding;if(g!=Qs&&(o.scale[0]<0||o.scale[1]<0)){let m=o.padding[0],x=o.padding[1],v=o.padding[2],w=o.padding[3];o.scale[0]<0&&(x=-x,w=-w),o.scale[1]<0&&(m=-m,v=-v),g=[m,x,v,w]}const p=this.pixelRatio;this.instructions.push([$.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,g==Qs?Qs:g.map(function(m){return m*p}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]);const y=1/p,_=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=Pe,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([$.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterMode_,this.declutterImageWithText_,g,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Pe:this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),o.backgroundFill&&(this.state.fillStyle=_,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,s=this.strokeKey_;t&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:n.font,textAlign:n.textAlign||al,justify:n.justify,textBaseline:n.textBaseline||Wu,scale:n.scale});const o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(t,n){const i=this.textStrokeState_,s=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=Gu[s.textBaseline],u=this.textOffsetY_*l,h=this.text_,d=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([$.DRAW_CHARS,t,n,c,s.overflow,a,s.maxAngle,l,u,r,d*l,h,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([$.DRAW_CHARS,t,n,c,s.overflow,a&&Pe,s.maxAngle,l,u,r,d*l,h,o,1/l,this.declutterMode_])}setTextStyle(t,n){let i,s,r;if(!t)this.text_="";else{const o=t.getFill();o?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=Zn(o.getColor()||Pe)):(s=null,this.textFillState_=s);const a=t.getStroke();if(!a)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const g=a.getLineDash(),p=a.getLineDashOffset(),y=a.getWidth(),_=a.getMiterLimit();r.lineCap=a.getLineCap()||vo,r.lineDash=g?g.slice():Ti,r.lineDashOffset=p===void 0?Ri:p,r.lineJoin=a.getLineJoin()||wo,r.lineWidth=y===void 0?ll:y,r.miterLimit=_===void 0?rl:_,r.strokeStyle=Zn(a.getColor()||ol)}i=this.textState_;const l=t.getFont()||aE;s2(l);const c=t.getScaleArray();i.overflow=t.getOverflow(),i.font=l,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||Wu,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Qs,i.scale=c===void 0?[1,1]:c;const u=t.getOffsetX(),h=t.getOffsetY(),d=t.getRotateWithView(),f=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=d===void 0?!1:d,this.textRotation_=f===void 0?0:f,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:pt(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=s&&s.fillStyle?typeof s.fillStyle=="string"?s.fillStyle:"|"+pt(s.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const NM={Circle:ny,Default:Fl,Image:PM,LineString:OM,Polygon:ny,Text:FM};class zM{constructor(t,n,i,s){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const i=this.buildersByZIndex_[n];for(const s in i){const r=i[s].finish();t[n][s]=r}}return t}getBuilder(t,n){const i=t!==void 0?t.toString():"0";let s=this.buildersByZIndex_[i];s===void 0&&(s={},this.buildersByZIndex_[i]=s);let r=s[n];if(r===void 0){const o=NM[n];r=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[n]=r}return r}}class jM extends kl{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return ft()}getData(t){return null}prepareFrame(t){return ft()}renderFrame(t,n){return ft()}loadedTileCallback(t,n,i){t[n]||(t[n]={}),t[n][i.tileCoord.toString()]=i}createLoadedTileFinder(t,n,i){return(s,r)=>{const o=this.loadedTileCallback.bind(this,i,s);return t.forEachLoadedTile(n,s,r,o)}}forEachFeatureAtCoordinate(t,n,i,s,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===et.LOADED||n.getState()===et.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=et.LOADED&&n!=et.ERROR&&t.addEventListener(J.CHANGE,this.boundHandleImageChange_),n==et.IDLE&&(t.load(),n=t.getState()),n==et.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class bE{constructor(){B(this,"pushMethodArgs_",(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(CanvasRenderingContext2D.prototype,{get:(t,n)=>{if(typeof _g()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(t,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let i=0,s=n.length;i<s;i+=2){const r=n[i],o=n[i+1];if(typeof t[r]=="function")t[r](...o);else{if(typeof o=="function"){t[r]=o(t);continue}t[r]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const iy=[];let Nr=null;function WM(){Nr=ce(1,1,void 0,{willReadFrequently:!0})}class TE extends jM{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=On(),this.pixelTransform=On(),this.inversePixelTransform=On(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,n,i){Nr||WM(),Nr.clearRect(0,0,1,1);let s;try{Nr.drawImage(t,n,i,1,1,0,0,1,1),s=Nr.getImageData(0,0,1,1).data}catch{return Nr=null,null}return s}getBackground(t){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,n,i){const s=this.getLayer().getClassName();let r,o;if(t&&t.className===s&&(!i||t&&t.style.backgroundColor&&Ps(sl(t.style.backgroundColor),sl(i)))){const a=t.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=s;let a=r.style;a.position="absolute",a.width="100%",a.height="100%",o=ce();const l=o.canvas;r.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(t,n,i){const s=vr(i),r=Th(i),o=bh(i),a=Ah(i);Jt(n.coordinateToPixelTransform,s),Jt(n.coordinateToPixelTransform,r),Jt(n.coordinateToPixelTransform,o),Jt(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;Jt(l,s),Jt(l,r),Jt(l,o),Jt(l,a),t.save(),t.beginPath(),t.moveTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}dispatchRenderEvent_(t,n,i){const s=this.getLayer();if(s.hasListener(t)){const r=new yE(t,this.inversePixelTransform,i,n);s.dispatchEvent(r)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(gn.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(gn.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new bE),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(gn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(gn.POSTRENDER,this.context,t))}getRenderTransform(t,n,i,s,r,o,a){const l=r/2,c=o/2,u=s/n,h=-u,d=-t[0]+a,f=-t[1];return ni(this.tempTransform,l,c,u,h,-i,d,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function BM(e,t,n,i,s,r,o,a,l,c,u,h){let d=e[t],f=e[t+1],g=0,p=0,y=0,_=0;function m(){g=d,p=f,t+=i,d=e[t],f=e[t+1],_+=y,y=Math.sqrt((d-g)*(d-g)+(f-p)*(f-p))}do m();while(t<n-i&&_+y<r);let x=y===0?0:(r-_)/y;const v=dn(g,d,x),w=dn(p,f,x),S=t-i,C=_,E=r+a*l(c,s,u);for(;t<n-i&&_+y<E;)m();x=y===0?0:(E-_)/y;const b=dn(g,d,x),R=dn(p,f,x);let k;if(h){const T=[v,w,b,R];Bw(T,0,4,2,h,T,T),k=T[0]>T[2]}else k=v>b;const z=Math.PI,Y=[],N=S+i===t;t=S,y=0,_=C,d=e[t],f=e[t+1];let M;if(N){m(),M=Math.atan2(f-p,d-g),k&&(M+=M>0?-z:z);const T=(b+v)/2,P=(R+w)/2;return Y[0]=[T,P,(E-r)/2,M,s],Y}s=s.replace(/\n/g," ");for(let T=0,P=s.length;T<P;){m();let A=Math.atan2(f-p,d-g);if(k&&(A+=A>0?-z:z),M!==void 0){let L=A-M;if(L+=L>z?-2*z:L<-z?2*z:0,Math.abs(L)>o)return null}M=A;const I=T;let O=0;for(;T<P;++T){const L=k?P-T-1:T,Z=a*l(c,s[L],u);if(t+i<n&&_+y<r+O+Z/2)break;O+=Z}if(T===I)continue;const W=k?s.substring(P-I,P-T):s.substring(I,T);x=y===0?0:(r+O/2-_)/y;const V=dn(g,d,x),X=dn(p,f,x);Y.push([V,X,O/2,A,W]),r+=O}return Y}function VM(e,t,n,i){let s=e[t],r=e[t+1],o=0;for(let a=t+i;a<n;a+=i){const l=e[a],c=e[a+1];o+=Math.sqrt((l-s)*(l-s)+(c-r)*(c-r)),s=l,r=c}return o}const Rr=vn(),Hi=[],li=[],ci=[],Gi=[];function sy(e){return e[3].declutterBox}const ry=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function Gd(e,t){return t==="start"?t=ry.test(e)?"right":"left":t==="end"&&(t=ry.test(e)?"left":"right"),Gu[t]}function YM(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}class HM{constructor(t,n,i,s,r){this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=On(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new bE:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,i,s){const r=t+n+i+s;if(this.labels_[r])return this.labels_[r];const o=s?this.strokeStates[s]:null,a=i?this.fillStates[i]:null,l=this.textStates[n],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],h=Array.isArray(t),d=l.justify?Gu[l.justify]:Gd(Array.isArray(t)?t[0]:t,l.textAlign||al),f=s&&o.lineWidth?o.lineWidth:0,g=h?t:t.split(`
`).reduce(YM,[]),{width:p,height:y,widths:_,heights:m,lineWidths:x}=o2(l,g),v=p+f,w=[],S=(v+2)*u[0],C=(y+f)*u[1],E={width:S<0?Math.floor(S):Math.ceil(S),height:C<0?Math.floor(C):Math.ceil(C),contextInstructions:w};(u[0]!=1||u[1]!=1)&&w.push("scale",u),s&&(w.push("strokeStyle",o.strokeStyle),w.push("lineWidth",f),w.push("lineCap",o.lineCap),w.push("lineJoin",o.lineJoin),w.push("miterLimit",o.miterLimit),w.push("setLineDash",[o.lineDash]),w.push("lineDashOffset",o.lineDashOffset)),i&&w.push("fillStyle",a.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const b=.5-d;let R=d*v+b*f;const k=[],z=[];let Y=0,N=0,M=0,T=0,P;for(let A=0,I=g.length;A<I;A+=2){const O=g[A];if(O===`
`){N+=Y,Y=0,R=d*v+b*f,++T;continue}const W=g[A+1]||l.font;W!==P&&(s&&k.push("font",W),i&&z.push("font",W),P=W),Y=Math.max(Y,m[M]);const V=[O,R+b*_[M]+d*(_[M]-x[T]),.5*(f+Y)+N];R+=_[M],s&&k.push("strokeText",V),i&&z.push("fillText",V),++M}return Array.prototype.push.apply(w,k),Array.prototype.push.apply(w,z),this.labels_[r]=E,E}replayTextBackground_(t,n,i,s,r,o,a){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,n),o&&(this.alignAndScaleFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())}calculateImageOrLabelDimensions_(t,n,i,s,r,o,a,l,c,u,h,d,f,g,p,y){a*=d[0],l*=d[1];let _=i-a,m=s-l;const x=r+c>t?t-c:r,v=o+u>n?n-u:o,w=g[3]+x*d[0]+g[1],S=g[0]+v*d[1]+g[2],C=_-g[3],E=m-g[0];(p||h!==0)&&(Hi[0]=C,Gi[0]=C,Hi[1]=E,li[1]=E,li[0]=C+w,ci[0]=li[0],ci[1]=E+S,Gi[1]=ci[1]);let b;return h!==0?(b=ni(On(),i,s,1,1,h,-i,-s),Jt(b,Hi),Jt(b,li),Jt(b,ci),Jt(b,Gi),Ss(Math.min(Hi[0],li[0],ci[0],Gi[0]),Math.min(Hi[1],li[1],ci[1],Gi[1]),Math.max(Hi[0],li[0],ci[0],Gi[0]),Math.max(Hi[1],li[1],ci[1],Gi[1]),Rr)):Ss(Math.min(C,C+w),Math.min(E,E+S),Math.max(C,C+w),Math.max(E,E+S),Rr),f&&(_=Math.round(_),m=Math.round(m)),{drawImageX:_,drawImageY:m,drawImageW:x,drawImageH:v,originX:c,originY:u,declutterBox:{minX:Rr[0],minY:Rr[1],maxX:Rr[2],maxY:Rr[3],value:y},canvasTransform:b,scale:d}}replayImageOrLabel_(t,n,i,s,r,o,a){const l=!!(o||a),c=s.declutterBox,u=a?a[2]*s.scale[0]/2:0;return c.minX-u<=n[0]&&c.maxX+u>=0&&c.minY-u<=n[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(t,Hi,li,ci,Gi,o,a),a2(t,s.canvasTransform,r,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const i=Jt(this.renderedTransform_,[0,0]),s=512*this.pixelRatio;t.save(),t.translate(i[0]%s,i[1]%s),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,i,s){const r=this.textStates[n],o=this.createLabel(t,n,s,i),a=this.strokeStates[i],l=this.pixelRatio,c=Gd(Array.isArray(t)?t[0]:t,r.textAlign||al),u=Gu[r.textBaseline||Wu],h=a&&a.lineWidth?a.lineWidth:0,d=o.width/l-2*r.scale[0],f=c*d+2*(.5-c)*h,g=u*o.height/l+2*(.5-u)*h;return{label:o,anchorX:f,anchorY:g}}execute_(t,n,i,s,r,o,a,l){const c=this.zIndexContext_;let u;this.pixelCoordinates_&&Ps(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=ys(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),iR(this.renderedTransform_,i));let h=0;const d=s.length;let f=0,g,p,y,_,m,x,v,w,S,C,E,b,R,k=0,z=0,Y=null,N=null;const M=this.coordinateCache_,T=this.viewRotation_,P=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,A={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:T},I=this.instructions!=s||this.overlaps?0:200;let O,W,V,X;for(;h<d;){const L=s[h];switch(L[0]){case $.BEGIN_GEOMETRY:O=L[1],X=L[3],O.getGeometry()?a!==void 0&&!Oe(a,X.getExtent())?h=L[2]+1:++h:h=L[2],c&&(c.zIndex=L[4]);break;case $.BEGIN_PATH:k>I&&(this.fill_(t),k=0),z>I&&(t.stroke(),z=0),!k&&!z&&(t.beginPath(),m=NaN,x=NaN),++h;break;case $.CIRCLE:f=L[1];const nt=u[f],rt=u[f+1],Rt=u[f+2],It=u[f+3],at=Rt-nt,Ut=It-rt,ne=Math.sqrt(at*at+Ut*Ut);t.moveTo(nt+ne,rt),t.arc(nt,rt,ne,0,2*Math.PI,!0),++h;break;case $.CLOSE_PATH:t.closePath(),++h;break;case $.CUSTOM:f=L[1],g=L[2];const nn=L[3],ji=L[4],Wi=L[5];A.geometry=nn,A.feature=O,h in M||(M[h]=[]);const Be=M[h];Wi?Wi(u,f,g,2,Be):(Be[0]=u[f],Be[1]=u[f+1],Be.length=2),c&&(c.zIndex=L[6]),ji(Be,A),++h;break;case $.DRAW_IMAGE:f=L[1],g=L[2],S=L[3],p=L[4],y=L[5];let Er=L[6];const Gl=L[7],ed=L[8],Ul=L[9],Xl=L[10];let Ve=L[11];const En=L[12];let jn=L[13];_=L[14]||"declutter";const Sn=L[15];if(!S&&L.length>=20){C=L[19],E=L[20],b=L[21],R=L[22];const sn=this.drawLabelWithPointPlacement_(C,E,b,R);S=sn.label,L[3]=S;const Ls=L[23];p=(sn.anchorX-Ls)*this.pixelRatio,L[4]=p;const rn=L[24];y=(sn.anchorY-rn)*this.pixelRatio,L[5]=y,Er=S.height,L[6]=Er,jn=S.width,L[13]=jn}let Sr;L.length>25&&(Sr=L[25]);let Cr,Bi,si;L.length>17?(Cr=L[16],Bi=L[17],si=L[18]):(Cr=Qs,Bi=!1,si=!1),Xl&&P?Ve+=T:!Xl&&!P&&(Ve-=T);let nd=0;for(;f<g;f+=2){if(Sr&&Sr[nd++]<jn/this.pixelRatio)continue;const sn=this.calculateImageOrLabelDimensions_(S.width,S.height,u[f],u[f+1],jn,Er,p,y,ed,Ul,Ve,En,r,Cr,Bi||si,O),Ls=[t,n,S,sn,Gl,Bi?Y:null,si?N:null];if(l){let rn,Wn,on;if(Sn){const Dt=g-f;if(!Sn[Dt]){Sn[Dt]={args:Ls,declutterMode:_};continue}const Ce=Sn[Dt];rn=Ce.args,Wn=Ce.declutterMode,delete Sn[Dt],on=sy(rn)}let ri,oi;if(rn&&(Wn!=="declutter"||!l.collides(on))&&(ri=!0),(_!=="declutter"||!l.collides(sn.declutterBox))&&(oi=!0),Wn==="declutter"&&_==="declutter"){const Dt=ri&&oi;ri=Dt,oi=Dt}ri&&(Wn!=="none"&&l.insert(on),this.replayImageOrLabel_.apply(this,rn)),oi&&(_!=="none"&&l.insert(sn.declutterBox),this.replayImageOrLabel_.apply(this,Ls))}else this.replayImageOrLabel_.apply(this,Ls)}++h;break;case $.DRAW_CHARS:const Se=L[1],n_=L[2],id=L[3],NC=L[4];R=L[5];const zC=L[6],i_=L[7],s_=L[8];b=L[9];const sd=L[10];C=L[11],E=L[12];const r_=[L[13],L[13]];_=L[14]||"declutter";const rd=this.textStates[E],No=rd.font,zo=[rd.scale[0]*i_,rd.scale[1]*i_];let jo;No in this.widths_?jo=this.widths_[No]:(jo={},this.widths_[No]=jo);const o_=VM(u,Se,n_,2),a_=Math.abs(zo[0])*G0(No,C,jo);if(NC||a_<=o_){const sn=this.textStates[E].textAlign,Ls=(o_-a_)*Gd(C,sn),rn=BM(u,Se,n_,2,C,Ls,zC,Math.abs(zo[0]),G0,No,jo,P?0:this.viewRotation_);t:if(rn){const Wn=[];let on,ri,oi,Dt,Ce;if(b)for(on=0,ri=rn.length;on<ri;++on){Ce=rn[on],oi=Ce[4],Dt=this.createLabel(oi,E,"",b),p=Ce[2]+(zo[0]<0?-sd:sd),y=id*Dt.height+(.5-id)*2*sd*zo[1]/zo[0]-s_;const ai=this.calculateImageOrLabelDimensions_(Dt.width,Dt.height,Ce[0],Ce[1],Dt.width,Dt.height,p,y,0,0,Ce[3],r_,!1,Qs,!1,O);if(l&&_==="declutter"&&l.collides(ai.declutterBox))break t;Wn.push([t,n,Dt,ai,1,null,null])}if(R)for(on=0,ri=rn.length;on<ri;++on){Ce=rn[on],oi=Ce[4],Dt=this.createLabel(oi,E,R,""),p=Ce[2],y=id*Dt.height-s_;const ai=this.calculateImageOrLabelDimensions_(Dt.width,Dt.height,Ce[0],Ce[1],Dt.width,Dt.height,p,y,0,0,Ce[3],r_,!1,Qs,!1,O);if(l&&_==="declutter"&&l.collides(ai.declutterBox))break t;Wn.push([t,n,Dt,ai,1,null,null])}l&&_!=="none"&&l.load(Wn.map(sy));for(let ai=0,jC=Wn.length;ai<jC;++ai)this.replayImageOrLabel_.apply(this,Wn[ai])}}++h;break;case $.END_GEOMETRY:if(o!==void 0){O=L[1];const sn=o(O,X);if(sn)return sn}++h;break;case $.FILL:I?k++:this.fill_(t),++h;break;case $.MOVE_TO_LINE_TO:for(f=L[1],g=L[2],W=u[f],V=u[f+1],v=W+.5|0,w=V+.5|0,(v!==m||w!==x)&&(t.moveTo(W,V),m=v,x=w),f+=2;f<g;f+=2)W=u[f],V=u[f+1],v=W+.5|0,w=V+.5|0,(f==g-2||v!==m||w!==x)&&(t.lineTo(W,V),m=v,x=w);++h;break;case $.SET_FILL_STYLE:Y=L,this.alignAndScaleFill_=L[2],k&&(this.fill_(t),k=0,z&&(t.stroke(),z=0)),t.fillStyle=L[1],++h;break;case $.SET_STROKE_STYLE:N=L,z&&(t.stroke(),z=0),this.setStrokeStyle_(t,L),++h;break;case $.STROKE:I?z++:t.stroke(),++h;break;default:++h;break}}k&&this.fill_(t),z&&t.stroke()}execute(t,n,i,s,r,o){this.viewRotation_=s,this.execute_(t,n,i,this.instructions,r,void 0,void 0,o)}executeHitDetection(t,n,i,s,r){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,s,r)}}const Ma=["Polygon","Circle","LineString","Image","Text","Default"],RE=["Image","Text"],GM=Ma.filter(e=>!RE.includes(e));class UM{constructor(t,n,i,s,r,o,a){this.maxExtent_=t,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=On(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,a)}clip(t,n){const i=this.getClipCoords(n);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,n){for(const i in t){let s=this.executorsByZIndex_[i];s===void 0&&(s={},this.executorsByZIndex_[i]=s);const r=t[i];for(const o in r){const a=r[o];s[o]=new HM(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let s=0,r=t.length;s<r;++s)if(t[s]in i)return!0}return!1}forEachFeatureAtCoordinate(t,n,i,s,r,o){s=Math.round(s);const a=s*2+1,l=ni(this.hitDetectionTransform_,s+.5,s+.5,1/n,-1/n,-i,-t[0],-t[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=ce(a,a,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=vn(),Ta(h,t),Qp(h,n*(this.renderBuffer_+s),h));const d=XM(s);let f;function g(w,S){const C=u.getImageData(0,0,a,a).data;for(let E=0,b=d.length;E<b;E++)if(C[d[E]]>0){if(!o||f!=="Image"&&f!=="Text"||o.includes(w)){const R=(d[E]-3)/4,k=s-R%a,z=s-(R/a|0),Y=r(w,S,k*k+z*z);if(Y)return Y}u.clearRect(0,0,a,a);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(bi);let y,_,m,x,v;for(y=p.length-1;y>=0;--y){const w=p[y].toString();for(m=this.executorsByZIndex_[w],_=Ma.length-1;_>=0;--_)if(f=Ma[_],x=m[f],x!==void 0&&(v=x.executeHitDetection(u,l,i,g,h),v))return v}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const i=n[0],s=n[1],r=n[2],o=n[3],a=[i,s,i,o,r,o,r,s];return ys(a,0,8,2,t,a),a}isEmpty(){return yo(this.executorsByZIndex_)}execute(t,n,i,s,r,o,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(bi),o=o||Ma;let c,u,h,d,f,g;for(a&&l.reverse(),c=0,u=l.length;c<u;++c){const p=l[c].toString();for(f=this.executorsByZIndex_[p],h=0,d=o.length;h<d;++h){const y=o[h];if(g=f[y],g!==void 0){const _=a===null?void 0:g.getZIndexContext(),m=_?_.getContext():t,x=this.maxExtent_&&y!=="Image"&&y!=="Text";if(x&&(m.save(),this.clip(m,i)),g.execute(m,n,i,s,r,a),x&&m.restore(),_){_.offset();const v=l[c];this.deferredZIndexContexts_[v]||(this.deferredZIndexContexts_[v]=[]),this.deferredZIndexContexts_[v].push(_)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(bi);for(let i=0,s=n.length;i<s;++i)t[n[i]].forEach(r=>{r.draw(this.renderedContext_),r.clear()})}}const Ud={};function XM(e){if(Ud[e]!==void 0)return Ud[e];const t=e*2+1,n=e*e,i=new Array(n+1);for(let r=0;r<=e;++r)for(let o=0;o<=e;++o){const a=r*r+o*o;if(a>n)break;let l=i[a];l||(l=[],i[a]=l),l.push(((e+r)*t+(e+o))*4+3),r>0&&l.push(((e-r)*t+(e+o))*4+3),o>0&&(l.push(((e+r)*t+(e-o))*4+3),r>0&&l.push(((e-r)*t+(e-o))*4+3))}const s=[];for(let r=0,o=i.length;r<o;++r)i[r]&&s.push(...i[r]);return Ud[e]=s,s}class $M extends AE{constructor(t,n,i,s,r,o,a){super(),this.context_=t,this.pixelRatio_=n,this.extent_=i,this.transform_=s,this.transformRotation_=s?Zp(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=On()}drawImages_(t,n,i,s){if(!this.image_)return;const r=ys(t,n,i,s,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=r.length;u<h;u+=2){const d=r[u]-this.imageAnchorX_,f=r[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const g=d+this.imageAnchorX_,p=f+this.imageAnchorY_;ni(a,g,p,1,1,c,-g,-p),o.save(),o.transform.apply(o,a),o.translate(g,p),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(t,n,i,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=ys(t,n,i,s,this.transform_,this.pixelCoordinates_),o=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<i;n+=s){const l=r[n]+this.textOffsetX_,c=r[n+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,c-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,c),this.textFillState_&&o.fillText(this.text_,l,c))}}moveToLineTo_(t,n,i,s,r){const o=this.context_,a=ys(t,n,i,s,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;r&&(l-=2);for(let c=2;c<l;c+=2)o.lineTo(a[c],a[c+1]);return r&&o.closePath(),i}drawRings_(t,n,i,s){for(let r=0,o=i.length;r<o;++r)n=this.moveToLineTo_(t,n,i[r],s,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Oe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=cR(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],s=n[3]-n[1],r=Math.sqrt(i*i+s*s),o=this.context_;o.beginPath(),o.arc(n[0],n[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const i=n.getGeometryFunction()(t);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let i=0,s=n.length;i<s;++i)this.drawGeometry(n[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Oe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(Oe(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,s=t.getFlatCoordinates();let r=0;const o=t.getEnds(),a=t.getStride();i.beginPath();for(let l=0,c=o.length;l<c;++l)r=this.moveToLineTo_(s,r,o[l],a,!1);i.stroke()}if(this.text_!==""){const i=t.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Oe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Oe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=t.getOrientedFlatCoordinates();let s=0;const r=t.getEndss(),o=t.getStride();n.beginPath();for(let a=0,l=r.length;a<l;++a){const c=r[a];s=this.drawRings_(i,s,c,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),Ps(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,i=this.contextTextState_,s=t.textAlign?t.textAlign:al;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=s&&(i.textAlign=s,n.textAlign=s),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=s,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const i=t.getColor();this.fillState_={fillStyle:Zn(i||Pe)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),s=n.getLineCap(),r=n.getLineDash(),o=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),u=r||Ti;this.strokeState_={lineCap:s!==void 0?s:vo,lineDash:this.pixelRatio_===1?u:u.map(h=>h*this.pixelRatio_),lineDashOffset:(o||Ri)*this.pixelRatio_,lineJoin:a!==void 0?a:wo,lineWidth:(l!==void 0?l:ll)*this.pixelRatio_,miterLimit:c!==void 0?c:rl,strokeStyle:Zn(i||ol)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const i=t.getPixelRatio(this.pixelRatio_),s=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const f=n.getColor();this.textFillState_={fillStyle:Zn(f||Pe)}}const i=t.getStroke();if(!i)this.textStrokeState_=null;else{const f=i.getColor(),g=i.getLineCap(),p=i.getLineDash(),y=i.getLineDashOffset(),_=i.getLineJoin(),m=i.getWidth(),x=i.getMiterLimit();this.textStrokeState_={lineCap:g!==void 0?g:vo,lineDash:p||Ti,lineDashOffset:y||Ri,lineJoin:_!==void 0?_:wo,lineWidth:m!==void 0?m:ll,miterLimit:x!==void 0?x:rl,strokeStyle:Zn(f||ol)}}const s=t.getFont(),r=t.getOffsetX(),o=t.getOffsetY(),a=t.getRotateWithView(),l=t.getRotation(),c=t.getScaleArray(),u=t.getText(),h=t.getTextAlign(),d=t.getTextBaseline();this.textState_={font:s!==void 0?s:aE,textAlign:h!==void 0?h:al,textBaseline:d!==void 0?d:Wu},this.text_=u!==void 0?Array.isArray(u)?u.reduce((f,g,p)=>f+=p%2?" ":g,""):u:"",this.textOffsetX_=r!==void 0?this.pixelRatio_*r:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}const Xn=.5;function KM(e,t,n,i,s,r,o,a,l){const c=s,u=e[0]*Xn,h=e[1]*Xn,d=ce(u,h);d.imageSmoothingEnabled=!1;const f=d.canvas,g=new $M(d,Xn,s,null,o,a,null),p=n.length,y=Math.floor((256*256*256-1)/p),_={};for(let x=1;x<=p;++x){const v=n[x-1],w=v.getStyleFunction()||i;if(!w)continue;let S=w(v,r);if(!S)continue;Array.isArray(S)||(S=[S]);const E=(x*y).toString(16).padStart(7,"#00000");for(let b=0,R=S.length;b<R;++b){const k=S[b],z=k.getGeometryFunction()(v);if(!z||!Oe(c,z.getExtent()))continue;const Y=k.clone(),N=Y.getFill();N&&N.setColor(E);const M=Y.getStroke();M&&(M.setColor(E),M.setLineDash(null)),Y.setText(void 0);const T=k.getImage();if(T){const O=T.getImageSize();if(!O)continue;const W=ce(O[0],O[1],void 0,{alpha:!1}),V=W.canvas;W.fillStyle=E,W.fillRect(0,0,V.width,V.height),Y.setImage(new Fh({img:V,anchor:T.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:T.getOrigin(),opacity:1,size:T.getSize(),scale:T.getScale(),rotation:T.getRotation(),rotateWithView:T.getRotateWithView()}))}const P=Y.getZIndex()||0;let A=_[P];A||(A={},_[P]=A,A.Polygon=[],A.Circle=[],A.LineString=[],A.Point=[]);const I=z.getType();if(I==="GeometryCollection"){const O=z.getGeometriesArrayRecursive();for(let W=0,V=O.length;W<V;++W){const X=O[W];A[X.getType().replace("Multi","")].push(X,Y)}}else A[I.replace("Multi","")].push(z,Y)}}const m=Object.keys(_).map(Number).sort(bi);for(let x=0,v=m.length;x<v;++x){const w=_[m[x]];for(const S in w){const C=w[S];for(let E=0,b=C.length;E<b;E+=2){g.setStyle(C[E+1]);for(let R=0,k=t.length;R<k;++R)g.setTransform(t[R]),g.drawGeometry(C[E])}}}return d.getImageData(0,0,f.width,f.height)}function ZM(e,t,n){const i=[];if(n){const s=Math.floor(Math.round(e[0])*Xn),r=Math.floor(Math.round(e[1])*Xn),o=(Gt(s,0,n.width-1)+Gt(r,0,n.height-1)*n.width)*4,a=n.data[o],l=n.data[o+1],u=n.data[o+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/t.length);u&&u%h===0&&i.push(t[u/h-1])}return i}const qM=.5,ME={Point:rk,LineString:nk,Polygon:ak,MultiPoint:ok,MultiLineString:ik,MultiPolygon:sk,GeometryCollection:ek,Circle:QM};function JM(e,t){return parseInt(pt(e),10)-parseInt(pt(t),10)}function oy(e,t){const n=kE(e,t);return n*n}function kE(e,t){return qM*e/t}function QM(e,t,n,i,s){const r=n.getFill(),o=n.getStroke();if(r||o){const l=e.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(r,o),l.drawCircle(t,i,s)}const a=n.getText();if(a&&a.getText()){const l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i)}}function ay(e,t,n,i,s,r,o,a){const l=[],c=n.getImage();if(c){let d=!0;const f=c.getImageState();f==et.LOADED||f==et.ERROR?d=!1:f==et.IDLE&&c.load(),d&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>s(null)),tk(e,t,n,i,r,o,a),h}function tk(e,t,n,i,s,r,o){const a=n.getGeometryFunction()(t);if(!a)return;const l=a.simplifyTransformed(i,s);if(n.getRenderer())IE(e,l,n,t,o);else{const u=ME[l.getType()];u(e,l,n,t,o,r)}}function IE(e,t,n,i,s){if(t.getType()=="GeometryCollection"){const o=t.getGeometries();for(let a=0,l=o.length;a<l;++a)IE(e,o[a],n,i,s);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer(),s)}function ek(e,t,n,i,s,r){const o=t.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){const c=ME[o[a].getType()];c(e,o[a],n,i,s,r)}}function nk(e,t,n,i,s){const r=n.getStroke();if(r){const a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,r),a.drawLineString(t,i,s)}const o=n.getText();if(o&&o.getText()){const a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(o),a.drawText(t,i,s)}}function ik(e,t,n,i,s){const r=n.getStroke();if(r){const a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,r),a.drawMultiLineString(t,i,s)}const o=n.getText();if(o&&o.getText()){const a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(o),a.drawText(t,i,s)}}function sk(e,t,n,i,s){const r=n.getFill(),o=n.getStroke();if(o||r){const l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,o),l.drawMultiPolygon(t,i,s)}const a=n.getText();if(a&&a.getText()){const l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,s)}}function rk(e,t,n,i,s,r){const o=n.getImage(),a=n.getText(),l=a&&a.getText(),c=r&&o&&l?{}:void 0;if(o){if(o.getImageState()!=et.LOADED)return;const u=e.getBuilder(n.getZIndex(),"Image");u.setImageStyle(o,c),u.drawPoint(t,i,s)}if(l){const u=e.getBuilder(n.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(t,i,s)}}function ok(e,t,n,i,s,r){const o=n.getImage(),a=o&&o.getOpacity()!==0,l=n.getText(),c=l&&l.getText(),u=r&&a&&c?{}:void 0;if(a){if(o.getImageState()!=et.LOADED)return;const h=e.getBuilder(n.getZIndex(),"Image");h.setImageStyle(o,u),h.drawMultiPoint(t,i,s)}if(c){const h=e.getBuilder(n.getZIndex(),"Text");h.setTextStyle(l,u),h.drawText(t,i,s)}}function ak(e,t,n,i,s){const r=n.getFill(),o=n.getStroke();if(r||o){const l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,o),l.drawPolygon(t,i,s)}const a=n.getText();if(a&&a.getText()){const l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,s)}}class lk extends TE{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=vn(),this.wrappedRenderedExtent_=vn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,i){const s=n.extent,r=n.viewState,o=r.center,a=r.resolution,l=r.projection,c=r.rotation,u=l.getExtent(),h=this.getLayer().getSource(),d=this.getLayer().getDeclutter(),f=n.pixelRatio,g=n.viewHints,p=!(g[me.ANIMATING]||g[me.INTERACTING]),y=this.context,_=Math.round(yt(s)/a*f),m=Math.round(ye(s)/a*f),x=h.getWrapX()&&l.canWrapX(),v=x?yt(u):null,w=x?Math.ceil((s[2]-u[2])/v)+1:1;let S=x?Math.floor((s[0]-u[0])/v):0;do{const C=this.getRenderTransform(o,a,c,f,_,m,S*v);t.execute(y,[y.canvas.width,y.canvas.height],C,c,p,i===void 0?Ma:i?RE:GM,i?d&&n.declutter[d]:void 0)}while(++S<w)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ce(this.context.canvas.width,this.context.canvas.height,iy))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Ph(this.context),iy.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.resetDrawContext_())}renderFrame(t,n){const i=t.pixelRatio,s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const r=t.extent,o=t.viewState.resolution,a=Math.round(yt(r)/o*i),l=Math.round(ye(r)/o*i);ni(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/i,1/i,0,-a/2,-l/2),cm(this.inversePixelTransform,this.pixelTransform);const c=Ww(this.pixelTransform);this.useContainer(n,c,this.getBackground(t));const u=this.context,h=u.canvas,d=this.replayGroup_;let f=d&&!d.isEmpty();if(!f&&!(this.getLayer().hasListener(gn.PRERENDER)||this.getLayer().hasListener(gn.POSTRENDER)))return null;h.width!=a||h.height!=l?(h.width=a,h.height=l,h.style.transform!==c&&(h.style.transform=c)):this.containerReused||u.clearRect(0,0,a,l),this.setDrawContext_(),this.preRender(u,t);const g=t.viewState;g.projection;let p=!1;if(f&&s.extent&&this.clipping){const y=qs(s.extent);f=Oe(y,t.extent),p=f&&!Zs(y,t.extent),p&&this.clipUnrotated(u,t,y)}return f&&this.renderWorlds(d,t,this.getLayer().getDeclutter()?!1:void 0),p&&u.restore(),this.postRender(u,t),this.renderedRotation_!==g.rotation&&(this.renderedRotation_=g.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=[this.context.canvas.width,this.context.canvas.height];Jt(this.pixelTransform,i);const s=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=i[0]*Xn,d=i[1]*Xn;u.push(this.getRenderTransform(s,r,o,Xn,h,d,0).slice());const f=c.getSource(),g=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!Zs(g,l)){let p=l[0];const y=yt(g);let _=0,m;for(;p<g[0];)--_,m=y*_,u.push(this.getRenderTransform(s,r,o,Xn,h,d,m).slice()),p+=y;for(_=0,p=l[2];p>g[2];)++_,m=y*_,u.push(this.getRenderTransform(s,r,o,Xn,h,d,m).slice()),p-=y}this.hitDetectionImageData_=KM(i,u,this.renderedFeatures_,c.getStyleFunction(),l,r,o,oy(r,this.renderedPixelRatio_))}n(ZM(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,i,s,r){if(!this.replayGroup_)return;const o=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),c={},u=function(g,p,y){const _=pt(g),m=c[_];if(m){if(m!==!0&&y<m.distanceSq){if(y===0)return c[_]=!0,r.splice(r.lastIndexOf(m),1),s(g,l,p);m.geometry=p,m.distanceSq=y}}else{if(y===0)return c[_]=!0,s(g,l,p);r.push(c[_]={feature:g,layer:l,geometry:p,distanceSq:y,callback:s})}};let h;const d=[this.replayGroup_],f=this.getLayer().getDeclutter();return d.some(g=>h=g.forEachFeatureAtCoordinate(t,o,a,i,u,f&&n.declutter[f]?n.declutter[f].all().map(p=>p.value):null)),h}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const s=t.viewHints[me.ANIMATING],r=t.viewHints[me.INTERACTING],o=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!o&&s||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=t.extent,c=t.viewState,u=c.projection,h=c.resolution,d=t.pixelRatio,f=n.getRevision(),g=n.getRenderBuffer();let p=n.getRenderOrder();p===void 0&&(p=JM);const y=c.center.slice(),_=Qp(l,g*h),m=_.slice(),x=[_.slice()],v=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!Zs(v,t.extent)){const N=yt(v),M=Math.max(yt(_)/2,N);_[0]=v[0]-M,_[2]=v[2]+M,Lw(y,u);const T=Ow(x[0],u);T[0]<v[0]&&T[2]<v[2]?x.push([T[0]+N,T[1],T[2]+N,T[3]]):T[0]>v[0]&&T[2]>v[2]&&x.push([T[0]-N,T[1],T[2]-N,T[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==f&&this.renderedRenderOrder_==p&&Zs(this.wrappedRenderedExtent_,_))return Ps(this.renderedExtent_,m)||(this.hitDetectionImageData_=null,this.renderedExtent_=m),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new zM(kE(h,d),_,h,d);let S;for(let N=0,M=x.length;N<M;++N)i.loadFeatures(x[N],h,u);const C=oy(h,d);let E=!0;const b=(N,M)=>{let T;const P=N.getStyleFunction()||n.getStyleFunction();if(P&&(T=P(N,h)),T){const A=this.renderFeature(N,C,T,w,S,this.getLayer().getDeclutter(),M);E=E&&!A}},R=zw(_),k=i.getFeaturesInExtent(R);p&&k.sort(p);for(let N=0,M=k.length;N<M;++N)b(k[N],N);this.renderedFeatures_=k,this.ready=E;const z=w.finish(),Y=new UM(_,h,d,i.getOverlaps(),z,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=h,this.renderedRevision_=f,this.renderedRenderOrder_=p,this.renderedExtent_=m,this.wrappedRenderedExtent_=_,this.renderedCenter_=y,this.renderedProjection_=u,this.renderedPixelRatio_=d,this.replayGroup_=Y,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,i,s,r,o,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=ay(s,t,i[c],n,this.boundHandleStyleImageChange_,r,o,a)||l;else l=ay(s,t,i,n,this.boundHandleStyleImageChange_,r,o,a);return l}}class ck extends _E{constructor(t){super(t)}createRenderer(){return new lk(this)}}class ly{constructor(t){this.rbush_=new qw(t),this.items_={}}insert(t,n){const i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(i),this.items_[pt(n)]=i}load(t,n){const i=new Array(n.length);for(let s=0,r=n.length;s<r;s++){const o=t[s],a=n[s],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[s]=l,this.items_[pt(a)]=l}this.rbush_.load(i)}remove(t){const n=pt(t),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(t,n){const i=this.items_[pt(n)],s=[i.minX,i.minY,i.maxX,i.maxY];tl(s,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(s){return s.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let i;for(let s=0,r=t.length;s<r;s++)if(i=n(t[s]),i)return i;return i}isEmpty(){return yo(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return Ss(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}class Am extends zn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new Am(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(At(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=ct(t,J.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?uk(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function uk(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(ht(typeof e.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}function cy(e,t,n,i,s,r,o){let a,l;const c=(n-t)/i;if(c===1)a=t;else if(c===2)a=t,l=s;else if(c!==0){let u=e[t],h=e[t+1],d=0;const f=[0];for(let y=t+i;y<n;y+=i){const _=e[y],m=e[y+1];d+=Math.sqrt((_-u)*(_-u)+(m-h)*(m-h)),f.push(d),u=_,h=m}const g=s*d,p=_T(f,g);p<0?(l=(g-f[-p-2])/(f[-p-1]-f[-p-2]),a=t+(-p-2)*i):a=t+p*i}o=o>1?o:2,r=r||new Array(o);for(let u=0;u<o;++u)r[u]=a===void 0?NaN:l===void 0?e[a+u]:dn(e[a+u],e[a+i+u],l);return r}function hk(e,t,n,i){const s=[];let r=vn();for(let o=0,a=n.length;o<a;++o){const l=n[o];r=tm(e,t,l[0],i),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),t=l[l.length-1]}return s}const uy=On();class cn{constructor(t,n,i,s,r,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=r,this.squaredTolerance_,this.stride_=s,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?kw(this.flatCoordinates_):tm(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=fr(this.getExtent());this.flatInteriorPoints_=dm(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=SR(this.flatCoordinates_,this.ends_),n=hk(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=yR(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=cy(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const i=this.ends_;for(let s=0,r=i.length;s<r;++s){const o=i[s],a=cy(t,n,o,2,.5);Kp(this.flatMidpoints_,a),n=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=wn(t);const n=t.getExtent(),i=t.getWorldExtent();if(n&&i){const s=ye(i)/ye(n);ni(uy,i[0],i[3],s,-s,0,0,0),ys(this.flatCoordinates_,0,this.flatCoordinates_.length,2,uy,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new cn(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Cw((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let s;switch(this.type_){case"LineString":i.length=hm(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),s=[i.length];break;case"MultiLineString":s=[],i.length=gR(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,s);break;case"Polygon":s=[],i.length=Gw(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,s);break}return s&&(this.simplifiedGeometry_=new cn(this.type_,i,s,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}cn.prototype.getFlatCoordinates=cn.prototype.getOrientedFlatCoordinates;class PE extends zn{constructor(t){super(),this.projection=wn(t.projection),this.attributions_=hy(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=hy(t),this.changed()}setState(t){this.state_=t,this.changed()}}function hy(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}const an={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function dk(e,t){return[[-1/0,-1/0,1/0,1/0]]}let fk=!1;function gk(e,t,n,i,s,r,o){const a=new XMLHttpRequest;a.open("GET",typeof e=="function"?e(n,i,s):e,!0),t.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=fk,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const c=t.getType();let u;c=="json"?u=JSON.parse(a.responseText):c=="text"?u=a.responseText:c=="xml"?(u=a.responseXML,u||(u=new DOMParser().parseFromString(a.responseText,"application/xml"))):c=="arraybuffer"&&(u=a.response),u?r(t.readFeatures(u,{extent:n,featureProjection:s}),t.readProjection(u)):o()}else o()},a.onerror=o,a.send()}function dy(e,t){return function(n,i,s,r,o){const a=this;gk(e,t,n,i,s,function(l,c){a.addFeatures(l),r!==void 0&&r(l)},o||_o)}}class Ui extends Ni{constructor(t,n,i){super(t),this.feature=n,this.features=i}}class pk extends PE{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=_o,this.format_=t.format,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(ht(this.format_,"`format` must be set when `url` is set"),this.loader_=dy(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:dk;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new ly:null,this.loadedExtentsRtree_=new ly,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,s;Array.isArray(t.features)?s=t.features:t.features&&(i=t.features,s=i.getArray()),!n&&i===void 0&&(i=new $n(s)),s!==void 0&&this.addFeaturesInternal(s),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=pt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const i=t.getGeometry();if(i){const s=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new Ui(an.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof cn||(this.featureChangeKeys_[t]=[ct(n,J.CHANGE,this.handleFeatureChange_,this),ct(n,mo.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let i=!0;if(n.getId()!==void 0){const s=String(n.getId());if(!(s in this.idIndex_))this.idIndex_[s]=n;else if(n instanceof cn){const r=this.idIndex_[s];r instanceof cn?Array.isArray(r)?r.push(n):this.idIndex_[s]=[r,n]:i=!1}else i=!1}return i&&(ht(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],i=[],s=[];for(let r=0,o=t.length;r<o;r++){const a=t[r],l=pt(a);this.addToIndex_(l,a)&&i.push(a)}for(let r=0,o=i.length;r<o;r++){const a=i[r],l=pt(a);this.setupChangeEvents_(l,a);const c=a.getGeometry();if(c){const u=c.getExtent();n.push(u),s.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,s),this.hasListener(an.ADDFEATURE))for(let r=0,o=i.length;r<o;r++)this.dispatchEvent(new Ui(an.ADDFEATURE,i[r]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(an.ADDFEATURE,function(i){n||(n=!0,t.push(i.feature),n=!1)}),this.addEventListener(an.REMOVEFEATURE,function(i){n||(n=!0,t.remove(i.feature),n=!1)}),t.addEventListener(Ie.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),t.addEventListener(Ie.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(At);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=s=>{this.removeFeatureInternal(s)};this.featuresRtree_.forEach(i);for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Ui(an.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(s){const r=s.getGeometry();if(r instanceof cn||r.intersectsCoordinate(t))return n(s)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(i){const s=i.getGeometry();if(s instanceof cn||s.intersectsExtent(t)){const r=n(i);if(r)return r}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),yo(this.nullGeometryFeatures_)||Kp(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){n.push(i)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const s=WT(t,n);return[].concat(...s.map(r=>this.featuresRtree_.getInExtent(r)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const i=t[0],s=t[1];let r=null;const o=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||Qa,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){const u=c.getGeometry(),h=a;if(a=u instanceof cn?0:u.closestPointXY(i,s,o,a),a<h){r=c;const d=Math.sqrt(a);l[0]=i-d,l[1]=s-d,l[2]=i+d,l[3]=s+d}}}),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,i=pt(n),s=n.getGeometry();if(!s)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const o=s.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const r=n.getId();if(r!==void 0){const o=r.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Ui(an.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:pt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&yo(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,i){const s=this.loadedExtentsRtree_,r=this.strategy_(t,n,i);for(let o=0,a=r.length;o<a;++o){const l=r[o];s.forEachInExtent(l,function(u){return Zs(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Ui(an.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ui(an.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ui(an.FEATURESLOADERROR))}),s.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_;let i;n.forEachInExtent(t,function(s){if(tl(s.extent,t))return i=s,!0}),i&&n.remove(i)}removeFeatures(t){const n=[];for(let i=0,s=t.length;i<s;++i){const r=t[i],o=this.removeFeatureInternal(r);o&&n.push(o)}n.length>0&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=pt(t);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);const i=this.featureChangeKeys_[n];if(!i)return;i.forEach(At),delete this.featureChangeKeys_[n];const s=t.getId();return s!==void 0&&delete this.idIndex_[s.toString()],delete this.uidIndex_[n],this.hasListener(an.REMOVEFEATURE)&&this.dispatchEvent(new Ui(an.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let n=!1;for(const i in this.idIndex_){const s=this.idIndex_[i];if(t instanceof cn&&Array.isArray(s)&&s.includes(t))s.splice(s.indexOf(t),1);else if(this.idIndex_[i]===t){delete this.idIndex_[i],n=!0;break}}return n}setLoader(t){this.loader_=t}setUrl(t){ht(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(dy(t,this.format_))}}const wc={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class mk extends kh{constructor(t){t=t||{};const n=Object.assign({},t);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getPreload(){return this.get(wc.PRELOAD)}setPreload(t){this.set(wc.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(wc.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(wc.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class OE extends Sh{constructor(t,n,i){super(),i=i||{},this.tileCoord=t,this.state=n,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(J.CHANGE)}release(){this.state===K.ERROR&&this.setState(K.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(t.getState()==K.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let n=this;do{if(t.getState()==K.LOADED){t.interimTile=null;break}t.getState()==K.LOADING?n=t:t.getState()==K.IDLE?n.interimTile=t.interimTile:n=t,t=n.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==K.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){ft()}getAlpha(t,n){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(!i)i=n,this.transitionStarts_[t]=i;else if(i===-1)return 1;const s=n-i+1e3/60;return s>=this.transition_?1:jw(s/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}class LE extends OE{constructor(t,n,i,s,r,o){super(t,n,o),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(t){this.image_=t,this.state=K.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=K.ERROR,this.unlistenImage_(),this.image_=_k(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=K.LOADED:this.state=K.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==K.ERROR&&(this.state=K.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==K.IDLE&&(this.state=K.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ZR(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function _k(){const e=ce(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const yk=.5,xk=10,fy=.25;class vk{constructor(t,n,i,s,r,o){this.sourceProj_=t,this.targetProj_=n;let a={};const l=Nu(this.targetProj_,this.sourceProj_);this.transformInv_=function(m){const x=m[0]+"/"+m[1];return a[x]||(a[x]=l(m)),a[x]},this.maxSourceExtent_=s,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&yt(s)>=yt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?yt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?yt(this.targetProj_.getExtent()):null;const c=vr(i),u=Th(i),h=bh(i),d=Ah(i),f=this.transformInv_(c),g=this.transformInv_(u),p=this.transformInv_(h),y=this.transformInv_(d),_=xk+(o?Math.max(0,Math.ceil(Math.log2(dg(i)/(o*o*256*256)))):0);if(this.addQuad_(c,u,h,d,f,g,p,y,_),this.wrapsXInSource_){let m=1/0;this.triangles_.forEach(function(x,v,w){m=Math.min(m,x.source[0][0],x.source[1][0],x.source[2][0])}),this.triangles_.forEach(x=>{if(Math.max(x.source[0][0],x.source[1][0],x.source[2][0])-m>this.sourceWorldWidth_/2){const v=[[x.source[0][0],x.source[0][1]],[x.source[1][0],x.source[1][1]],[x.source[2][0],x.source[2][1]]];v[0][0]-m>this.sourceWorldWidth_/2&&(v[0][0]-=this.sourceWorldWidth_),v[1][0]-m>this.sourceWorldWidth_/2&&(v[1][0]-=this.sourceWorldWidth_),v[2][0]-m>this.sourceWorldWidth_/2&&(v[2][0]-=this.sourceWorldWidth_);const w=Math.min(v[0][0],v[1][0],v[2][0]);Math.max(v[0][0],v[1][0],v[2][0])-w<this.sourceWorldWidth_/2&&(x.source=v)}})}a={}}addTriangle_(t,n,i,s,r,o){this.triangles_.push({source:[s,r,o],target:[t,n,i]})}addQuad_(t,n,i,s,r,o,a,l,c){const u=S0([r,o,a,l]),h=this.sourceWorldWidth_?yt(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&h>.5&&h<1;let g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const y=S0([t,n,i,s]);g=yt(y)/this.targetWorldWidth_>fy||g}!f&&this.sourceProj_.isGlobal()&&h&&(g=h>fy||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!Oe(u,this.maxSourceExtent_))return;let p=0;if(!g&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)g=!0;else if(p=(!isFinite(r[0])||!isFinite(r[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(c>0){if(!g){const y=[(t[0]+i[0])/2,(t[1]+i[1])/2],_=this.transformInv_(y);let m;f?m=(sr(r[0],d)+sr(a[0],d))/2-sr(_[0],d):m=(r[0]+a[0])/2-_[0];const x=(r[1]+a[1])/2-_[1];g=m*m+x*x>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const y=[(n[0]+i[0])/2,(n[1]+i[1])/2],_=this.transformInv_(y),m=[(s[0]+t[0])/2,(s[1]+t[1])/2],x=this.transformInv_(m);this.addQuad_(t,n,y,m,r,o,_,x,c-1),this.addQuad_(m,y,i,s,x,_,a,l,c-1)}else{const y=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(y),m=[(i[0]+s[0])/2,(i[1]+s[1])/2],x=this.transformInv_(m);this.addQuad_(t,y,m,s,r,_,x,l,c-1),this.addQuad_(y,n,i,m,_,o,a,x,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}p&11||this.addTriangle_(t,i,s,r,a,l),p&14||this.addTriangle_(t,i,n,r,a,o),p&&(p&13||this.addTriangle_(n,s,t,o,l,r),p&7||this.addTriangle_(n,s,i,o,l,a))}calculateSourceExtent(){const t=vn();return this.triangles_.forEach(function(n,i,s){const r=n.source;Ta(t,r[0]),Ta(t,r[1]),Ta(t,r[2])}),t}getTriangles(){return this.triangles_}}let Xd;const oo=[];function gy(e,t,n,i,s){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,s),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,s)),e.restore()}function $d(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function wk(){if(Xd===void 0){const e=ce(6,6,oo);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",gy(e,4,5,4,0),gy(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;Xd=$d(t,0)||$d(t,4)||$d(t,8),Ph(e),oo.push(e.canvas)}return Xd}function py(e,t,n,i){const s=rm(n,t,e);let r=A0(t,i,n);const o=t.getMetersPerUnit();o!==void 0&&(r*=o);const a=e.getMetersPerUnit();a!==void 0&&(r/=a);const l=e.getExtent();if(!l||xo(l,s)){const c=A0(e,r,s)/r;isFinite(c)&&c>0&&(r/=c)}return r}function Ek(e,t,n,i){const s=fr(n);let r=py(e,t,s,i);return(!isFinite(r)||r<=0)&&Pw(n,function(o){return r=py(e,t,o,i),isFinite(r)&&r>0}),r}function Sk(e,t,n,i,s,r,o,a,l,c,u,h,d,f){const g=ce(Math.round(n*e),Math.round(n*t),oo);if(h||(g.imageSmoothingEnabled=!1),l.length===0)return g.canvas;g.scale(n,n);function p(w){return Math.round(w*n)/n}g.globalCompositeOperation="lighter";const y=vn();l.forEach(function(w,S,C){DT(y,w.extent)});let _;const m=n/i,x=(h?1:1+Math.pow(2,-24))/m;{if(_=ce(Math.round(yt(y)*m),Math.round(ye(y)*m),oo),h||(_.imageSmoothingEnabled=!1),s&&f){const w=(s[0]-y[0])*m,S=-(s[3]-y[3])*m,C=yt(s)*m,E=ye(s)*m;_.rect(w,S,C,E),_.clip()}l.forEach(function(w,S,C){const E=(w.extent[0]-y[0])*m,b=-(w.extent[3]-y[3])*m,R=yt(w.extent)*m,k=ye(w.extent)*m;w.image.width>0&&w.image.height>0&&_.drawImage(w.image,c,c,w.image.width-2*c,w.image.height-2*c,h?E:Math.round(E),h?b:Math.round(b),h?R:Math.round(E+R)-Math.round(E),h?k:Math.round(b+k)-Math.round(b))})}const v=vr(o);return a.getTriangles().forEach(function(w,S,C){const E=w.source,b=w.target;let R=E[0][0],k=E[0][1],z=E[1][0],Y=E[1][1],N=E[2][0],M=E[2][1];const T=p((b[0][0]-v[0])/r),P=p(-(b[0][1]-v[1])/r),A=p((b[1][0]-v[0])/r),I=p(-(b[1][1]-v[1])/r),O=p((b[2][0]-v[0])/r),W=p(-(b[2][1]-v[1])/r),V=R,X=k;R=0,k=0,z-=V,Y-=X,N-=V,M-=X;const L=[[z,Y,0,0,A-T],[N,M,0,0,O-T],[0,0,z,Y,I-P],[0,0,N,M,W-P]],Z=CT(L);if(!Z)return;if(g.save(),g.beginPath(),wk()||!h){g.moveTo(A,I);const rt=4,Rt=T-A,It=P-I;for(let at=0;at<rt;at++)g.lineTo(A+p((at+1)*Rt/rt),I+p(at*It/(rt-1))),at!=rt-1&&g.lineTo(A+p((at+1)*Rt/rt),I+p((at+1)*It/(rt-1)));g.lineTo(O,W)}else g.moveTo(A,I),g.lineTo(T,P),g.lineTo(O,W);g.clip(),g.transform(Z[0],Z[2],Z[1],Z[3],T,P),g.translate(y[0]-V,y[3]-X);let nt;if(_)nt=_.canvas,g.scale(x,-x);else{const rt=l[0],Rt=rt.extent;nt=rt.image,g.scale(yt(Rt)/nt.width,-ye(Rt)/nt.height)}g.drawImage(nt,0,0),g.restore()}),_&&(Ph(_),oo.push(_.canvas)),u&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,a.getTriangles().forEach(function(w,S,C){const E=w.target,b=(E[0][0]-v[0])/r,R=-(E[0][1]-v[1])/r,k=(E[1][0]-v[0])/r,z=-(E[1][1]-v[1])/r,Y=(E[2][0]-v[0])/r,N=-(E[2][1]-v[1])/r;g.beginPath(),g.moveTo(k,z),g.lineTo(b,R),g.lineTo(Y,N),g.closePath(),g.stroke()}),g.restore()),g.canvas}class Cg extends OE{constructor(t,n,i,s,r,o,a,l,c,u,h,d){super(r,K.IDLE,d),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=s.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const y=g?Ra(f,g):f;if(dg(y)===0){this.state=K.EMPTY;return}const _=t.getExtent();_&&(p?p=Ra(p,_):p=_);const m=s.getResolution(this.wrappedTileCoord_[0]),x=Ek(t,i,y,m);if(!isFinite(x)||x<=0){this.state=K.EMPTY;return}const v=u!==void 0?u:yk;if(this.triangulation_=new vk(t,i,y,p,x*v,m),this.triangulation_.getTriangles().length===0){this.state=K.EMPTY;return}this.sourceZ_=n.getZForResolution(x);let w=this.triangulation_.calculateSourceExtent();if(p&&(t.canWrapX()?(w[1]=Gt(w[1],p[1],p[3]),w[3]=Gt(w[3],p[1],p[3])):w=Ra(w,p)),!dg(w))this.state=K.EMPTY;else{const S=n.getTileRangeForExtentAndZ(w,this.sourceZ_);for(let C=S.minX;C<=S.maxX;C++)for(let E=S.minY;E<=S.maxY;E++){const b=c(this.sourceZ_,C,E,a);b&&this.sourceTiles_.push(b)}this.sourceTiles_.length===0&&(this.state=K.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==K.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,t.length===0)this.state=K.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),s=typeof i=="number"?i:i[0],r=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Sk(s,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=K.LOADED}this.changed()}load(){if(this.state==K.IDLE){this.state=K.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const i=n.getState();if(i==K.IDLE||i==K.LOADING){t++;const s=ct(n,J.CHANGE,function(r){const o=n.getState();(o==K.LOADED||o==K.ERROR||o==K.EMPTY)&&(At(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,i,s){n.getState()==K.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(At),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Ph(this.canvas_.getContext("2d")),oo.push(this.canvas_),this.canvas_=null),super.release()}}class bm{constructor(t,n,i,s){this.minX=t,this.maxX=n,this.minY=i,this.maxY=s}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Mr(e,t,n,i,s){return s!==void 0?(s.minX=e,s.maxX=t,s.minY=n,s.maxY=i,s):new bm(e,t,n,i)}class Ck extends TE{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=vn(),this.tmpTileRange_=new bm(0,0,0,0)}isDrawableTile(t){const n=this.getLayer(),i=t.getState(),s=n.getUseInterimTilesOnError();return i==K.LOADED||i==K.EMPTY||i==K.ERROR&&!s}getTile(t,n,i,s){const r=s.pixelRatio,o=s.viewState.projection,a=this.getLayer();let c=a.getSource().getTile(t,n,i,r,o);return c.getState()==K.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(c)||(c=c.getInterimTile()),c}getData(t){const n=this.frameState;if(!n)return null;const i=this.getLayer(),s=Jt(n.pixelToCoordinateTransform,t.slice()),r=i.getExtent();if(r&&!xo(r,s))return null;const o=n.pixelRatio,a=n.viewState.projection,l=n.viewState,c=i.getRenderSource(),u=c.getTileGridForProjection(l.projection),h=c.getTilePixelRatio(n.pixelRatio);for(let d=u.getZForResolution(l.resolution);d>=u.getMinZoom();--d){const f=u.getTileCoordForCoordAndZ(s,d),g=c.getTile(d,f[1],f[2],o,a);if(!(g instanceof LE||g instanceof Cg)||g instanceof Cg&&g.getState()===K.EMPTY)return null;if(g.getState()!==K.LOADED)continue;const p=u.getOrigin(d),y=$e(u.getTileSize(d)),_=u.getResolution(d),m=Math.floor(h*((s[0]-p[0])/_-f[1]*y[0])),x=Math.floor(h*((p[1]-s[1])/_-f[2]*y[1])),v=Math.round(h*c.getGutterForProjection(l.projection));return this.getImageData(g.getImage(),m+v,x+v)}return null}loadedTileCallback(t,n,i){return this.isDrawableTile(i)?super.loadedTileCallback(t,n,i):!1}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,n){const i=t.layerStatesArray[t.layerIndex],s=t.viewState,r=s.projection,o=s.resolution,a=s.center,l=s.rotation,c=t.pixelRatio,u=this.getLayer(),h=u.getSource(),d=h.getRevision(),f=h.getTileGridForProjection(r),g=f.getZForResolution(o,h.zDirection),p=f.getResolution(g);let y=t.extent;const _=t.viewState.resolution,m=h.getTilePixelRatio(c),x=Math.round(yt(y)/_*c),v=Math.round(ye(y)/_*c),w=i.extent&&qs(i.extent);w&&(y=Ra(y,qs(i.extent)));const S=p*x/2/m,C=p*v/2/m,E=[a[0]-S,a[1]-C,a[0]+S,a[1]+C],b=f.getTileRangeForExtentAndZ(y,g),R={};R[g]={};const k=this.createLoadedTileFinder(h,r,R),z=this.tmpExtent,Y=this.tmpTileRange_;this.newTiles_=!1;const N=l?gg(s.center,_,l,t.size):void 0;for(let X=b.minX;X<=b.maxX;++X)for(let L=b.minY;L<=b.maxY;++L){if(l&&!f.tileCoordIntersectsViewport([g,X,L],N))continue;const Z=this.getTile(g,X,L,t);if(this.isDrawableTile(Z)){const Rt=pt(this);if(Z.getState()==K.LOADED){R[g][Z.tileCoord.toString()]=Z;let It=Z.inTransition(Rt);It&&i.opacity!==1&&(Z.endTransition(Rt),It=!1),!this.newTiles_&&(It||!this.renderedTiles.includes(Z))&&(this.newTiles_=!0)}if(Z.getAlpha(Rt,t.time)===1)continue}const nt=f.getTileCoordChildTileRange(Z.tileCoord,Y,z);let rt=!1;nt&&(rt=k(g+1,nt)),rt||f.forEachTileCoordParentTileRange(Z.tileCoord,k,Y,z)}const M=p/o*c/m;ni(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,l,-x/2,-v/2);const T=Ww(this.pixelTransform);this.useContainer(n,T,this.getBackground(t));const P=this.getRenderContext(t),A=this.context.canvas;cm(this.inversePixelTransform,this.pixelTransform),ni(this.tempTransform,x/2,v/2,M,M,0,-x/2,-v/2),A.width!=x||A.height!=v?(A.width=x,A.height=v):this.containerReused||P.clearRect(0,0,x,v),w&&this.clipUnrotated(P,t,w),h.getInterpolate()||(P.imageSmoothingEnabled=!1),this.preRender(P,t),this.renderedTiles.length=0;let I=Object.keys(R).map(Number);I.sort(bi);let O,W,V;i.opacity===1&&(!this.containerReused||h.getOpaque(t.viewState.projection))?I=I.reverse():(O=[],W=[]);for(let X=I.length-1;X>=0;--X){const L=I[X],Z=h.getTilePixelSize(L,c,r),rt=f.getResolution(L)/p,Rt=Z[0]*rt*M,It=Z[1]*rt*M,at=f.getTileCoordForCoordAndZ(vr(E),L),Ut=f.getTileCoordExtent(at),ne=Jt(this.tempTransform,[m*(Ut[0]-E[0])/p,m*(E[3]-Ut[3])/p]),nn=m*h.getGutterForProjection(r),ji=R[L];for(const Wi in ji){const Be=ji[Wi],Er=Be.tileCoord,Gl=at[1]-Er[1],ed=Math.round(ne[0]-(Gl-1)*Rt),Ul=at[2]-Er[2],Xl=Math.round(ne[1]-(Ul-1)*It),Ve=Math.round(ne[0]-Gl*Rt),En=Math.round(ne[1]-Ul*It),jn=ed-Ve,Sn=Xl-En,Sr=g===L,Cr=Sr&&Be.getAlpha(pt(this),t.time)!==1;let Bi=!1;if(!Cr)if(O){V=[Ve,En,Ve+jn,En,Ve+jn,En+Sn,Ve,En+Sn];for(let si=0,nd=O.length;si<nd;++si)if(g!==L&&L<W[si]){const Se=O[si];Oe([Ve,En,Ve+jn,En+Sn],[Se[0],Se[3],Se[4],Se[7]])&&(Bi||(P.save(),Bi=!0),P.beginPath(),P.moveTo(V[0],V[1]),P.lineTo(V[2],V[3]),P.lineTo(V[4],V[5]),P.lineTo(V[6],V[7]),P.moveTo(Se[6],Se[7]),P.lineTo(Se[4],Se[5]),P.lineTo(Se[2],Se[3]),P.lineTo(Se[0],Se[1]),P.clip())}O.push(V),W.push(L)}else P.clearRect(Ve,En,jn,Sn);this.drawTileImage(Be,t,Ve,En,jn,Sn,nn,Sr),O&&!Cr?(Bi&&P.restore(),this.renderedTiles.unshift(Be)):this.renderedTiles.push(Be),this.updateUsedTiles(t.usedTiles,h,Be)}}return this.renderedRevision=d,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!tl(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=c,this.renderedProjection=r,this.manageTilePyramid(t,h,f,c,r,y,g,u.getPreload()),this.scheduleExpireCache(t,h),this.postRender(this.context,t),i.extent&&P.restore(),P.imageSmoothingEnabled=!0,T!==A.style.transform&&(A.style.transform=T),this.container}drawTileImage(t,n,i,s,r,o,a,l){const c=this.getTileImage(t);if(!c)return;const u=this.getRenderContext(n),h=pt(this),d=n.layerStatesArray[n.layerIndex],f=d.opacity*(l?t.getAlpha(h,n.time):1),g=f!==u.globalAlpha;g&&(u.save(),u.globalAlpha=f),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,s,r,o),g&&u.restore(),f!==d.opacity?n.animate=!0:l&&t.endTransition(h)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,n){if(n.canExpireCache()){const i=(function(s,r,o){const a=pt(s);a in o.usedTiles&&s.expireCache(o.viewState.projection,o.usedTiles[a])}).bind(null,n);t.postRenderFunctions.push(i)}}updateUsedTiles(t,n,i){const s=pt(n);s in t||(t[s]={}),t[s][i.getKey()]=!0}manageTilePyramid(t,n,i,s,r,o,a,l,c){const u=pt(n);u in t.wantedTiles||(t.wantedTiles[u]={});const h=t.wantedTiles[u],d=t.tileQueue,f=i.getMinZoom(),g=t.viewState.rotation,p=g?gg(t.viewState.center,t.viewState.resolution,g,t.size):void 0;let y=0,_,m,x,v,w,S;for(S=f;S<=a;++S)for(m=i.getTileRangeForExtentAndZ(o,S,m),x=i.getResolution(S),v=m.minX;v<=m.maxX;++v)for(w=m.minY;w<=m.maxY;++w)g&&!i.tileCoordIntersectsViewport([S,v,w],p)||(a-S<=l?(++y,_=n.getTile(S,v,w,s,r),_.getState()==K.IDLE&&(h[_.getKey()]=!0,d.isKeyQueued(_.getKey())||d.enqueue([_,u,i.getTileCoordCenter(_.tileCoord),x])),c!==void 0&&c(_)):n.useTile(S,v,w,r));n.updateCacheSize(y,r)}}class Ak extends mk{constructor(t){super(t)}createRenderer(){return new Ck(this)}}class bk{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const i=this.entries_[t];return ht(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){const n=this.entries_[t];return ht(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.key_;return t}getValues(){const t=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var n;return(n=this.entries_[t])==null?void 0:n.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){ht(!(t in this.entries_),"Tried to set a value for a key that is used already");const i={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}}function my(e,t,n,i){return i!==void 0?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function Wh(e,t,n){return e+"/"+t+"/"+n}function DE(e){return Wh(e[0],e[1],e[2])}function Tk(e){return e.split("/").map(Number)}function Rk(e){return(e[1]<<e[0])+e[2]}function Mk(e,t){const n=e[0],i=e[1],s=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const r=t.getFullTileRange(n);return r?r.containsXY(i,s):!0}class FE extends bk{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const t=this.peekFirstKey(),i=Tk(t)[0];this.forEach(s=>{s.tileCoord[0]!==i&&(this.remove(DE(s.tileCoord)),s.release())})}}const Kd={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},kr=[0,0,0],Xi=5;class NE{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,ht(xT(this.resolutions_,(s,r)=>r-s),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let s=0,r=this.resolutions_.length-1;s<r;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,ht(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=vr(i)),ht(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,ht(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:qp,ht(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((s,r)=>{const o=new bm(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,r);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,n,i){const s=this.getTileRangeForExtentAndZ(t,n);for(let r=s.minX,o=s.maxX;r<=o;++r)for(let a=s.minY,l=s.maxY;a<=l;++a)i([n,r,a])}forEachTileCoordParentTileRange(t,n,i,s){let r,o,a,l=null,c=t[0]-1;for(this.zoomFactor_===2?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,s);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),r=Mr(o,o,a,a,i)):r=this.getTileRangeForExtentAndZ(l,c,i),n(c,r))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const r=t[1]*2,o=t[2]*2;return Mr(r,r+1,o,o+1,n)}const s=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const s=t[0],r=t[1],o=t[2];if(n===s)return Mr(r,o,r,o,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-s),c=Math.floor(r*l),u=Math.floor(o*l);if(n<s)return Mr(c,c,u,u,i);const h=Math.floor(l*(r+1))-1,d=Math.floor(l*(o+1))-1;return Mr(c,h,u,d,i)}const a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(t,n,i){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,kr);const s=kr[1],r=kr[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,kr);const o=kr[1],a=kr[2];return Mr(s,o,r,a,i)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),s=$e(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*s[0]*i,n[1]-(t[2]+.5)*s[1]*i]}getTileCoordExtent(t,n){const i=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=$e(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*r[0]*s,a=i[1]-(t[2]+1)*r[1]*s,l=o+r[0]*s,c=a+r[1]*s;return Ss(o,a,l,c,n)}getTileCoordForCoordAndResolution(t,n,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,i)}getTileCoordForXYAndResolution_(t,n,i,s,r){const o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),c=$e(this.getTileSize(o),this.tmpSize_);let u=a*(t-l[0])/i/c[0],h=a*(l[1]-n)/i/c[1];return s?(u=fc(u,Xi)-1,h=fc(h,Xi)-1):(u=dc(u,Xi),h=dc(h,Xi)),my(o,u,h,r)}getTileCoordForXYAndZ_(t,n,i,s,r){const o=this.getOrigin(i),a=this.getResolution(i),l=$e(this.getTileSize(i),this.tmpSize_);let c=(t-o[0])/a/l[0],u=(o[1]-n)/a/l[1];return s?(c=fc(c,Xi)-1,u=fc(u,Xi)-1):(c=dc(c,Xi),u=dc(u,Xi)),my(i,c,u,r)}getTileCoordForCoordAndZ(t,n,i){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const i=$p(this.resolutions_,t,n||0);return Gt(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return Kw(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,i=new Array(n);for(let s=this.minZoom;s<n;++s)i[s]=this.getTileRangeForExtentAndZ(t,s);this.fullTileRanges_=i}}function zE(e){let t=e.getDefaultTileGrid();return t||(t=Ok(e),e.setDefaultTileGrid(t)),t}function kk(e,t,n){const i=t[0],s=e.getTileCoordCenter(t),r=Tm(n);if(!xo(r,s)){const o=yt(r),a=Math.ceil((r[0]-s[0])/o);return s[0]+=o*a,e.getTileCoordForCoordAndZ(s,i)}return t}function Ik(e,t,n,i){i=i!==void 0?i:"top-left";const s=jE(e,t,n);return new NE({extent:e,origin:NT(e,i),resolutions:s,tileSize:n})}function Pk(e){const t=e||{},n=t.extent||wn("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:jE(n,t.maxZoom,t.tileSize,t.maxResolution)};return new NE(i)}function jE(e,t,n,i){t=t!==void 0?t:AT,n=$e(n!==void 0?n:qp);const s=ye(e),r=yt(e);i=i>0?i:Math.max(r/n[0],s/n[1]);const o=t+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function Ok(e,t,n,i){const s=Tm(e);return Ik(s,t,n,i)}function Tm(e){e=wn(e);let t=e.getExtent();if(!t){const n=180*Jp.degrees/e.getMetersPerUnit();t=Ss(-n,-n,n,n)}return t}class Lk extends PE{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=t.opaque!==void 0?t.opaque:!1,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&$e(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new FE(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,n){const i=this.getTileCacheForProjection(t);i&&i.expireCache(n)}forEachLoadedTile(t,n,i,s){const r=this.getTileCacheForProjection(t);if(!r)return!1;let o=!0,a,l,c;for(let u=i.minX;u<=i.maxX;++u)for(let h=i.minY;h<=i.maxY;++h)l=Wh(n,u,h),c=!1,r.containsKey(l)&&(a=r.get(l),c=a.getState()===K.LOADED,c&&(c=s(a)!==!1)),c||(o=!1);return o}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,i,s,r){return ft()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:zE(t)}getTileCacheForProjection(t){const n=this.getProjection();return ht(n===null||Or(n,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,i){const s=this.getTileGridForProjection(i),r=this.getTilePixelRatio(n),o=$e(s.getTileSize(t),this.tmpSize);return r==1?o:FR(o,r,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=kk(i,t,n)),Mk(t,i)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,n){const i=this.getTileCacheForProjection(n);t>i.highWaterMark&&(i.highWaterMark=t)}useTile(t,n,i,s){}}class Dk extends Ni{constructor(t,n){super(t),this.tile=n}}function Fk(e,t){const n=/\{z\}/g,i=/\{x\}/g,s=/\{y\}/g,r=/\{-y\}/g;return function(o,a,l){if(o)return e.replace(n,o[0].toString()).replace(i,o[1].toString()).replace(s,o[2].toString()).replace(r,function(){const c=o[0],u=t.getFullTileRange(c);if(!u)throw new Error("The {-y} placeholder requires a tile grid with extent");return(u.getHeight()-o[2]-1).toString()})}}function Nk(e,t){const n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Fk(e[s],t);return zk(i)}function zk(e){return e.length===1?e[0]:function(t,n,i){if(!t)return;const s=Rk(t),r=sr(s,e.length);return e[r](t,n,i)}}function jk(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const i=n[1].charCodeAt(0),s=n[2].charCodeAt(0);let r;for(r=i;r<=s;++r)t.push(e.replace(n[0],String.fromCharCode(r)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const i=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=i;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}class Rm extends Lk{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Rm.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,i=pt(n),s=n.getState();let r;s==K.LOADING?(this.tileLoadingKeys_[i]=!0,r=Kd.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],r=s==K.ERROR?Kd.TILELOADERROR:s==K.LOADED?Kd.TILELOADEND:void 0),r!=null&&this.dispatchEvent(new Dk(r,n))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=jk(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Nk(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,i){}useTile(t,n,i){const s=Wh(t,n,i);this.tileCache.containsKey(s)&&this.tileCache.get(s)}}class Wk extends Rm{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Bk,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:LE,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,n){const i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?n:{});for(const s in this.tileCacheForProjection){const r=this.tileCacheForProjection[s];r.expireCache(r==i?n:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!Or(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return this.getProjection()&&t&&!Or(this.getProjection(),t)?!1:super.getOpaque(t)}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||Or(n,t)))return this.tileGrid;const i=pt(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=zE(t)),this.tileGridForProjection[i]}getTileCacheForProjection(t){const n=this.getProjection();if(!n||Or(n,t))return this.tileCache;const i=pt(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new FE(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(t,n,i,s,r,o){const a=[t,n,i],l=this.getTileCoordForTileUrlFunction(a,r),c=l?this.tileUrlFunction(l,s,r):void 0,u=new this.tileClass(a,c!==void 0?K.IDLE:K.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(J.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,n,i,s,r){const o=this.getProjection();if(!o||!r||Or(o,r))return this.getTileInternal(t,n,i,s,o||r);const a=this.getTileCacheForProjection(r),l=[t,n,i];let c;const u=DE(l);a.containsKey(u)&&(c=a.get(u));const h=this.getKey();if(c&&c.key==h)return c;const d=this.getTileGridForProjection(o),f=this.getTileGridForProjection(r),g=this.getTileCoordForTileUrlFunction(l,r),p=new Cg(o,d,r,f,l,g,this.getTilePixelRatio(s),this.getGutter(),(y,_,m,x)=>this.getTileInternal(y,_,m,x,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=h,c?(p.interimTile=c,p.refreshInterimChain(),a.replace(u,p)):a.set(u,p),p}getTileInternal(t,n,i,s,r){let o=null;const a=Wh(t,n,i),l=this.getKey();if(!this.tileCache.containsKey(a))o=this.createTile_(t,n,i,s,r,l),this.tileCache.set(a,o);else if(o=this.tileCache.get(a),o.key!=l){const c=o;o=this.createTile_(t,n,i,s,r,l),c.getState()==K.IDLE?o.interimTile=c.interimTile:o.interimTile=c,o.refreshInterimChain(),this.tileCache.replace(a,o)}return o}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(t,n){const i=wn(t);if(i){const s=pt(i);s in this.tileGridForProjection||(this.tileGridForProjection[s]=n)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function Bk(e,t){e.getImage().src=t}class Vk extends Wk{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",i=t.tileGrid!==void 0?t.tileGrid:Pk({extent:Tm(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const Yk='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Hk extends Vk{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[Yk];const i=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",s=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:i,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,opaque:t.opaque!==void 0?t.opaque:!0,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:s,wrapX:t.wrapX,zDirection:t.zDirection})}}function Uu(e){switch(e){case"anti-social-behaviour":return"#FF0000";case"criminal-damage-arson":return"#FF8C00";case"bicycle-theft":return"#00FFFF";case"drugs":return"#00FF00";case"burglary":return"#808080";case"other-theft":return"#FF00FF";case"possession-of-weapons":return"#FFFF00";case"public-order":return"#0000FF";case"robbery":return"#008080";case"shoplifting":return"#808000";case"theft-from-the-person":return"#008000";case"violent-crime":return"#000000";case"vehiclecrime":case"vehicle-crime":return"#000080";case"other-crime":return"#FF1493";default:return}}const de={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class Gk extends zn{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+n2,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(de.ELEMENT,this.handleElementChanged),this.addChangeListener(de.MAP,this.handleMapChanged),this.addChangeListener(de.OFFSET,this.handleOffsetChanged),this.addChangeListener(de.POSITION,this.handlePositionChanged),this.addChangeListener(de.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(de.ELEMENT)}getId(){return this.id}getMap(){return this.get(de.MAP)||null}getOffset(){return this.get(de.OFFSET)}getPosition(){return this.get(de.POSITION)}getPositioning(){return this.get(de.POSITIONING)}handleElementChanged(){rE(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(ju(this.element),At(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=ct(t,mi.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(de.ELEMENT,t)}setMap(t){this.set(de.MAP,t)}setOffset(t){this.set(de.OFFSET,t)}setPosition(t){this.set(de.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(de.POSITION))return;const i=this.getRect(n.getTargetElement(),n.getSize()),s=this.getElement(),r=this.getRect(s,[XR(s),$R(s)]);t=t||{};const o=t.margin===void 0?20:t.margin;if(!Zs(i,r)){const a=r[0]-i[0],l=i[2]-r[2],c=r[1]-i[1],u=i[3]-r[3],h=[0,0];if(a<0?h[0]=a-o:l<0&&(h[0]=Math.abs(l)+o),c<0?h[1]=c-o:u<0&&(h[1]=Math.abs(u)+o),h[0]!==0||h[1]!==0){const d=n.getView().getCenterInternal(),f=n.getPixelFromCoordinateInternal(d);if(!f)return;const g=[f[0]+h[0],f[1]+h[1]],p=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(g),duration:p.duration,easing:p.easing})}}}getRect(t,n){const i=t.getBoundingClientRect(),s=i.left+window.pageXOffset,r=i.top+window.pageYOffset;return[s,r,s+n[0],r+n[1]]}setPositioning(t){this.set(de.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const i=t.getPixelFromCoordinate(n),s=t.getSize();this.updateRenderedPosition(i,s)}updateRenderedPosition(t,n){const i=this.element.style,s=this.getOffset(),r=this.getPositioning();this.setVisible(!0);const o=Math.round(t[0]+s[0])+"px",a=Math.round(t[1]+s[1])+"px";let l="0%",c="0%";r=="bottom-right"||r=="center-right"||r=="top-right"?l="-100%":(r=="bottom-center"||r=="center-center"||r=="top-center")&&(l="-50%"),r=="bottom-left"||r=="bottom-center"||r=="bottom-right"?c="-100%":(r=="center-left"||r=="center-center"||r=="center-right")&&(c="-50%");const u=`translate(${l}, ${c}) translate(${o}, ${a})`;this.rendered.transform_!=u&&(this.rendered.transform_=u,i.transform=u)}getOptions(){return this.options}}var WE={exports:{}},BE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=St;function Uk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xk=typeof Object.is=="function"?Object.is:Uk,$k=Nl.useSyncExternalStore,Kk=Nl.useRef,Zk=Nl.useEffect,qk=Nl.useMemo,Jk=Nl.useDebugValue;BE.useSyncExternalStoreWithSelector=function(e,t,n,i,s){var r=Kk(null);if(r.current===null){var o={hasValue:!1,value:null};r.current=o}else o=r.current;r=qk(function(){function l(f){if(!c){if(c=!0,u=f,f=i(f),s!==void 0&&o.hasValue){var g=o.value;if(s(g,f))return h=g}return h=f}if(g=h,Xk(u,f))return g;var p=i(f);return s!==void 0&&s(g,p)?g:(u=f,h=p)}var c=!1,u,h,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,i,s]);var a=$k(e,r[0],r[1]);return Zk(function(){o.hasValue=!0,o.value=a},[a]),Jk(a),a};WE.exports=BE;var Qk=WE.exports,Ke="default"in h_?Cl:h_,_y=Symbol.for("react-redux-context"),yy=typeof globalThis<"u"?globalThis:{};function tI(){if(!Ke.createContext)return{};const e=yy[_y]??(yy[_y]=new Map);let t=e.get(Ke.createContext);return t||(t=Ke.createContext(null),e.set(Ke.createContext,t)),t}var As=tI(),eI=()=>{throw new Error("uSES not initialized!")};function Mm(e=As){return function(){return Ke.useContext(e)}}var VE=Mm(),YE=eI,nI=e=>{YE=e},iI=(e,t)=>e===t;function sI(e=As){const t=e===As?VE:Mm(e),n=(i,s={})=>{const{equalityFn:r=iI,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:h}=t();Ke.useRef(!0);const d=Ke.useCallback({[i.name](g){return i(g)}}[i.name],[i,u,o.stabilityCheck]),f=YE(l.addNestedSub,a.getState,c||a.getState,d,r);return Ke.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var Ag=sI();function rI(e){e()}function oI(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rI(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var xy={notify(){},get:()=>[]};function aI(e,t){let n,i=xy,s=0,r=!1;function o(p){u();const y=i.subscribe(p);let _=!1;return()=>{_||(_=!0,y(),h())}}function a(){i.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return r}function u(){s++,n||(n=e.subscribe(l),i=oI())}function h(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=xy)}function d(){r||(r=!0,u())}function f(){r&&(r=!1,h())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:d,tryUnsubscribe:f,getListeners:()=>i};return g}var lI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cI=typeof navigator<"u"&&navigator.product==="ReactNative",uI=lI||cI?Ke.useLayoutEffect:Ke.useEffect;function hI({store:e,context:t,children:n,serverState:i,stabilityCheck:s="once",identityFunctionCheck:r="once"}){const o=Ke.useMemo(()=>{const c=aI(e);return{store:e,subscription:c,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:r}},[e,i,s,r]),a=Ke.useMemo(()=>e.getState(),[e]);uI(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=t||As;return Ke.createElement(l.Provider,{value:o},n)}var dI=hI;function HE(e=As){const t=e===As?VE:Mm(e),n=()=>{const{store:i}=t();return i};return Object.assign(n,{withTypes:()=>n}),n}var fI=HE();function gI(e=As){const t=e===As?fI:HE(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var GE=gI();nI(Qk.useSyncExternalStoreWithSelector);function ie(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pI=typeof Symbol=="function"&&Symbol.observable||"@@observable",vy=pI,Zd=()=>Math.random().toString(36).substring(7).split("").join("."),mI={INIT:`@@redux/INIT${Zd()}`,REPLACE:`@@redux/REPLACE${Zd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zd()}`},Xu=mI;function km(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function UE(e,t,n){if(typeof e!="function")throw new Error(ie(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ie(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ie(1));return n(UE)(e,t)}let i=e,s=t,r=new Map,o=r,a=0,l=!1;function c(){o===r&&(o=new Map,r.forEach((y,_)=>{o.set(_,y)}))}function u(){if(l)throw new Error(ie(3));return s}function h(y){if(typeof y!="function")throw new Error(ie(4));if(l)throw new Error(ie(5));let _=!0;c();const m=a++;return o.set(m,y),function(){if(_){if(l)throw new Error(ie(6));_=!1,c(),o.delete(m),r=null}}}function d(y){if(!km(y))throw new Error(ie(7));if(typeof y.type>"u")throw new Error(ie(8));if(typeof y.type!="string")throw new Error(ie(17));if(l)throw new Error(ie(9));try{l=!0,s=i(s,y)}finally{l=!1}return(r=o).forEach(m=>{m()}),y}function f(y){if(typeof y!="function")throw new Error(ie(10));i=y,d({type:Xu.REPLACE})}function g(){const y=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(ie(11));function m(){const v=_;v.next&&v.next(u())}return m(),{unsubscribe:y(m)}},[vy](){return this}}}return d({type:Xu.INIT}),{dispatch:d,subscribe:h,getState:u,replaceReducer:f,[vy]:g}}function _I(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Xu.INIT})>"u")throw new Error(ie(12));if(typeof n(void 0,{type:Xu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ie(13))})}function yI(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const o=t[r];typeof e[o]=="function"&&(n[o]=e[o])}const i=Object.keys(n);let s;try{_I(n)}catch(r){s=r}return function(o={},a){if(s)throw s;let l=!1;const c={};for(let u=0;u<i.length;u++){const h=i[u],d=n[h],f=o[h],g=d(f,a);if(typeof g>"u")throw a&&a.type,new Error(ie(14));c[h]=g,l=l||g!==f}return l=l||i.length!==Object.keys(o).length,l?c:o}}function $u(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function xI(...e){return t=>(n,i)=>{const s=t(n,i);let r=()=>{throw new Error(ie(15))};const o={getState:s.getState,dispatch:(l,...c)=>r(l,...c)},a=e.map(l=>l(o));return r=$u(...a)(s.dispatch),{...s,dispatch:r}}}function vI(e){return km(e)&&"type"in e&&typeof e.type=="string"}var XE=Symbol.for("immer-nothing"),wy=Symbol.for("immer-draftable"),Je=Symbol.for("immer-state");function Mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Eo=Object.getPrototypeOf;function bs(e){return!!e&&!!e[Je]}function Di(e){var t;return e?$E(e)||Array.isArray(e)||!!e[wy]||!!((t=e.constructor)!=null&&t[wy])||Vh(e)||Yh(e):!1}var wI=Object.prototype.constructor.toString();function $E(e){if(!e||typeof e!="object")return!1;const t=Eo(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===wI}function Ku(e,t){Bh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Bh(e){const t=e[Je];return t?t.type_:Array.isArray(e)?1:Vh(e)?2:Yh(e)?3:0}function bg(e,t){return Bh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KE(e,t,n){const i=Bh(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function EI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vh(e){return e instanceof Map}function Yh(e){return e instanceof Set}function Hs(e){return e.copy_||e.base_}function Tg(e,t){if(Vh(e))return new Map(e);if(Yh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$E(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[Je];let s=Reflect.ownKeys(i);for(let r=0;r<s.length;r++){const o=s[r],a=i[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(i[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Eo(e),i)}else{const i=Eo(e);if(i!==null&&n)return{...e};const s=Object.create(i);return Object.assign(s,e)}}function Im(e,t=!1){return Hh(e)||bs(e)||!Di(e)||(Bh(e)>1&&(e.set=e.add=e.clear=e.delete=SI),Object.freeze(e),t&&Object.entries(e).forEach(([n,i])=>Im(i,!0))),e}function SI(){Mn(2)}function Hh(e){return Object.isFrozen(e)}var CI={};function gr(e){const t=CI[e];return t||Mn(0,e),t}var dl;function ZE(){return dl}function AI(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ey(e,t){t&&(gr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rg(e){Mg(e),e.drafts_.forEach(bI),e.drafts_=null}function Mg(e){e===dl&&(dl=e.parent_)}function Sy(e){return dl=AI(dl,e)}function bI(e){const t=e[Je];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Cy(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Je].modified_&&(Rg(t),Mn(4)),Di(e)&&(e=Zu(t,e),t.parent_||qu(t,e)),t.patches_&&gr("Patches").generateReplacementPatches_(n[Je].base_,e,t.patches_,t.inversePatches_)):e=Zu(t,n,[]),Rg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XE?e:void 0}function Zu(e,t,n){if(Hh(t))return t;const i=t[Je];if(!i)return Ku(t,(s,r)=>Ay(e,i,t,s,r,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return qu(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let r=s,o=!1;i.type_===3&&(r=new Set(s),s.clear(),o=!0),Ku(r,(a,l)=>Ay(e,i,s,a,l,n,o)),qu(e,s,!1),n&&e.patches_&&gr("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Ay(e,t,n,i,s,r,o){if(bs(s)){const a=r&&t&&t.type_!==3&&!bg(t.assigned_,i)?r.concat(i):void 0,l=Zu(e,s,a);if(KE(n,i,l),bs(l))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Di(s)&&!Hh(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Zu(e,s),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&qu(e,s)}}function qu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Im(t,n)}function TI(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:ZE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,r=Pm;n&&(s=[i],r=fl);const{revoke:o,proxy:a}=Proxy.revocable(s,r);return i.draft_=a,i.revoke_=o,a}var Pm={get(e,t){if(t===Je)return e;const n=Hs(e);if(!bg(n,t))return RI(e,n,t);const i=n[t];return e.finalized_||!Di(i)?i:i===qd(e.base_,t)?(Jd(e),e.copy_[t]=Ig(i,e)):i},has(e,t){return t in Hs(e)},ownKeys(e){return Reflect.ownKeys(Hs(e))},set(e,t,n){const i=qE(Hs(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const s=qd(Hs(e),t),r=s==null?void 0:s[Je];if(r&&r.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(EI(n,s)&&(n!==void 0||bg(e.base_,t)))return!0;Jd(e),kg(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qd(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Jd(e),kg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Hs(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){Mn(11)},getPrototypeOf(e){return Eo(e.base_)},setPrototypeOf(){Mn(12)}},fl={};Ku(Pm,(e,t)=>{fl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});fl.deleteProperty=function(e,t){return fl.set.call(this,e,t,void 0)};fl.set=function(e,t,n){return Pm.set.call(this,e[0],t,n,e[0])};function qd(e,t){const n=e[Je];return(n?Hs(n):e)[t]}function RI(e,t,n){var s;const i=qE(t,n);return i?"value"in i?i.value:(s=i.get)==null?void 0:s.call(e.draft_):void 0}function qE(e,t){if(!(t in e))return;let n=Eo(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Eo(n)}}function kg(e){e.modified_||(e.modified_=!0,e.parent_&&kg(e.parent_))}function Jd(e){e.copy_||(e.copy_=Tg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var MI=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const r=n;n=t;const o=this;return function(l=r,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Mn(6),i!==void 0&&typeof i!="function"&&Mn(7);let s;if(Di(t)){const r=Sy(this),o=Ig(t,void 0);let a=!0;try{s=n(o),a=!1}finally{a?Rg(r):Mg(r)}return Ey(r,i),Cy(s,r)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===XE&&(s=void 0),this.autoFreeze_&&Im(s,!0),i){const r=[],o=[];gr("Patches").generateReplacementPatches_(t,s,r,o),i(r,o)}return s}else Mn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let i,s;return[this.produce(t,n,(o,a)=>{i=o,s=a}),i,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Di(e)||Mn(8),bs(e)&&(e=JE(e));const t=Sy(this),n=Ig(e,void 0);return n[Je].isManual_=!0,Mg(t),n}finishDraft(e,t){const n=e&&e[Je];(!n||!n.isManual_)&&Mn(9);const{scope_:i}=n;return Ey(i,t),Cy(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const i=gr("Patches").applyPatches_;return bs(e)?i(e,t):this.produce(e,s=>i(s,t))}};function Ig(e,t){const n=Vh(e)?gr("MapSet").proxyMap_(e,t):Yh(e)?gr("MapSet").proxySet_(e,t):TI(e,t);return(t?t.scope_:ZE()).drafts_.push(n),n}function JE(e){return bs(e)||Mn(10,e),QE(e)}function QE(e){if(!Di(e)||Hh(e))return e;const t=e[Je];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Tg(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Tg(e,!0);return Ku(n,(i,s)=>{KE(n,i,QE(s))}),t&&(t.finalized_=!1),n}var Qe=new MI,tS=Qe.produce;Qe.produceWithPatches.bind(Qe);Qe.setAutoFreeze.bind(Qe);Qe.setUseStrictShallowCopy.bind(Qe);Qe.applyPatches.bind(Qe);Qe.createDraft.bind(Qe);Qe.finishDraft.bind(Qe);function kI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function II(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function PI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var by=e=>Array.isArray(e)?e:[e];function OI(e){const t=Array.isArray(e[0])?e[0]:e;return PI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function LI(e,t){const n=[],{length:i}=e;for(let s=0;s<i;s++)n.push(e[s].apply(null,t));return n}var DI=class{constructor(e){this.value=e}deref(){return this.value}},FI=typeof WeakRef<"u"?WeakRef:DI,NI=0,Ty=1;function Ec(){return{s:NI,v:void 0,o:null,p:null}}function Om(e,t={}){let n=Ec();const{resultEqualityCheck:i}=t;let s,r=0;function o(){var h;let a=n;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const g=arguments[d];if(typeof g=="function"||typeof g=="object"&&g!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const y=p.get(g);y===void 0?(a=Ec(),p.set(g,a)):a=y}else{let p=a.p;p===null&&(a.p=p=new Map);const y=p.get(g);y===void 0?(a=Ec(),p.set(g,a)):a=y}}const c=a;let u;if(a.s===Ty?u=a.v:(u=e.apply(null,arguments),r++),c.s=Ty,i){const d=((h=s==null?void 0:s.deref)==null?void 0:h.call(s))??s;d!=null&&i(d,u)&&(u=d,r!==0&&r--),s=typeof u=="object"&&u!==null||typeof u=="function"?new FI(u):u}return c.v=u,u}return o.clearCache=()=>{n=Ec(),o.resetResultsCount()},o.resultsCount=()=>r,o.resetResultsCount=()=>{r=0},o}function eS(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...s)=>{let r=0,o=0,a,l={},c=s.pop();typeof c=="object"&&(l=c,c=s.pop()),kI(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:f=Om,argsMemoizeOptions:g=[],devModeChecks:p={}}=u,y=by(d),_=by(g),m=OI(s),x=h(function(){return r++,c.apply(null,arguments)},...y),v=f(function(){o++;const S=LI(m,arguments);return a=x.apply(null,S),a},..._);return Object.assign(v,{resultFunc:c,memoizedResultFunc:x,dependencies:m,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:h,argsMemoize:f})};return Object.assign(i,{withTypes:()=>i}),i}var zI=eS(Om),jI=Object.assign((e,t=zI)=>{II(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(r=>e[r]);return t(i,(...r)=>r.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>jI});function nS(e){return({dispatch:n,getState:i})=>s=>r=>typeof r=="function"?r(n,i,e):s(r)}var WI=nS(),BI=nS,VI=(...e)=>{const t=eS(...e),n=Object.assign((...i)=>{const s=t(...i),r=(o,...a)=>s(bs(o)?JE(o):o,...a);return Object.assign(r,s),r},{withTypes:()=>n});return n};VI(Om);var YI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$u:$u.apply(null,arguments)},HI=e=>e&&typeof e.match=="function";function Mi(e,t){function n(...i){if(t){let s=t(...i);if(!s)throw new Error(We(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>vI(i)&&i.type===e,n}var iS=class ha extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ha.prototype)}static get[Symbol.species](){return ha}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ha(...t[0].concat(this)):new ha(...t.concat(this))}};function Ry(e){return Di(e)?tS(e,()=>{}):e}function My(e,t,n){if(e.has(t)){let s=e.get(t);return n.update&&(s=n.update(s,t,e),e.set(t,s)),s}if(!n.insert)throw new Error(We(10));const i=n.insert(t,e);return e.set(t,i),i}function GI(e){return typeof e=="boolean"}var UI=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:r=!0}=t??{};let o=new iS;return n&&(GI(n)?o.push(WI):o.push(BI(n.extraArgument))),o},XI="RTK_autoBatch",sS=e=>t=>{setTimeout(t,e)},$I=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sS(10),KI=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let s=!0,r=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?$I:e.type==="callback"?e.queueNotification:sS(e.timeout),c=()=>{o=!1,r&&(r=!1,a.forEach(u=>u()))};return Object.assign({},i,{subscribe(u){const h=()=>s&&u(),d=i.subscribe(h);return a.add(u),()=>{d(),a.delete(u)}},dispatch(u){var h;try{return s=!((h=u==null?void 0:u.meta)!=null&&h[XI]),r=!s,r&&(o||(o=!0,l(c))),i.dispatch(u)}finally{s=!0}}})},ZI=e=>function(n){const{autoBatch:i=!0}=n??{};let s=new iS(e);return i&&s.push(KI(typeof i=="object"?i:void 0)),s},qI=!0;function JI(e){const t=UI(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:r=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(km(n))a=yI(n);else throw new Error(We(1));let l;typeof i=="function"?l=i(t):l=t();let c=$u;s&&(c=YI({trace:!qI,...typeof s=="object"&&s}));const u=xI(...l),h=ZI(u);let d=typeof o=="function"?o(h):h();const f=c(...d);return UE(a,r,f)}function rS(e){const t={},n=[];let i;const s={addCase(r,o){const a=typeof r=="string"?r:r.type;if(!a)throw new Error(We(28));if(a in t)throw new Error(We(29));return t[a]=o,s},addMatcher(r,o){return n.push({matcher:r,reducer:o}),s},addDefaultCase(r){return i=r,s}};return e(s),[t,n,i]}function QI(e){return typeof e=="function"}function tP(e,t){let[n,i,s]=rS(t),r;if(QI(e))r=()=>Ry(e());else{const a=Ry(e);r=()=>a}function o(a=r(),l){let c=[n[l.type],...i.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[s]),c.reduce((u,h)=>{if(h)if(bs(u)){const f=h(u,l);return f===void 0?u:f}else{if(Di(u))return tS(u,d=>h(d,l));{const d=h(u,l);if(d===void 0){if(u===null)return u;throw new Error(We(9))}return d}}return u},a)}return o.getInitialState=r,o}var eP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oS=(e=21)=>{let t="",n=e;for(;n--;)t+=eP[Math.random()*64|0];return t},nP=(e,t)=>HI(e)?e.match(t):e(t);function iP(...e){return t=>e.some(n=>nP(n,t))}var sP=["name","message","stack","code"],Qd=class{constructor(e,t){B(this,"_type");this.payload=e,this.meta=t}},ky=class{constructor(e,t){B(this,"_type");this.payload=e,this.meta=t}},rP=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of sP)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},aS=(()=>{function e(t,n,i){const s=Mi(t+"/fulfilled",(l,c,u,h)=>({payload:l,meta:{...h||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),r=Mi(t+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),o=Mi(t+"/rejected",(l,c,u,h,d)=>({payload:h,error:(i&&i.serializeError||rP)(l||"Rejected"),meta:{...d||{},arg:u,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,u,h)=>{const d=i!=null&&i.idGenerator?i.idGenerator(l):oS(),f=new AbortController;let g,p;function y(m){p=m,f.abort()}const _=async function(){var v,w;let m;try{let S=(v=i==null?void 0:i.condition)==null?void 0:v.call(i,l,{getState:u,extra:h});if(aP(S)&&(S=await S),S===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((E,b)=>{g=()=>{b({name:"AbortError",message:p||"Aborted"})},f.signal.addEventListener("abort",g)});c(r(d,l,(w=i==null?void 0:i.getPendingMeta)==null?void 0:w.call(i,{requestId:d,arg:l},{getState:u,extra:h}))),m=await Promise.race([C,Promise.resolve(n(l,{dispatch:c,getState:u,extra:h,requestId:d,signal:f.signal,abort:y,rejectWithValue:(E,b)=>new Qd(E,b),fulfillWithValue:(E,b)=>new ky(E,b)})).then(E=>{if(E instanceof Qd)throw E;return E instanceof ky?s(E.payload,d,l,E.meta):s(E,d,l)})])}catch(S){m=S instanceof Qd?o(null,d,l,S.payload,S.meta):o(S,d,l)}finally{g&&f.signal.removeEventListener("abort",g)}return i&&!i.dispatchConditionRejection&&o.match(m)&&m.meta.condition||c(m),m}();return Object.assign(_,{abort:y,requestId:d,arg:l,unwrap(){return _.then(oP)}})}}return Object.assign(a,{pending:r,rejected:o,fulfilled:s,settled:iP(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function oP(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function aP(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var lP=Symbol.for("rtk-slice-createasyncthunk");function cP(e,t){return`${e}/${t}`}function uP({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[lP];return function(s){const{name:r,reducerPath:o=r}=s;if(!r)throw new Error(We(11));typeof process<"u";const a=(typeof s.reducers=="function"?s.reducers(dP()):s.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,v){const w=typeof x=="string"?x:x.type;if(!w)throw new Error(We(12));if(w in c.sliceCaseReducersByType)throw new Error(We(13));return c.sliceCaseReducersByType[w]=v,u},addMatcher(x,v){return c.sliceMatchers.push({matcher:x,reducer:v}),u},exposeAction(x,v){return c.actionCreators[x]=v,u},exposeCaseReducer(x,v){return c.sliceCaseReducersByName[x]=v,u}};l.forEach(x=>{const v=a[x],w={reducerName:x,type:cP(r,x),createNotation:typeof s.reducers=="function"};gP(v)?mP(w,v,u,t):fP(w,v,u)});function h(){const[x={},v=[],w=void 0]=typeof s.extraReducers=="function"?rS(s.extraReducers):[s.extraReducers],S={...x,...c.sliceCaseReducersByType};return tP(s.initialState,C=>{for(let E in S)C.addCase(E,S[E]);for(let E of c.sliceMatchers)C.addMatcher(E.matcher,E.reducer);for(let E of v)C.addMatcher(E.matcher,E.reducer);w&&C.addDefaultCase(w)})}const d=x=>x,f=new Map;let g;function p(x,v){return g||(g=h()),g(x,v)}function y(){return g||(g=h()),g.getInitialState()}function _(x,v=!1){function w(C){let E=C[x];return typeof E>"u"&&v&&(E=y()),E}function S(C=d){const E=My(f,v,{insert:()=>new WeakMap});return My(E,C,{insert:()=>{const b={};for(const[R,k]of Object.entries(s.selectors??{}))b[R]=hP(k,C,y,v);return b}})}return{reducerPath:x,getSelectors:S,get selectors(){return S(w)},selectSlice:w}}const m={name:r,reducer:p,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,..._(o),injectInto(x,{reducerPath:v,...w}={}){const S=v??o;return x.inject({reducerPath:S,reducer:p},w),{...m,..._(S,!0)}}};return m}}function hP(e,t,n,i){function s(r,...o){let a=t(r);return typeof a>"u"&&i&&(a=n()),e(a,...o)}return s.unwrapped=e,s}var Gh=uP();function dP(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function fP({type:e,reducerName:t,createNotation:n},i,s){let r,o;if("reducer"in i){if(n&&!pP(i))throw new Error(We(17));r=i.reducer,o=i.prepare}else r=i;s.addCase(e,r).exposeCaseReducer(t,r).exposeAction(t,o?Mi(e,o):Mi(e))}function gP(e){return e._reducerDefinitionType==="asyncThunk"}function pP(e){return e._reducerDefinitionType==="reducerWithPrepare"}function mP({type:e,reducerName:t},n,i,s){if(!s)throw new Error(We(18));const{payloadCreator:r,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,h=s(e,r,u);i.exposeAction(t,h),o&&i.addCase(h.fulfilled,o),a&&i.addCase(h.pending,a),l&&i.addCase(h.rejected,l),c&&i.addMatcher(h.settled,c),i.exposeCaseReducer(t,{fulfilled:o||Sc,pending:a||Sc,rejected:l||Sc,settled:c||Sc})}function Sc(){}var _P=(e,t)=>{if(typeof e!="function")throw new Error(We(32))},Lm="listenerMiddleware",yP=e=>{let{type:t,actionCreator:n,matcher:i,predicate:s,effect:r}=e;if(t)s=Mi(t).match;else if(n)t=n.type,s=n.match;else if(i)s=i;else if(!s)throw new Error(We(21));return _P(r),{predicate:s,type:t,effect:r}},xP=Object.assign(e=>{const{type:t,predicate:n,effect:i}=yP(e);return{id:oS(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(We(22))}}},{withTypes:()=>xP}),vP=Object.assign(Mi(`${Lm}/add`),{withTypes:()=>vP});Mi(`${Lm}/removeAll`);var wP=Object.assign(Mi(`${Lm}/remove`),{withTypes:()=>wP});function We(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const lS=Gh({name:"updateSearch",initialState:{coordinates:""},reducers:{getSearch:(e,t)=>{JSON.parse(sessionStorage.getItem("startCoordinates"))||sessionStorage.setItem("startCoordinates",JSON.stringify([50.095,.9771])),e.coordinates=t.payload}}}),{getSearch:EP}=lS.actions,SP=lS.reducer;function CP(){const e=["anti-social-behaviour","criminal-damage-arson","bicycle-theft","drugs","burglary","other-theft","possession-of-weapons","public-order","robbery","shoplifting","theft-from-the-person","violent-crime","vehicle-crime","other-crime"];return U.jsx("div",{className:"legend",children:e.map(t=>U.jsxs("div",{className:"legend-item",children:[U.jsx("span",{className:"legend-color",style:{backgroundColor:Uu(t)}}),U.jsx("span",{className:"legend-text",children:t.replace(/-/g," ")})]},t))})}const AP=()=>{var u;const e=GE(),t=St.useRef(null),n=St.useRef(null),i=St.useRef(null),[s,r]=St.useState(null),o=Ag(h=>h.crimedata.data),[a,l]=St.useState(!1);function c(){const h=n.current.getView().getCenter();r(h);const[d,f]=$T(h);e(EP([f,d]))}return St.useEffect(()=>{if(!n.current&&t.current){n.current=new kM({target:t.current,layers:[new Ak({source:new Hk})],view:new Un({center:s||Pd([-.1278,51.5074]),zoom:12})});const d=new Gk({element:i.current,id:"featureOverlay",positioning:"bottom-center"});n.current.addOverlay(d)}return o&&(async()=>{const d=await o.map(y=>{const _=Uu(y.category),m=new Am({geometry:new Mh(Pd([Number(y.longitude),Number(y.latitude)])),name:y.category});return _&&m.setStyle(new xs({image:new Pl({radius:5,fill:new Po({color:_}),scale:1})})),m}),f=new pk({features:d}),g=new ck({source:f});n.current.addLayer(g);const p=f.getExtent();n.current.getView().fit(p,{padding:[50,50,50,50]})})(),n.current.renderSync(),n.current.on("singleclick",d=>{let f=!1;n.current.forEachFeatureAtPixel(d.pixel,g=>{var _;const p=g.getGeometry().getCoordinates(),y=o.find(m=>{const x=Pd([m.longitude,m.latitude]);return x[0]===p[0]&&x[1]===p[1]});if(y){const m=i.current;m.innerHTML="";const x=document.createElement("div");x.classList.add("overlay_container");const v=document.createElement("div");v.classList.add("overlay_item"),v.innerHTML=`<p><strong>Category: </strong>${y.category}</p>`,x.appendChild(v);const w=document.createElement("div");w.classList.add("overlay_item"),w.innerHTML=`<p><strong>Street: </strong>${y.street||"Not available"}</p>`,x.appendChild(w);const S=document.createElement("div");S.classList.add("overlay_item"),S.innerHTML=`<p><strong>Month: </strong>${y.month||"Not available"}</p>`,x.appendChild(S);const C=document.createElement("div");C.classList.add("overlay_item"),C.innerHTML=`<p><strong>Context: </strong>${y.context||"Not available"}</p>`,x.appendChild(C);const E=document.createElement("div");E.classList.add("overlay_item"),E.innerHTML=`<p><strong>Outcome: </strong>${((_=y.outcome_status)==null?void 0:_.category)||"Not available"}</p>`,x.appendChild(E),m.appendChild(x),l(!0),f=!0}else i.current.innerHTML="<h1>No data available</h1>";return r(p),n.current.getOverlayById("featureOverlay").setPosition(p),!0}),f||l(!1)}),()=>{n.current&&(n.current.setTarget(null),n.current=null)}},[o]),(u=n.current)==null||u.getViewport().addEventListener("click",()=>{a||l(!1)}),U.jsxs(U.Fragment,{children:[U.jsx("div",{ref:t,className:"map_container",onClick:c,children:U.jsx(CP,{})}),U.jsx("div",{ref:i,style:{display:a?"block":"none",position:"absolute",zIndex:1e3}})]})},bP="/static/loading1-B2kkPI5Y.gif";function cS(e,t){return function(){return e.apply(t,arguments)}}const{toString:TP}=Object.prototype,{getPrototypeOf:Dm}=Object,Uh=(e=>t=>{const n=TP.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ii=e=>(e=e.toLowerCase(),t=>Uh(t)===e),Xh=e=>t=>typeof t===e,{isArray:Fo}=Array,gl=Xh("undefined");function RP(e){return e!==null&&!gl(e)&&e.constructor!==null&&!gl(e.constructor)&&mn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uS=ii("ArrayBuffer");function MP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uS(e.buffer),t}const kP=Xh("string"),mn=Xh("function"),hS=Xh("number"),$h=e=>e!==null&&typeof e=="object",IP=e=>e===!0||e===!1,Jc=e=>{if(Uh(e)!=="object")return!1;const t=Dm(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},PP=ii("Date"),OP=ii("File"),LP=ii("Blob"),DP=ii("FileList"),FP=e=>$h(e)&&mn(e.pipe),NP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||mn(e.append)&&((t=Uh(e))==="formdata"||t==="object"&&mn(e.toString)&&e.toString()==="[object FormData]"))},zP=ii("URLSearchParams"),jP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,s;if(typeof e!="object"&&(e=[e]),Fo(e))for(i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(i=0;i<o;i++)a=r[i],t.call(null,e[a],a,e)}}function dS(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,s;for(;i-- >0;)if(s=n[i],t===s.toLowerCase())return s;return null}const fS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gS=e=>!gl(e)&&e!==fS;function Pg(){const{caseless:e}=gS(this)&&this||{},t={},n=(i,s)=>{const r=e&&dS(t,s)||s;Jc(t[r])&&Jc(i)?t[r]=Pg(t[r],i):Jc(i)?t[r]=Pg({},i):Fo(i)?t[r]=i.slice():t[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&zl(arguments[i],n);return t}const WP=(e,t,n,{allOwnKeys:i}={})=>(zl(t,(s,r)=>{n&&mn(s)?e[r]=cS(s,n):e[r]=s},{allOwnKeys:i}),e),BP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),VP=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},YP=(e,t,n,i)=>{let s,r,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],(!i||i(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Dm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},HP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},GP=e=>{if(!e)return null;if(Fo(e))return e;let t=e.length;if(!hS(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},UP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dm(Uint8Array)),XP=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=i.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},$P=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},KP=ii("HTMLFormElement"),ZP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),Iy=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),qP=ii("RegExp"),pS=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};zl(n,(s,r)=>{let o;(o=t(s,r,e))!==!1&&(i[r]=o||s)}),Object.defineProperties(e,i)},JP=e=>{pS(e,(t,n)=>{if(mn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(mn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QP=(e,t)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Fo(e)?i(e):i(String(e).split(t)),n},tO=()=>{},eO=(e,t)=>(e=+e,Number.isFinite(e)?e:t),tf="abcdefghijklmnopqrstuvwxyz",Py="0123456789",mS={DIGIT:Py,ALPHA:tf,ALPHA_DIGIT:tf+tf.toUpperCase()+Py},nO=(e=16,t=mS.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function iO(e){return!!(e&&mn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const sO=e=>{const t=new Array(10),n=(i,s)=>{if($h(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[s]=i;const r=Fo(i)?[]:{};return zl(i,(o,a)=>{const l=n(o,s+1);!gl(l)&&(r[a]=l)}),t[s]=void 0,r}}return i};return n(e,0)},rO=ii("AsyncFunction"),oO=e=>e&&($h(e)||mn(e))&&mn(e.then)&&mn(e.catch),F={isArray:Fo,isArrayBuffer:uS,isBuffer:RP,isFormData:NP,isArrayBufferView:MP,isString:kP,isNumber:hS,isBoolean:IP,isObject:$h,isPlainObject:Jc,isUndefined:gl,isDate:PP,isFile:OP,isBlob:LP,isRegExp:qP,isFunction:mn,isStream:FP,isURLSearchParams:zP,isTypedArray:UP,isFileList:DP,forEach:zl,merge:Pg,extend:WP,trim:jP,stripBOM:BP,inherits:VP,toFlatObject:YP,kindOf:Uh,kindOfTest:ii,endsWith:HP,toArray:GP,forEachEntry:XP,matchAll:$P,isHTMLForm:KP,hasOwnProperty:Iy,hasOwnProp:Iy,reduceDescriptors:pS,freezeMethods:JP,toObjectSet:QP,toCamelCase:ZP,noop:tO,toFiniteNumber:eO,findKey:dS,global:fS,isContextDefined:gS,ALPHABET:mS,generateString:nO,isSpecCompliantForm:iO,toJSONObject:sO,isAsyncFn:rO,isThenable:oO};function ot(e,t,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}F.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _S=ot.prototype,yS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yS[e]={value:e}});Object.defineProperties(ot,yS);Object.defineProperty(_S,"isAxiosError",{value:!0});ot.from=(e,t,n,i,s,r)=>{const o=Object.create(_S);return F.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ot.call(o,e.message,t,n,i,s),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o};const aO=null;function Og(e){return F.isPlainObject(e)||F.isArray(e)}function xS(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function Oy(e,t,n){return e?e.concat(t).map(function(s,r){return s=xS(s),!n&&r?"["+s+"]":s}).join(n?".":""):t}function lO(e){return F.isArray(e)&&!e.some(Og)}const cO=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function Kh(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!F.isUndefined(y[p])});const i=n.metaTokens,s=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(F.isDate(g))return g.toISOString();if(!l&&F.isBlob(g))throw new ot("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(g)||F.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,y){let _=g;if(g&&!y&&typeof g=="object"){if(F.endsWith(p,"{}"))p=i?p:p.slice(0,-2),g=JSON.stringify(g);else if(F.isArray(g)&&lO(g)||(F.isFileList(g)||F.endsWith(p,"[]"))&&(_=F.toArray(g)))return p=xS(p),_.forEach(function(x,v){!(F.isUndefined(x)||x===null)&&t.append(o===!0?Oy([p],v,r):o===null?p:p+"[]",c(x))}),!1}return Og(g)?!0:(t.append(Oy(y,p,r),c(g)),!1)}const h=[],d=Object.assign(cO,{defaultVisitor:u,convertValue:c,isVisitable:Og});function f(g,p){if(!F.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(g),F.forEach(g,function(_,m){(!(F.isUndefined(_)||_===null)&&s.call(t,_,F.isString(m)?m.trim():m,p,d))===!0&&f(_,p?p.concat(m):[m])}),h.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Ly(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Fm(e,t){this._pairs=[],e&&Kh(e,this,t)}const vS=Fm.prototype;vS.append=function(t,n){this._pairs.push([t,n])};vS.toString=function(t){const n=t?function(i){return t.call(this,i,Ly)}:Ly;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function uO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wS(e,t,n){if(!t)return e;const i=n&&n.encode||uO,s=n&&n.serialize;let r;if(s?r=s(t,n):r=F.isURLSearchParams(t)?t.toString():new Fm(t,n).toString(i),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Dy{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(i){i!==null&&t(i)})}}const ES={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hO=typeof URLSearchParams<"u"?URLSearchParams:Fm,dO=typeof FormData<"u"?FormData:null,fO=typeof Blob<"u"?Blob:null,gO={isBrowser:!0,classes:{URLSearchParams:hO,FormData:dO,Blob:fO},protocols:["http","https","file","blob","url","data"]},SS=typeof window<"u"&&typeof document<"u",pO=(e=>SS&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),mO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_O=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:SS,hasStandardBrowserEnv:pO,hasStandardBrowserWebWorkerEnv:mO},Symbol.toStringTag,{value:"Module"})),qn={..._O,...gO};function yO(e,t){return Kh(e,new qn.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return qn.isNode&&F.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function xO(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vO(e){const t={},n=Object.keys(e);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],t[r]=e[r];return t}function CS(e){function t(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&F.isArray(s)?s.length:o,l?(F.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!F.isObject(s[o]))&&(s[o]=[]),t(n,i,s[o],r)&&F.isArray(s[o])&&(s[o]=vO(s[o])),!a)}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,(i,s)=>{t(xO(i),s,n,0)}),n}return null}function wO(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const jl={transitional:ES,adapter:["xhr","http"],transformRequest:[function(t,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=F.isObject(t);if(r&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return s?JSON.stringify(CS(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return yO(t,this.formSerializer).toString();if((a=F.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kh(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),wO(t)):t}],transformResponse:[function(t){const n=this.transitional||jl.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&F.isString(t)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?ot.from(a,ot.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{jl.headers[e]={}});const EO=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SO=e=>{const t={};let n,i,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||t[n]&&EO[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Fy=Symbol("internals");function Jo(e){return e&&String(e).trim().toLowerCase()}function Qc(e){return e===!1||e==null?e:F.isArray(e)?e.map(Qc):String(e)}function CO(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const AO=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ef(e,t,n,i,s){if(F.isFunction(i))return i.call(this,t,n);if(s&&(t=n),!!F.isString(t)){if(F.isString(i))return t.indexOf(i)!==-1;if(F.isRegExp(i))return i.test(t)}}function bO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function TO(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(s,r,o){return this[i].call(this,t,s,r,o)},configurable:!0})})}class _n{constructor(t){t&&this.set(t)}set(t,n,i){const s=this;function r(a,l,c){const u=Jo(l);if(!u)throw new Error("header name must be a non-empty string");const h=F.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Qc(a))}const o=(a,l)=>F.forEach(a,(c,u)=>r(c,u,l));return F.isPlainObject(t)||t instanceof this.constructor?o(t,n):F.isString(t)&&(t=t.trim())&&!AO(t)?o(SO(t),n):t!=null&&r(n,t,i),this}get(t,n){if(t=Jo(t),t){const i=F.findKey(this,t);if(i){const s=this[i];if(!n)return s;if(n===!0)return CO(s);if(F.isFunction(n))return n.call(this,s,i);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Jo(t),t){const i=F.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||ef(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let s=!1;function r(o){if(o=Jo(o),o){const a=F.findKey(i,o);a&&(!n||ef(i,i[a],a,n))&&(delete i[a],s=!0)}}return F.isArray(t)?t.forEach(r):r(t),s}clear(t){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!t||ef(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const n=this,i={};return F.forEach(this,(s,r)=>{const o=F.findKey(i,r);if(o){n[o]=Qc(s),delete n[r];return}const a=t?bO(r):String(r).trim();a!==r&&delete n[r],n[a]=Qc(s),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return F.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=t&&F.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[Fy]=this[Fy]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=Jo(o);i[a]||(TO(s,o),i[a]=!0)}return F.isArray(t)?t.forEach(r):r(t),this}}_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(_n.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});F.freezeMethods(_n);function nf(e,t){const n=this||jl,i=t||n,s=_n.from(i.headers);let r=i.data;return F.forEach(e,function(a){r=a.call(n,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function AS(e){return!!(e&&e.__CANCEL__)}function Wl(e,t,n){ot.call(this,e??"canceled",ot.ERR_CANCELED,t,n),this.name="CanceledError"}F.inherits(Wl,ot,{__CANCEL__:!0});function RO(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new ot("Request failed with status code "+n.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const MO=qn.hasStandardBrowserEnv?{write(e,t,n,i,s,r){const o=[e+"="+encodeURIComponent(t)];F.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),F.isString(i)&&o.push("path="+i),F.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kO(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function IO(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bS(e,t){return e&&!kO(t)?IO(e,t):t}const PO=qn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(r){let o=r;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(o){const a=F.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function OO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function LO(e,t){e=e||10;const n=new Array(e),i=new Array(e);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),n[s]=l,i[s]=c;let h=r,d=0;for(;h!==s;)d+=n[h++],h=h%e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),c-o<t)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function Ny(e,t){let n=0;const i=LO(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-n,l=i(a),c=r<=o;n=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:s};u[t?"download":"upload"]=!0,e(u)}}const DO=typeof XMLHttpRequest<"u",FO=DO&&function(e){return new Promise(function(n,i){let s=e.data;const r=_n.from(e.headers).normalize();let{responseType:o,withXSRFToken:a}=e,l;function c(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let u;if(F.isFormData(s)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((u=r.getContentType())!==!1){const[p,...y]=u?u.split(";").map(_=>_.trim()).filter(Boolean):[];r.setContentType([p||"multipart/form-data",...y].join("; "))}}let h=new XMLHttpRequest;if(e.auth){const p=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(p+":"+y))}const d=bS(e.baseURL,e.url);h.open(e.method.toUpperCase(),wS(d,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function f(){if(!h)return;const p=_n.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:p,config:e,request:h};RO(function(x){n(x),c()},function(x){i(x),c()},_),h=null}if("onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(f)},h.onabort=function(){h&&(i(new ot("Request aborted",ot.ECONNABORTED,e,h)),h=null)},h.onerror=function(){i(new ot("Network Error",ot.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let y=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const _=e.transitional||ES;e.timeoutErrorMessage&&(y=e.timeoutErrorMessage),i(new ot(y,_.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,e,h)),h=null},qn.hasStandardBrowserEnv&&(a&&F.isFunction(a)&&(a=a(e)),a||a!==!1&&PO(d))){const p=e.xsrfHeaderName&&e.xsrfCookieName&&MO.read(e.xsrfCookieName);p&&r.set(e.xsrfHeaderName,p)}s===void 0&&r.setContentType(null),"setRequestHeader"in h&&F.forEach(r.toJSON(),function(y,_){h.setRequestHeader(_,y)}),F.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),o&&o!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",Ny(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Ny(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=p=>{h&&(i(!p||p.type?new Wl(null,e,h):p),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const g=OO(d);if(g&&qn.protocols.indexOf(g)===-1){i(new ot("Unsupported protocol "+g+":",ot.ERR_BAD_REQUEST,e));return}h.send(s||null)})},Lg={http:aO,xhr:FO};F.forEach(Lg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zy=e=>`- ${e}`,NO=e=>F.isFunction(e)||e===null||e===!1,TS={getAdapter:e=>{e=F.isArray(e)?e:[e];const{length:t}=e;let n,i;const s={};for(let r=0;r<t;r++){n=e[r];let o;if(i=n,!NO(n)&&(i=Lg[(o=String(n)).toLowerCase()],i===void 0))throw new ot(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(zy).join(`
`):" "+zy(r[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Lg};function sf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wl(null,e)}function jy(e){return sf(e),e.headers=_n.from(e.headers),e.data=nf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),TS.getAdapter(e.adapter||jl.adapter)(e).then(function(i){return sf(e),i.data=nf.call(e,e.transformResponse,i),i.headers=_n.from(i.headers),i},function(i){return AS(i)||(sf(e),i&&i.response&&(i.response.data=nf.call(e,e.transformResponse,i.response),i.response.headers=_n.from(i.response.headers))),Promise.reject(i)})}const Wy=e=>e instanceof _n?{...e}:e;function So(e,t){t=t||{};const n={};function i(c,u,h){return F.isPlainObject(c)&&F.isPlainObject(u)?F.merge.call({caseless:h},c,u):F.isPlainObject(u)?F.merge({},u):F.isArray(u)?u.slice():u}function s(c,u,h){if(F.isUndefined(u)){if(!F.isUndefined(c))return i(void 0,c,h)}else return i(c,u,h)}function r(c,u){if(!F.isUndefined(u))return i(void 0,u)}function o(c,u){if(F.isUndefined(u)){if(!F.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,h){if(h in t)return i(c,u);if(h in e)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(Wy(c),Wy(u),!0)};return F.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=l[u]||s,d=h(e[u],t[u],u);F.isUndefined(d)&&h!==a||(n[u]=d)}),n}const RS="1.6.8",Nm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nm[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const By={};Nm.transitional=function(t,n,i){function s(r,o){return"[Axios v"+RS+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(t===!1)throw new ot(s(o," has been removed"+(n?" in "+n:"")),ot.ERR_DEPRECATED);return n&&!By[o]&&(By[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,o,a):!0}};function zO(e,t,n){if(typeof e!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let s=i.length;for(;s-- >0;){const r=i[s],o=t[r];if(o){const a=e[r],l=a===void 0||o(a,r,e);if(l!==!0)throw new ot("option "+r+" must be "+l,ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ot("Unknown option "+r,ot.ERR_BAD_OPTION)}}const Dg={assertOptions:zO,validators:Nm},$i=Dg.validators;class rr{constructor(t){this.defaults=t,this.interceptors={request:new Dy,response:new Dy}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=So(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&Dg.assertOptions(i,{silentJSONParsing:$i.transitional($i.boolean),forcedJSONParsing:$i.transitional($i.boolean),clarifyTimeoutError:$i.transitional($i.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:Dg.assertOptions(s,{encode:$i.function,serialize:$i.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&F.merge(r.common,r[n.method]);r&&F.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),n.headers=_n.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,h=0,d;if(!l){const g=[jy.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),d=g.length,u=Promise.resolve(n);h<d;)u=u.then(g[h++],g[h++]);return u}d=a.length;let f=n;for(h=0;h<d;){const g=a[h++],p=a[h++];try{f=g(f)}catch(y){p.call(this,y);break}}try{u=jy.call(this,f)}catch(g){return Promise.reject(g)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=So(this.defaults,t);const n=bS(t.baseURL,t.url);return wS(n,t.params,t.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(t){rr.prototype[t]=function(n,i){return this.request(So(i||{},{method:t,url:n,data:(i||{}).data}))}});F.forEach(["post","put","patch"],function(t){function n(i){return function(r,o,a){return this.request(So(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}rr.prototype[t]=n(),rr.prototype[t+"Form"]=n(!0)});class zm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},t(function(r,o,a){i.reason||(i.reason=new Wl(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new zm(function(s){t=s}),cancel:t}}}function jO(e){return function(n){return e.apply(null,n)}}function WO(e){return F.isObject(e)&&e.isAxiosError===!0}const Fg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fg).forEach(([e,t])=>{Fg[t]=e});function MS(e){const t=new rr(e),n=cS(rr.prototype.request,t);return F.extend(n,rr.prototype,t,{allOwnKeys:!0}),F.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return MS(So(e,s))},n}const Yt=MS(jl);Yt.Axios=rr;Yt.CanceledError=Wl;Yt.CancelToken=zm;Yt.isCancel=AS;Yt.VERSION=RS;Yt.toFormData=Kh;Yt.AxiosError=ot;Yt.Cancel=Yt.CanceledError;Yt.all=function(t){return Promise.all(t)};Yt.spread=jO;Yt.isAxiosError=WO;Yt.mergeConfig=So;Yt.AxiosHeaders=_n;Yt.formToJSON=e=>CS(F.isHTMLForm(e)?new FormData(e):e);Yt.getAdapter=TS.getAdapter;Yt.HttpStatusCode=Fg;Yt.default=Yt;const tu=aS("fetchCrimedata",async e=>{const t=e[0],n=e[1];return await(await Yt.get(`http://127.0.0.1:8000/crimewatch/reports/${t}&${n}`)).data||null}),BO=Gh({name:"crimedata",initialState:{data:"",status:"idle"},reducers:{},extraReducers:e=>{e.addCase(tu.pending,t=>{t.status="pending"}),e.addCase(tu.fulfilled,(t,n)=>{t.data=n.payload,t.status="fulfilled"}),e.addCase(tu.rejected,(t,n)=>{t.status="failed",t.error=n.payload})}}),VO=BO.reducer,eu=aS("fetchCrimeMonthlySummary",async e=>{const t=e[0],n=e[1];return await(await Yt.get(`http://127.0.0.1:8000/crimewatch/monthly-summary/${t}&${n}`)).data}),YO=Gh({name:"crimeMonthlySummary",initialState:{data:"",status:"idle"},reducers:{},extraReducers:e=>{e.addCase(eu.pending,t=>{t.status="loading"}),e.addCase(eu.fulfilled,(t,n)=>{t.data=n.payload,t.status="fulfilled"}),e.addCase(eu.rejected,(t,n)=>{t.status="rejected",t.error=n.payload})}}),HO=YO.reducer;function GO(e){let t;if(!e)return alert("Please enter valid latitude longitude coordinates"),!1;JSON.parse(sessionStorage.getItem("searchCoordinates"))?t=JSON.parse(sessionStorage.getItem("searchCoordinates")):t=JSON.parse(sessionStorage.getItem("startCoordinates"));const[n,i]=t,[s,r]=e,o=f=>f*Math.PI/180,a=3958.8,l=o(s-n),c=o(r-i),u=Math.sin(l/2)**2+Math.cos(o(n))*Math.cos(o(s))*Math.sin(c/2)**2,h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),d=a*h;return sessionStorage.setItem("searchCoordinates",JSON.stringify(e)),d<=1?"within":"outside"}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Bl(e){return e+.5|0}const os=(e,t,n)=>Math.max(Math.min(e,n),t);function da(e){return os(Bl(e*2.55),0,255)}function vs(e){return os(Bl(e*255),0,255)}function xi(e){return os(Bl(e/2.55)/100,0,1)}function Vy(e){return os(Bl(e*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ng=[..."0123456789ABCDEF"],UO=e=>Ng[e&15],XO=e=>Ng[(e&240)>>4]+Ng[e&15],Cc=e=>(e&240)>>4===(e&15),$O=e=>Cc(e.r)&&Cc(e.g)&&Cc(e.b)&&Cc(e.a);function KO(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ln[e[1]]*17,g:255&ln[e[2]]*17,b:255&ln[e[3]]*17,a:t===5?ln[e[4]]*17:255}:(t===7||t===9)&&(n={r:ln[e[1]]<<4|ln[e[2]],g:ln[e[3]]<<4|ln[e[4]],b:ln[e[5]]<<4|ln[e[6]],a:t===9?ln[e[7]]<<4|ln[e[8]]:255})),n}const ZO=(e,t)=>e<255?t(e):"";function qO(e){var t=$O(e)?UO:XO;return e?"#"+t(e.r)+t(e.g)+t(e.b)+ZO(e.a,t):void 0}const JO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kS(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function QO(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function tL(e,t,n){const i=kS(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function eL(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function jm(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=eL(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function Wm(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(vs)}function Bm(e,t,n){return Wm(kS,e,t,n)}function nL(e,t,n){return Wm(tL,e,t,n)}function iL(e,t,n){return Wm(QO,e,t,n)}function IS(e){return(e%360+360)%360}function sL(e){const t=JO.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?da(+t[5]):vs(+t[5]));const s=IS(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=nL(s,r,o):t[1]==="hsv"?i=iL(s,r,o):i=Bm(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function rL(e,t){var n=jm(e);n[0]=IS(n[0]+t),n=Bm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function oL(e){if(!e)return;const t=jm(e),n=t[0],i=Vy(t[1]),s=Vy(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${xi(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Yy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function aL(){const e={},t=Object.keys(Hy),n=Object.keys(Yy);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,Yy[r]);r=parseInt(Hy[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Ac;function lL(e){Ac||(Ac=aL(),Ac.transparent=[0,0,0,0]);const t=Ac[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const cL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uL(e){const t=cL.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?da(o):os(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?da(i):os(i,0,255)),s=255&(t[4]?da(s):os(s,0,255)),r=255&(t[6]?da(r):os(r,0,255)),{r:i,g:s,b:r,a:n}}}function hL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${xi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const rf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ir=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function dL(e,t,n){const i=Ir(xi(e.r)),s=Ir(xi(e.g)),r=Ir(xi(e.b));return{r:vs(rf(i+n*(Ir(xi(t.r))-i))),g:vs(rf(s+n*(Ir(xi(t.g))-s))),b:vs(rf(r+n*(Ir(xi(t.b))-r))),a:e.a+n*(t.a-e.a)}}function bc(e,t,n){if(e){let i=jm(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Bm(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function PS(e,t){return e&&Object.assign(t||{},e)}function Gy(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=vs(e[3]))):(t=PS(e,{r:0,g:0,b:0,a:1}),t.a=vs(t.a)),t}function fL(e){return e.charAt(0)==="r"?uL(e):sL(e)}class pl{constructor(t){if(t instanceof pl)return t;const n=typeof t;let i;n==="object"?i=Gy(t):n==="string"&&(i=KO(t)||lL(t)||fL(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=PS(this._rgb);return t&&(t.a=xi(t.a)),t}set rgb(t){this._rgb=Gy(t)}rgbString(){return this._valid?hL(this._rgb):void 0}hexString(){return this._valid?qO(this._rgb):void 0}hslString(){return this._valid?oL(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=dL(this._rgb,t._rgb,n)),this}clone(){return new pl(this.rgb)}alpha(t){return this._rgb.a=vs(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Bl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return bc(this._rgb,2,t),this}darken(t){return bc(this._rgb,2,-t),this}saturate(t){return bc(this._rgb,1,t),this}desaturate(t){return bc(this._rgb,1,-t),this}rotate(t){return rL(this._rgb,t),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function ui(){}const gL=(()=>{let e=0;return()=>e++})();function dt(e){return e===null||typeof e>"u"}function kt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function st(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function jt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ye(e,t){return jt(e)?e:t}function Q(e,t){return typeof e>"u"?t:e}const pL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,OS=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function vt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function _t(e,t,n,i){let s,r,o;if(kt(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(st(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function Ju(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Qu(e){if(kt(e))return e.map(Qu);if(st(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Qu(e[n[s]]);return t}return e}function LS(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function mL(e,t,n,i){if(!LS(e))return;const s=t[e],r=n[e];st(s)&&st(r)?ml(s,r,i):t[e]=Qu(r)}function ml(e,t,n){const i=kt(t)?t:[t],s=i.length;if(!st(e))return e;n=n||{};const r=n.merger||mL;let o;for(let a=0;a<s;++a){if(o=i[a],!st(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function ka(e,t){return ml(e,t,{merger:_L})}function _L(e,t,n){if(!LS(e))return;const i=t[e],s=n[e];st(i)&&st(s)?ka(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Qu(s))}const Uy={"":e=>e,x:e=>e.x,y:e=>e.y};function yL(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function xL(e){const t=yL(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Ts(e,t){return(Uy[t]||(Uy[t]=xL(t)))(e)}function Vm(e){return e.charAt(0).toUpperCase()+e.slice(1)}const _l=e=>typeof e<"u",Rs=e=>typeof e=="function",Xy=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function vL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Tt=Math.PI,bt=2*Tt,wL=bt+Tt,th=Number.POSITIVE_INFINITY,EL=Tt/180,Vt=Tt/2,Ns=Tt/4,$y=Tt*2/3,as=Math.log10,ei=Math.sign;function Ia(e,t,n){return Math.abs(e-t)<n}function Ky(e){const t=Math.round(e);e=Ia(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(as(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function SL(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function Co(e){return!isNaN(parseFloat(e))&&isFinite(e)}function CL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function DS(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function kn(e){return e*(Tt/180)}function Ym(e){return e*(180/Tt)}function Zy(e){if(!jt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function FS(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Tt&&(r+=bt),{angle:r,distance:s}}function zg(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function AL(e,t){return(e-t+wL)%bt-Tt}function Ge(e){return(e%bt+bt)%bt}function yl(e,t,n,i){const s=Ge(e),r=Ge(t),o=Ge(n),a=Ge(r-s),l=Ge(o-s),c=Ge(s-r),u=Ge(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function te(e,t,n){return Math.max(t,Math.min(n,e))}function bL(e){return te(e,-32768,32767)}function Ei(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Hm(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Si=(e,t,n,i)=>Hm(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),TL=(e,t,n)=>Hm(e,n,i=>e[i][t]>=n);function RL(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const NS=["push","pop","shift","splice","unshift"];function ML(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),NS.forEach(n=>{const i="_onData"+Vm(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function qy(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(NS.forEach(r=>{delete e[r]}),delete e._chartjs)}function zS(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const jS=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function WS(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,jS.call(window,()=>{i=!1,e.apply(t,n)}))}}function kL(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Gm=e=>e==="start"?"left":e==="end"?"right":"center",pe=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,IL=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function BS(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(s=te(Math.min(Si(a,l,c).lo,n?i:Si(t,l,o.getPixelForValue(c)).lo),0,i-1)),d?r=te(Math.max(Si(a,o.axis,u,!0).hi+1,n?0:Si(t,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function VS(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Tc=e=>e===0||e===1,Jy=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*bt/n)),Qy=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*bt/n)+1,Pa={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Vt)+1,easeOutSine:e=>Math.sin(e*Vt),easeInOutSine:e=>-.5*(Math.cos(Tt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Tc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Tc(e)?e:Jy(e,.075,.3),easeOutElastic:e=>Tc(e)?e:Qy(e,.075,.3),easeInOutElastic(e){return Tc(e)?e:e<.5?.5*Jy(e*2,.1125,.45):.5+.5*Qy(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Pa.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Pa.easeInBounce(e*2)*.5:Pa.easeOutBounce(e*2-1)*.5+.5};function Um(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function tx(e){return Um(e)?e:new pl(e)}function of(e){return Um(e)?e:new pl(e).saturate(.5).darken(.1).hexString()}const PL=["x","y","borderWidth","radius","tension"],OL=["color","borderColor","backgroundColor"];function LL(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:OL},numbers:{type:"number",properties:PL}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function DL(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ex=new Map;function FL(e,t){t=t||{};const n=e+JSON.stringify(t);let i=ex.get(n);return i||(i=new Intl.NumberFormat(e,t),ex.set(n,i)),i}function Vl(e,t,n){return FL(t,n).format(e)}const YS={values(e){return kt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=NL(e,n)}const o=as(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Vl(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(as(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?YS.numeric.call(this,e,t,n):""}};function NL(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Zh={formatters:YS};function zL(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const pr=Object.create(null),jg=Object.create(null);function Oa(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function af(e,t,n){return typeof t=="string"?ml(Oa(e,t),n):ml(Oa(e,""),t)}class jL{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>of(s.backgroundColor),this.hoverBorderColor=(i,s)=>of(s.borderColor),this.hoverColor=(i,s)=>of(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return af(this,t,n)}get(t){return Oa(this,t)}describe(t,n){return af(jg,t,n)}override(t,n){return af(pr,t,n)}route(t,n,i,s){const r=Oa(this,t),o=Oa(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return st(l)?Object.assign({},c,l):Q(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Wt=new jL({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LL,DL,zL]);function WL(e){return!e||dt(e.size)||dt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function eh(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function BL(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!kt(h))o=eh(e,s,r,o,h);else if(kt(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!kt(d)&&(o=eh(e,s,r,o,d));e.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function zs(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function nx(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Wg(e,t,n,i){HS(e,t,n,i,null)}function HS(e,t,n,i,s){let r,o,a,l,c,u,h,d;const f=t.pointStyle,g=t.rotation,p=t.radius;let y=(g||0)*EL;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(y),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:s?e.ellipse(n,i,s/2,p,0,0,bt):e.arc(n,i,p,0,bt),e.closePath();break;case"triangle":u=s?s/2:p,e.moveTo(n+Math.sin(y)*u,i-Math.cos(y)*p),y+=$y,e.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*p),y+=$y,e.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*p),e.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(y+Ns)*l,h=Math.cos(y+Ns)*(s?s/2-c:l),a=Math.sin(y+Ns)*l,d=Math.sin(y+Ns)*(s?s/2-c:l),e.arc(n-h,i-a,c,y-Tt,y-Vt),e.arc(n+d,i-o,c,y-Vt,y),e.arc(n+h,i+a,c,y,y+Vt),e.arc(n-d,i+o,c,y+Vt,y+Tt),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}y+=Ns;case"rectRot":h=Math.cos(y)*(s?s/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,d=Math.sin(y)*(s?s/2:p),e.moveTo(n-h,i-a),e.lineTo(n+d,i-o),e.lineTo(n+h,i+a),e.lineTo(n-d,i+o),e.closePath();break;case"crossRot":y+=Ns;case"cross":h=Math.cos(y)*(s?s/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,d=Math.sin(y)*(s?s/2:p),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"star":h=Math.cos(y)*(s?s/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,d=Math.sin(y)*(s?s/2:p),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o),y+=Ns,h=Math.cos(y)*(s?s/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,d=Math.sin(y)*(s?s/2:p),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(y)*p,a=Math.sin(y)*p,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(y)*(s?s/2:p),i+Math.sin(y)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ci(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function qh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Jh(e){e.restore()}function VL(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function YL(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function HL(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),dt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function GL(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function UL(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function mr(e,t,n,i,s,r={}){const o=kt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,HL(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&UL(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),dt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),GL(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function xl(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Tt,Tt,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Tt,Vt,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Vt,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Vt,!0),e.lineTo(n+o.topLeft,i)}const XL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$L=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function KL(e,t){const n=(""+e).match(XL);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const ZL=e=>+e||0;function Xm(e,t){const n={},i=st(t),s=i?Object.keys(t):t,r=st(e)?i?o=>Q(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=ZL(r(o));return n}function GS(e){return Xm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function or(e){return Xm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ee(e){const t=GS(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Kt(e,t){e=e||{},t=t||Wt.font;let n=Q(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Q(e.style,t.style);i&&!(""+i).match($L)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Q(e.family,t.family),lineHeight:KL(Q(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Q(e.weight,t.weight),string:""};return s.string=WL(s),s}function fa(e,t,n,i){let s,r,o;for(s=0,r=e.length;s<r;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function qL(e,t,n){const{min:i,max:s}=e,r=OS(t,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Os(e,t){return Object.assign(Object.create(e),t)}function $m(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=KS("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>$m([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return XS(a,l,()=>rD(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return sx(a).includes(l)},ownKeys(a){return sx(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Ao(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:US(e,i),setContext:r=>Ao(e,r,n,i),override:r=>Ao(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return XS(r,o,()=>QL(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function US(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Rs(n)?n:()=>n,isIndexable:Rs(i)?i:()=>i}}const JL=(e,t)=>e?e+Vm(t):t,Km=(e,t)=>st(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function XS(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function QL(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return Rs(a)&&o.isScriptable(t)&&(a=tD(t,a,e,n)),kt(a)&&a.length&&(a=eD(t,a,e,o.isIndexable)),Km(t,a)&&(a=Ao(a,s,r&&r[t],o)),a}function tD(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);return a.delete(e),Km(e,l)&&(l=Zm(s._scopes,s,e,l)),l}function eD(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(st(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Zm(c,s,e,u);t.push(Ao(h,r,o&&o[e],a))}}return t}function $S(e,t,n){return Rs(e)?e(t,n):e}const nD=(e,t)=>e===!0?t:typeof e=="string"?Ts(t,e):void 0;function iD(e,t,n,i,s){for(const r of t){const o=nD(n,r);if(o){e.add(o);const a=$S(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Zm(e,t,n,i){const s=t._rootScopes,r=$S(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=ix(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=ix(a,o,r,l,i),l===null)?!1:$m(Array.from(a),[""],s,r,()=>sD(t,n,i))}function ix(e,t,n,i,s){for(;n;)n=iD(e,t,n,i,s);return n}function sD(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return kt(s)&&st(n)?n:s||{}}function rD(e,t,n,i){let s;for(const r of t)if(s=KS(JL(r,e),n),typeof s<"u")return Km(e,s)?Zm(n,i,e,s):s}function KS(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function sx(e){let t=e._keys;return t||(t=e._keys=oD(e._scopes)),t}function oD(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function ZS(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:s.parse(Ts(u,r),c)};return o}const aD=Number.EPSILON||1e-14,bo=(e,t)=>t<e.length&&!e[t].skip&&e[t],qS=e=>e==="x"?"y":"x";function lD(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=zg(r,s),l=zg(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function cD(e,t,n){const i=e.length;let s,r,o,a,l,c=bo(e,0);for(let u=0;u<i-1;++u)if(l=c,c=bo(e,u+1),!(!l||!c)){if(Ia(t[u],0,aD)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])}}function uD(e,t,n="x"){const i=qS(n),s=e.length;let r,o,a,l=bo(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=bo(e,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*t[c])}}function hD(e,t="x"){const n=qS(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=bo(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=bo(e,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?ei(s[o-1])!==ei(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}cD(e,s,r),uD(e,r,t)}function Rc(e,t,n){return Math.max(Math.min(e,n),t)}function dD(e,t){let n,i,s,r,o,a=Ci(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&Ci(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=Rc(s.cp1x,t.left,t.right),s.cp1y=Rc(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Rc(s.cp2x,t.left,t.right),s.cp2y=Rc(s.cp2y,t.top,t.bottom)))}function fD(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")hD(e,s);else{let c=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=lD(c,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&dD(e,n)}function qm(){return typeof window<"u"&&typeof document<"u"}function Jm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function nh(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Qh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function gD(e,t){return Qh(e).getPropertyValue(t)}const pD=["top","right","bottom","left"];function ar(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=pD[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const mD=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function _D(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(mD(s,r,e.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Gs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Qh(n),r=s.boxSizing==="border-box",o=ar(s,"padding"),a=ar(s,"border","width"),{x:l,y:c,box:u}=_D(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=t;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/g*n.height/i)}}function yD(e,t,n){let i,s;if(t===void 0||n===void 0){const r=Jm(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Qh(r),l=ar(a,"border","width"),c=ar(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=nh(a.maxWidth,r,"clientWidth"),s=nh(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||th,maxHeight:s||th}}const Mc=e=>Math.round(e*10)/10;function xD(e,t,n,i){const s=Qh(e),r=ar(s,"margin"),o=nh(s.maxWidth,e,"clientWidth")||th,a=nh(s.maxHeight,e,"clientHeight")||th,l=yD(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const d=ar(s,"border","width"),f=ar(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Mc(Math.min(c,o,l.maxWidth)),u=Mc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Mc(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Mc(Math.floor(u*i))),{width:c,height:u}}function rx(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const vD=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};qm()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ox(e,t){const n=gD(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Us(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function wD(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function ED(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Us(e,s,n),a=Us(s,r,n),l=Us(r,t,n),c=Us(o,a,n),u=Us(a,l,n);return Us(c,u,n)}const SD=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},CD=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ao(e,t,n){return e?SD(t,n):CD()}function JS(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function QS(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function tC(e){return e==="angle"?{between:yl,compare:AL,normalize:Ge}:{between:Ei,compare:(t,n)=>t-n,normalize:t=>t}}function ax({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function AD(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=tC(i),l=t.length;let{start:c,end:u,loop:h}=e,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(t[c%l][i]),s,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function eC(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=tC(i),{start:u,end:h,loop:d,style:f}=AD(e,t,n),g=[];let p=!1,y=null,_,m,x;const v=()=>l(s,x,_)&&a(s,x)!==0,w=()=>a(r,_)===0||l(r,x,_),S=()=>p||v(),C=()=>!p||w();for(let E=u,b=u;E<=h;++E)m=t[E%o],!m.skip&&(_=c(m[i]),_!==x&&(p=l(_,s,r),y===null&&S()&&(y=a(_,s)===0?E:b),y!==null&&C()&&(g.push(ax({start:y,end:E,loop:d,count:o,style:f})),y=null),b=E,x=_));return y!==null&&g.push(ax({start:y,end:h,loop:d,count:o,style:f})),g}function nC(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=eC(i[s],e.points,t);r.length&&n.push(...r)}return n}function bD(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function TD(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function RD(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=bD(n,s,r,i);if(i===!0)return lx(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+s:a,c=!!e._fullLoop&&o===0&&a===s-1;return lx(e,TD(n,o,l,c),n,t)}function lx(e,t,n,i){return!i||!i.setContext||!n?t:MD(e,t,n,i)}function MD(e,t,n,i){const s=e._chart.getContext(),r=cx(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,d=h;function f(g,p,y,_){const m=a?-1:1;if(g!==p){for(g+=l;n[g%l].skip;)g-=m;for(;n[p%l].skip;)p+=m;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:y,style:_}),u=_,h=p%l)}}for(const g of t){h=a?h:g.start;let p=n[h%l],y;for(d=h+1;d<=g.end;d++){const _=n[d%l];y=cx(i.setContext(Os(s,{type:"segment",p0:p,p1:_,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),kD(y,u)&&f(h,d-1,g.loop,u),p=_,u=y}h<d-1&&f(h,d-1,g.loop,u)}return c}function cx(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function kD(e,t){if(!t)return!1;const n=[],i=function(s,r){return Um(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class ID{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=jS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var fi=new ID;const ux="transparent",PD={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=tx(e||ux),s=i.valid&&tx(t||ux);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class OD{constructor(t,n,i,s){const r=n[i];s=fa([t.to,s,r,t.from]);const o=fa([t.from,r,s]);this._active=!0,this._fn=t.fn||PD[t.type||typeof o],this._easing=Pa[t.easing]||Pa.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=fa([t.to,n,s,t.from]),this._from=fa([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class iC{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!st(t))return;const n=Object.keys(Wt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!st(r))return;const o={};for(const a of n)o[a]=r[a];(kt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=DD(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&LD(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=h=new OD(d,t,c,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return fi.add(this._chart,i),!0}}function LD(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function DD(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function hx(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function FD(e,t,n){if(n===!1)return!1;const i=hx(e,n),s=hx(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function ND(e){let t,n,i,s;return st(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function sC(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function dx(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=e.values[l],jt(c)&&(r||t===0||ei(t)===ei(c))&&(t+=c)}return t}}function zD(e){const t=Object.keys(e),n=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],n[i]={x:r,y:e[r]};return n}function fx(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function jD(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function WD(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function BD(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function gx(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function px(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=jD(r,o,i),h=t.length;let d;for(let f=0;f<h;++f){const g=t[f],{[l]:p,[c]:y}=g,_=g._stacks||(g._stacks={});d=_[c]=BD(s,u,p),d[a]=y,d._top=gx(d,o,!0,i.type),d._bottom=gx(d,o,!1,i.type);const m=d._visualValues||(d._visualValues={});m[a]=y}}function lf(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function VD(e,t){return Os(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function YD(e,t,n){return Os(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Qo(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const cf=e=>e==="reset"||e==="none",mx=(e,t)=>t?e:Object.assign({},e),HD=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:sC(n,!0),values:null};class Ln{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=fx(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,r=n.xAxisID=Q(i.xAxisID,lf(t,"x")),o=n.yAxisID=Q(i.yAxisID,lf(t,"y")),a=n.rAxisID=Q(i.rAxisID,lf(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&qy(this._data,this),t._stacked&&Qo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(st(n))this._data=zD(n);else if(i!==n){if(i){qy(i,this);const s=this._cachedMeta;Qo(s),s._parsed=[]}n&&Object.isExtensible(n)&&ML(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=fx(n.vScale,n),n.stack!==i.stack&&(s=!0,Qo(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&px(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{kt(s[t])?d=this.parseArrayData(i,s,t,n):st(s[t])?d=this.parseObjectData(i,s,t,n):d=this.parsePrimitiveData(i,s,t,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&px(this,d)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,g;for(d=0,f=s;d<f;++d)g=d+i,h[d]={[a]:u||r.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(Ts(f,a),d),y:o.parse(Ts(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:sC(s,!0),values:n._stacks[t.axis]._visualValues};return dx(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=dx(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=HD(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=WD(a);let d,f;function g(){f=s[d];const p=f[a.axis];return!jt(f[t.axis])||u>p||h<p}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],jt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=ND(Q(this.options.clip,FD(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=YD(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=VD(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&_l(i);if(a)return mx(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Wt.elements[t]),g=()=>this.getContext(i,s,n),p=c.resolveNamedOptions(d,f,g,h);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(mx(p,l))),p}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,i,n))}const c=new iC(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||cf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){cf(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!cf(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Qo(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(Ln,"defaults",{}),B(Ln,"datasetElementType",null),B(Ln,"dataElementType",null);function GD(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=zS(i.sort((s,r)=>s-r))}return e._cache.$bar}function UD(e){const t=e.iScale,n=GD(t,e.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(_l(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function XD(e,t,n,i){const s=n.barThickness;let r,o;return dt(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function $D(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function KD(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function rC(e,t,n,i){return kt(e)?KD(e,t,n,i):t[n.axis]=n.parse(e,i),t}function _x(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(rC(d,h,r,c));return l}function uf(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function ZD(e,t,n){return e!==0?ei(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function qD(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function JD(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=qD(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[yx(u,o,a,l)]=!0,s=c)),r[yx(s,o,a,l)]=!0,e.borderSkipped=r}function yx(e,t,n,i){return i?(e=QD(e,t,n),e=xx(e,n,t)):e=xx(e,t,n),e}function QD(e,t,n){return e===t?n:e===n?t:e}function xx(e,t,n){return e==="start"?t:e==="end"?n:e}function tF(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class nu extends Ln{parsePrimitiveData(t,n,i,s){return _x(t,n,i,s)}parseArrayData(t,n,i,s){return _x(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,g,p;for(d=i,f=i+s;d<f;++d)p=n[d],g={},g[r.axis]=r.parse(Ts(p,c),d),h.push(rC(Ts(p,u),g,o,d));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=uf(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const g=this.getParsed(f),p=r||dt(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),y=this._calculateBarIndexPixels(f,u),_=(g._stacks||{})[a.axis],m={horizontal:c,base:p.base,enableBorderRadius:!_||uf(g._custom)||o===_._top||o===_._bottom,x:c?p.head:y.center,y:c?y.center:p.head,height:c?y.size:Math.abs(p.size),width:c?Math.abs(p.size):y.size};d&&(m.options=h||this.resolveDataElementOptions(f,t[f].active?"active":s));const x=m.options||t[f].options;JD(m,x,_,o),tF(m,x,u.ratio),this.updateElement(t[f],f,m,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(dt(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||UD(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=uf(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,g,p;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&ei(h)!==ei(c.barEnd)&&(d=0),d+=h);const y=!dt(r)&&!u?r:d;let _=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(d+f):g=_,p=g-_,Math.abs(p)<o){p=ZD(p,n,a)*o,h===a&&(_-=p/2);const m=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),v=Math.min(m,x),w=Math.max(m,x);_=Math.max(Math.min(_,w),v),g=_+p,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(g)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const m=ei(p)*n.getLineWidthForValue(a)/2;_+=m,p-=m}return{size:p,base:_,head:g,center:g+p/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=Q(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,u=s.barThickness==="flex"?$D(t,n,s,c):XD(t,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}B(nu,"id","bar"),B(nu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(nu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class iu extends Ln{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=Q(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=Q(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=t[d],g=!r&&this.getParsed(d),p={},y=p[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),_=p[h]=r?a.getBasePixel():a.getPixelForValue(g[h]);p.skip=isNaN(y)||isNaN(_),c&&(p.options=l||this.resolveDataElementOptions(d,f.active?"active":s),r&&(p.options.radius=0)),this.updateElement(f,d,p,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Q(i&&i._custom,r),s}}B(iu,"id","bubble"),B(iu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),B(iu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function eF(e,t,n){let i=1,s=1,r=0,o=0;if(t<bt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(x,v,w)=>yl(x,a,l,!0)?1:Math.max(v,v*n,w,w*n),g=(x,v,w)=>yl(x,a,l,!0)?-1:Math.min(v,v*n,w,w*n),p=f(0,c,h),y=f(Vt,u,d),_=g(Tt,c,h),m=g(Tt+Vt,u,d);i=(p-_)/2,s=(y-m)/2,r=-(p+_)/2,o=-(y+m)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class er extends Ln{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(st(i[t])){const{key:l="value"}=this._parsing;r=c=>+Ts(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return kn(this.options.rotation-90)}_getCircumference(){return kn(this.options.circumference)}_getRotationExtents(){let t=bt,n=-bt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(pL(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:p}=eF(h,u,l),y=(i.width-o)/d,_=(i.height-o)/f,m=Math.max(Math.min(y,_)/2,0),x=OS(this.options.radius,m),v=Math.max(x*l,0),w=(x-v)/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=p*x,s.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/bt)}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s);let _=this._getRotation(),m;for(m=0;m<n;++m)_+=this._circumference(m,r);for(m=n;m<n+i;++m){const x=this._circumference(m,r),v=t[m],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+x,circumference:x,outerRadius:g,innerRadius:f};y&&(w.options=p||this.resolveDataElementOptions(m,v.active?"active":s)),_+=x,this.updateElement(v,m,w,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?bt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Vl(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,o,a,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Q(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(er,"id","doughnut"),B(er,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(er,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),B(er,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class La extends Ln{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=BS(n,s,o);this._drawStart=a,this._drawCount=l,VS(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,y=Co(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none",m=n+i,x=t.length;let v=n>0&&this.getParsed(n-1);for(let w=0;w<x;++w){const S=t[w],C=_?S:{};if(w<n||w>=m){C.skip=!0;continue}const E=this.getParsed(w),b=dt(E[f]),R=C[d]=o.getPixelForValue(E[d],w),k=C[f]=r||b?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[f],w);C.skip=isNaN(R)||isNaN(k)||b,C.stop=w>0&&Math.abs(E[d]-v[d])>y,p&&(C.parsed=E,C.raw=c.data[w]),h&&(C.options=u||this.resolveDataElementOptions(w,S.active?"active":s)),_||this.updateElement(S,w,C,s),v=E}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}B(La,"id","line"),B(La,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),B(La,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Da extends Ln{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Vl(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return ZS.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Tt;let f=d,g;const p=360/this.countVisibleElements();for(g=0;g<n;++g)f+=this._computeAngle(g,s,p);for(g=n;g<n+i;g++){const y=t[g];let _=f,m=f+this._computeAngle(g,s,p),x=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=m,r&&(l.animateScale&&(x=0),l.animateRotate&&(_=m=d));const v={x:u,y:h,innerRadius:0,outerRadius:x,startAngle:_,endAngle:m,options:this.resolveDataElementOptions(g,y.active?"active":s)};this.updateElement(y,g,v,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?kn(this.resolveDataElementOptions(t,n).angle||i):0}}B(Da,"id","polarArea"),B(Da,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),B(Da,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Bg extends er{}B(Bg,"id","pie"),B(Bg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class su extends Ln{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return ZS.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,s)}}}B(su,"id","radar"),B(su,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),B(su,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ru extends Ln{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=BS(n,i,s);if(this._drawStart=r,this._drawCount=o,VS(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),d=this.includeOptions(s,h),f=o.axis,g=a.axis,{spanGaps:p,segment:y}=this.options,_=Co(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||s==="none";let x=n>0&&this.getParsed(n-1);for(let v=n;v<n+i;++v){const w=t[v],S=this.getParsed(v),C=m?w:{},E=dt(S[g]),b=C[f]=o.getPixelForValue(S[f],v),R=C[g]=r||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[g],v);C.skip=isNaN(b)||isNaN(R)||E,C.stop=v>0&&Math.abs(S[f]-x[f])>_,y&&(C.parsed=S,C.raw=c.data[v]),d&&(C.options=h||this.resolveDataElementOptions(v,w.active?"active":s)),m||this.updateElement(w,v,C,s),x=S}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}B(ru,"id","scatter"),B(ru,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),B(ru,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var nF=Object.freeze({__proto__:null,BarController:nu,BubbleController:iu,DoughnutController:er,LineController:La,PieController:Bg,PolarAreaController:Da,RadarController:su,ScatterController:ru});function js(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qm{constructor(t){B(this,"options");this.options=t||{}}static override(t){Object.assign(Qm.prototype,t)}init(){}formats(){return js()}parse(){return js()}format(){return js()}add(){return js()}diff(){return js()}startOf(){return js()}endOf(){return js()}}var oC={_date:Qm};function iF(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?TL:Si;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(r,t,n-u),d=l(r,t,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(r,t,n)}return{lo:0,hi:r.length-1}}function Yl(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=iF(r[a],t,o,s);for(let f=h;f<=d;++f){const g=u[f];g.skip||i(g,c,f)}}}function sF(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function hf(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Yl(e,n,t,function(a,l,c){!s&&!Ci(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function rF(e,t,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=FS(o,{x:t.x,y:t.y});yl(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Yl(e,n,t,r),s}function oF(e,t,n,i,s,r){let o=[];const a=sF(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,s);if(i&&!f)return;const g=u.getCenterPoint(s);if(!(!!r||e.isPointInArea(g))&&!f)return;const y=a(t,g);y<l?(o=[{element:u,datasetIndex:h,index:d}],l=y):y===l&&o.push({element:u,datasetIndex:h,index:d})}return Yl(e,n,t,c),o}function df(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?rF(e,t,n,s):oF(e,t,n,i,s,r)}function vx(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Yl(e,n,t,(l,c,u)=>{l[o](t[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var aF={evaluateInteractionItems:Yl,modes:{index(e,t,n,i){const s=Gs(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?hf(e,s,r,i,o):df(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=Gs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?hf(e,s,r,i,o):df(e,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=Gs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return hf(e,s,r,i,o)},nearest(e,t,n,i){const s=Gs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return df(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=Gs(t,e);return vx(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Gs(t,e);return vx(e,s,"y",n.intersect,i)}}};const aC=["left","top","right","bottom"];function ta(e,t){return e.filter(n=>n.pos===t)}function wx(e,t){return e.filter(n=>aC.indexOf(n.pos)===-1&&n.box.axis===t)}function ea(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function lF(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function cF(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!aC.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function uF(e,t){const n=cF(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function hF(e){const t=lF(e),n=ea(t.filter(c=>c.box.fullSize),!0),i=ea(ta(t,"left"),!0),s=ea(ta(t,"right")),r=ea(ta(t,"top"),!0),o=ea(ta(t,"bottom")),a=wx(t,"x"),l=wx(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:ta(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Ex(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function lC(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function dF(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!st(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[s]+=n.size}r.getPadding&&lC(o,r.getPadding());const a=Math.max(0,t.outerWidth-Ex(o,e,"left","right")),l=Math.max(0,t.outerHeight-Ex(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function fF(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function gF(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function ga(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,gF(a.horizontal,t));const{same:h,other:d}=dF(t,n,a,i);c|=h&&s.length,u=u||d,l.fullSize||s.push(a)}return c&&ga(s,t,n,i)||u}function kc(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function Sx(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;_l(c.start)&&(o=c.start),l.fullSize?kc(l,s.left,o,n.outerWidth-s.right-s.left,d):kc(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;_l(c.start)&&(r=c.start),l.fullSize?kc(l,r,s.top,d,n.outerHeight-s.bottom-s.top):kc(l,r,t.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var xe={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Ee(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=hF(e.boxes),l=a.vertical,c=a.horizontal;_t(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,y)=>y.box.options&&y.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);lC(d,Ee(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),g=uF(l.concat(c),h);ga(a.fullSize,f,h,g),ga(l,f,h,g),ga(c,f,h,g)&&ga(l,f,h,g),fF(f),Sx(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Sx(a.rightAndBottom,f,h,g),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},_t(a.chartArea,p=>{const y=p.box;Object.assign(y,e.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class cC{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class pF extends cC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ou="$chartjs",mF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cx=e=>e===null||e==="";function _F(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[ou]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Cx(s)){const r=ox(e,"width");r!==void 0&&(e.width=r)}if(Cx(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=ox(e,"height");r!==void 0&&(e.height=r)}return e}const uC=vD?{passive:!0}:!1;function yF(e,t,n){e&&e.addEventListener(t,n,uC)}function xF(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,uC)}function vF(e,t){const n=mF[e.type]||e.type,{x:i,y:s}=Gs(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function ih(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function wF(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ih(a.addedNodes,i),o=o&&!ih(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function EF(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ih(a.removedNodes,i),o=o&&!ih(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const vl=new Map;let Ax=0;function hC(){const e=window.devicePixelRatio;e!==Ax&&(Ax=e,vl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function SF(e,t){vl.size||window.addEventListener("resize",hC),vl.set(e,t)}function CF(e){vl.delete(e),vl.size||window.removeEventListener("resize",hC)}function AF(e,t,n){const i=e.canvas,s=i&&Jm(i);if(!s)return;const r=WS((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),SF(e,r),o}function ff(e,t,n){n&&n.disconnect(),t==="resize"&&CF(e)}function bF(e,t,n){const i=e.canvas,s=WS(r=>{e.ctx!==null&&n(vF(r,e))},e);return yF(i,t,s),s}class TF extends cC{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(_F(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[ou])return!1;const i=n[ou].initial;["height","width"].forEach(r=>{const o=i[r];dt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[ou],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:wF,detach:EF,resize:AF}[n]||bF;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:ff,detach:ff,resize:ff}[n]||xF)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return xD(t,n,i,s)}isAttached(t){const n=Jm(t);return!!(n&&n.isConnected)}}function RF(e){return!qm()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?pF:TF}class Nn{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Co(this.x)&&Co(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}B(Nn,"defaults",{}),B(Nn,"defaultRoutes");function MF(e,t){const n=e.options.ticks,i=kF(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?PF(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return OF(t,c,r,o/s),c;const u=IF(r,t,s);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Ic(t,c,u,dt(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Ic(t,c,u,r[h],r[h+1]);return Ic(t,c,u,l,dt(f)?t.length:l+f),c}return Ic(t,c,u),c}function kF(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function IF(e,t,n){const i=LF(e),s=t.length/n;if(!i)return Math.max(s,1);const r=SL(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function PF(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function OF(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function Ic(e,t,n,i,s){const r=Q(i,0),o=Math.min(Q(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function LF(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const DF=e=>e==="left"?"right":e==="right"?"left":e,bx=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Tx=(e,t)=>Math.min(t||e,e);function Rx(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function FF(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function NF(e,t){_t(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function na(e){return e.drawTicks?e.tickLength:0}function Mx(e,t){if(!e.display)return 0;const n=Kt(e.font,t),i=Ee(e.padding);return(kt(e.text)?e.text.length:1)*n.lineHeight+i.height}function zF(e,t){return Os(e,{scale:t,type:"scale"})}function jF(e,t,n){return Os(e,{tick:n,index:t,type:"tick"})}function WF(e,t,n){let i=Gm(e);return(n&&t!=="right"||!n&&t==="right")&&(i=DF(i)),i}function BF(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,f,g;const p=o-s,y=a-r;if(e.isHorizontal()){if(f=pe(i,r,a),st(n)){const _=Object.keys(n)[0],m=n[_];g=u[_].getPixelForValue(m)+p-t}else n==="center"?g=(c.bottom+c.top)/2+p-t:g=bx(e,n,t);d=a-r}else{if(st(n)){const _=Object.keys(n)[0],m=n[_];f=u[_].getPixelForValue(m)-y+t}else n==="center"?f=(c.left+c.right)/2-y+t:f=bx(e,n,t);g=pe(i,o,s),h=n==="left"?-Vt:Vt}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class wr extends Nn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Ye(t,Number.POSITIVE_INFINITY),n=Ye(n,Number.NEGATIVE_INFINITY),i=Ye(i,Number.POSITIVE_INFINITY),s=Ye(s,Number.NEGATIVE_INFINITY),{min:Ye(t,i),max:Ye(n,s),minDefined:jt(t),maxDefined:jt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Ye(n,Ye(i,n)),max:Ye(i,Ye(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qL(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Rx(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=MF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),vt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=vt(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=Tx(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=te(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-na(t.grid)-n.padding-Mx(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=Ym(Math.min(Math.asin(te((u.highest.height+6)/a,-1,1)),Math.asin(te(l/c,-1,1))-Math.asin(te(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Mx(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=na(r)+l):(t.height=this.maxHeight,t.width=na(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,g=kn(this.labelRotation),p=Math.cos(g),y=Math.sin(g);if(a){const _=i.mirror?0:y*h.width+p*d.height;t.height=Math.min(this.maxHeight,t.height+_+f)}else{const _=i.mirror?0:p*h.width+y*d.height;t.width=Math.min(this.maxWidth,t.width+_+f)}this._calculatePadding(c,u,y,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*t.width,f=i*n.height):(d=i*t.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)dt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Rx(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Tx(n,i));let c=0,u=0,h,d,f,g,p,y,_,m,x,v,w;for(h=0;h<n;h+=l){if(g=t[h].label,p=this._resolveTickFontOptions(h),s.font=y=p.string,_=r[y]=r[y]||{data:{},gc:[]},m=p.lineHeight,x=v=0,!dt(g)&&!kt(g))x=eh(s,_.data,_.gc,x,g),v=m;else if(kt(g))for(d=0,f=g.length;d<f;++d)w=g[d],!dt(w)&&!kt(w)&&(x=eh(s,_.data,_.gc,x,w),v+=m);o.push(x),a.push(v),c=Math.max(x,c),u=Math.max(v,u)}NF(r,n);const S=o.indexOf(c),C=a.indexOf(u),E=b=>({width:o[b]||0,height:a[b]||0});return{first:E(0),last:E(n-1),widest:E(S),highest:E(C),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return bL(this._alignToPixels?zs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=jF(this.getContext(),t,i))}return this.$context||(this.$context=zF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=kn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=na(r),f=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,y=p/2,_=function(T){return zs(i,T,p)};let m,x,v,w,S,C,E,b,R,k,z,Y;if(o==="top")m=_(this.bottom),C=this.bottom-d,b=m-y,k=_(t.top)+y,Y=t.bottom;else if(o==="bottom")m=_(this.top),k=t.top,Y=_(t.bottom)-y,C=m+y,b=this.top+d;else if(o==="left")m=_(this.right),S=this.right-d,E=m-y,R=_(t.left)+y,z=t.right;else if(o==="right")m=_(this.left),R=t.left,z=_(t.right)-y,S=m+y,E=this.left+d;else if(n==="x"){if(o==="center")m=_((t.top+t.bottom)/2+.5);else if(st(o)){const T=Object.keys(o)[0],P=o[T];m=_(this.chart.scales[T].getPixelForValue(P))}k=t.top,Y=t.bottom,C=m+y,b=C+d}else if(n==="y"){if(o==="center")m=_((t.left+t.right)/2);else if(st(o)){const T=Object.keys(o)[0],P=o[T];m=_(this.chart.scales[T].getPixelForValue(P))}S=m-y,E=S-d,R=t.left,z=t.right}const N=Q(s.ticks.maxTicksLimit,h),M=Math.max(1,Math.ceil(h/N));for(x=0;x<h;x+=M){const T=this.getContext(x),P=r.setContext(T),A=a.setContext(T),I=P.lineWidth,O=P.color,W=A.dash||[],V=A.dashOffset,X=P.tickWidth,L=P.tickColor,Z=P.tickBorderDash||[],nt=P.tickBorderDashOffset;v=FF(this,x,l),v!==void 0&&(w=zs(i,v,I),c?S=E=R=z=w:C=b=k=Y=w,f.push({tx1:S,ty1:C,tx2:E,ty2:b,x1:R,y1:k,x2:z,y2:Y,width:I,color:O,borderDash:W,borderDashOffset:V,tickWidth:X,tickColor:L,tickBorderDash:Z,tickBorderDashOffset:nt}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=na(i.grid),f=d+u,g=h?-u:f,p=-kn(this.labelRotation),y=[];let _,m,x,v,w,S,C,E,b,R,k,z,Y="middle";if(s==="top")S=this.bottom-g,C=this._getXAxisLabelAlignment();else if(s==="bottom")S=this.top+g,C=this._getXAxisLabelAlignment();else if(s==="left"){const M=this._getYAxisLabelAlignment(d);C=M.textAlign,w=M.x}else if(s==="right"){const M=this._getYAxisLabelAlignment(d);C=M.textAlign,w=M.x}else if(n==="x"){if(s==="center")S=(t.top+t.bottom)/2+f;else if(st(s)){const M=Object.keys(s)[0],T=s[M];S=this.chart.scales[M].getPixelForValue(T)+f}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(t.left+t.right)/2-f;else if(st(s)){const M=Object.keys(s)[0],T=s[M];w=this.chart.scales[M].getPixelForValue(T)}C=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const N=this._getLabelSizes();for(_=0,m=a.length;_<m;++_){x=a[_],v=x.label;const M=r.setContext(this.getContext(_));E=this.getPixelForTick(_)+r.labelOffset,b=this._resolveTickFontOptions(_),R=b.lineHeight,k=kt(v)?v.length:1;const T=k/2,P=M.color,A=M.textStrokeColor,I=M.textStrokeWidth;let O=C;o?(w=E,C==="inner"&&(_===m-1?O=this.options.reverse?"left":"right":_===0?O=this.options.reverse?"right":"left":O="center"),s==="top"?c==="near"||p!==0?z=-k*R+R/2:c==="center"?z=-N.highest.height/2-T*R+R:z=-N.highest.height+R/2:c==="near"||p!==0?z=R/2:c==="center"?z=N.highest.height/2-T*R:z=N.highest.height-k*R,h&&(z*=-1),p!==0&&!M.showLabelBackdrop&&(w+=R/2*Math.sin(p))):(S=E,z=(1-k)*R/2);let W;if(M.showLabelBackdrop){const V=Ee(M.backdropPadding),X=N.heights[_],L=N.widths[_];let Z=z-V.top,nt=0-V.left;switch(Y){case"middle":Z-=X/2;break;case"bottom":Z-=X;break}switch(C){case"center":nt-=L/2;break;case"right":nt-=L;break;case"inner":_===m-1?nt-=L:_>0&&(nt-=L/2);break}W={left:nt,top:Z,width:L+V.width,height:X+V.height,color:M.backdropColor}}y.push({label:v,font:b,textOffset:z,options:{rotation:p,color:P,strokeColor:A,strokeWidth:I,textAlign:O,textBaseline:Y,translation:[w,S],backdrop:W}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-kn(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=zs(t,this.left,o)-o/2,u=zs(t,this.right,a)+a/2,h=d=l):(h=zs(t,this.top,o)-o/2,d=zs(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&qh(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;mr(i,c,0,u,l,a)}s&&Jh(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Kt(i.font),o=Ee(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||st(n)?(l+=o.bottom,kt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=BF(this,l,n,a);mr(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:WF(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Q(t.grid&&t.grid.z,-1),s=Q(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==wr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Kt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Pc{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;HF(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,VF(t,o,i),this.override&&Wt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Wt[s]&&(delete Wt[s][i],this.override&&delete pr[i])}}function VF(e,t,n){const i=ml(Object.create(null),[n?Wt.get(n):{},Wt.get(t),e.defaults]);Wt.set(t,i),e.defaultRoutes&&YF(t,e.defaultRoutes),e.descriptors&&Wt.describe(t,e.descriptors)}function YF(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Wt.route(r,s,l,a)})}function HF(e){return"id"in e&&"defaults"in e}class GF{constructor(){this.controllers=new Pc(Ln,"datasets",!0),this.elements=new Pc(Nn,"elements"),this.plugins=new Pc(Object,"plugins"),this.scales=new Pc(wr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):_t(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=Vm(t);vt(i["before"+s],[],i),n[t](i),vt(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Hn=new GF;class UF{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[n,s,r.options];if(vt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=Q(i.options&&i.options.plugins,{}),r=XF(i);return s===!1&&!n?[]:KF(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function XF(e){const t={},n=[],i=Object.keys(Hn.plugins.items);for(let r=0;r<i.length;r++)n.push(Hn.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function $F(e,t){return!t&&e===!1?null:e===!0?{}:e}function KF(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=$F(i[l],s);c!==null&&r.push({plugin:a,options:ZF(e.config,{plugin:a,local:n[l]},c,o)})}return r}function ZF(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vg(e,t){const n=Wt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function qF(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function JF(e,t){return e===t?"_index_":"_value_"}function kx(e){if(e==="x"||e==="y"||e==="r")return e}function QF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Yg(e,...t){if(kx(e))return e;for(const n of t){const i=n.axis||QF(n.position)||e.length>1&&kx(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ix(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function tN(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return Ix(e,"x",n[0])||Ix(e,"y",n[0])}return{}}function eN(e,t){const n=pr[e.type]||{scales:{}},i=t.scales||{},s=Vg(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!st(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Yg(o,a,tN(o,e),Wt.scales[a.type]),c=JF(l,s),u=n.scales||{};r[o]=ka(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Vg(a,t),u=(pr[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=qF(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),ka(r[f],[{axis:d},i[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];ka(a,[Wt.scales[a.type],Wt.scale])}),r}function dC(e){const t=e.options||(e.options={});t.plugins=Q(t.plugins,{}),t.scales=eN(e,t)}function fC(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function nN(e){return e=e||{},e.data=fC(e.data),dC(e),e}const Px=new Map,gC=new Set;function Oc(e,t){let n=Px.get(e);return n||(n=t(),Px.set(e,n),gC.add(n)),n}const ia=(e,t,n)=>{const i=Ts(t,n);i!==void 0&&e.add(i)};class iN{constructor(t){this._config=nN(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=fC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),dC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Oc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Oc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Oc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Oc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>ia(l,t,h))),u.forEach(h=>ia(l,s,h)),u.forEach(h=>ia(l,pr[r]||{},h)),u.forEach(h=>ia(l,Wt,h)),u.forEach(h=>ia(l,jg,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),gC.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,pr[n]||{},Wt.datasets[n]||{},{type:n},Wt,jg]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Ox(this._resolverCache,t,s);let l=o;if(rN(o,n)){r.$shared=!1,i=Rs(i)?i():i;const c=this.createResolver(t,i,a);l=Ao(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=Ox(this._resolverCache,t,i);return st(n)?Ao(r,n,void 0,s):r}}function Ox(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:$m(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const sN=e=>st(e)&&Object.getOwnPropertyNames(e).some(t=>Rs(e[t]));function rN(e,t){const{isScriptable:n,isIndexable:i}=US(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(Rs(a)||sN(a))||o&&kt(a))return!0}return!1}var oN="4.4.2";const aN=["top","bottom","left","right","chartArea"];function Lx(e,t){return e==="top"||e==="bottom"||aN.indexOf(e)===-1&&t==="x"}function Dx(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Fx(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),vt(n&&n.onComplete,[e],t)}function lN(e){const t=e.chart,n=t.options.animation;vt(n&&n.onProgress,[e],t)}function pC(e){return qm()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const au={},Nx=e=>{const t=pC(e);return Object.values(au).filter(n=>n.canvas===t).pop()};function cN(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function uN(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function Lc(e,t,n){return e.options.clip?e[n]:t[n]}function hN(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Lc(n,t,"left"),right:Lc(n,t,"right"),top:Lc(i,t,"top"),bottom:Lc(i,t,"bottom")}:t}var Ki;let Hl=(Ki=class{static register(...t){Hn.add(...t),zx()}static unregister(...t){Hn.remove(...t),zx()}constructor(t,n){const i=this.config=new iN(n),s=pC(t),r=Nx(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||RF(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=gL(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new UF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kL(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],au[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}fi.listen(this,"complete",Fx),fi.listen(this,"progress",lN),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return dt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nx(this.canvas,this.ctx),this}stop(){return fi.stop(this),this}resize(t,n){fi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rx(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),vt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};_t(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Yg(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),_t(r,o=>{const a=o.options,l=a.id,c=Yg(l,a),u=Q(a.type,o.dtype);(a.position===void 0||Lx(a.position,c)!==Lx(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Hn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),_t(s,(o,a)=>{o||delete i[a]}),_t(i,o=>{xe.configure(this,o,o.options),xe.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Dx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Vg(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Hn.getController(a),{datasetElementType:c,dataElementType:u}=Wt.datasets[a];Object.assign(l,{dataElementType:Hn.getElement(u),datasetElementType:c&&Hn.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){_t(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||_t(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Dx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){_t(this.scales,t=>{xe.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Xy(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;cN(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!Xy(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xe.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],_t(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Rs(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fi.has(this)?this.attached&&!fi.running(this)&&fi.start(this):(this.draw(),Fx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=hN(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&qh(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&Jh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Ci(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=aF.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Os(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);_l(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),fi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),nx(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete au[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};_t(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){_t(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},_t(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Ju(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),l=vL(t),c=uN(t,this._lastEvent,i,l);i&&(this._lastEvent=null,vt(r.onHover,[t,a,this],this),l&&vt(r.onClick,[t,a,this],this));const u=!Ju(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}},B(Ki,"defaults",Wt),B(Ki,"instances",au),B(Ki,"overrides",pr),B(Ki,"registry",Hn),B(Ki,"version",oN),B(Ki,"getChart",Nx),Ki);function zx(){return _t(Hl.instances,e=>e._plugins.invalidate())}function dN(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(r,o,a,i-c,n+c),l>s?(c=s/l,e.arc(r,o,l,n+c,i-c,!0)):e.arc(r,o,s,n+Vt,i-Vt),e.closePath(),e.clip()}function fN(e){return Xm(e,["outerStart","outerEnd","innerStart","innerEnd"])}function gN(e,t,n,i){const s=fN(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return te(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:te(s.innerStart,0,o),innerEnd:te(s.innerEnd,0,o)}}function Pr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function sh(e,t,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const g=s-l;if(i){const M=u>0?u-i:0,T=h>0?h-i:0,P=(M+T)/2,A=P!==0?g*P/(P+i):g;f=(g-A)/2}const p=Math.max(.001,g*h-n/Tt)/h,y=(g-p)/2,_=l+y+f,m=s-y-f,{outerStart:x,outerEnd:v,innerStart:w,innerEnd:S}=gN(t,d,h,m-_),C=h-x,E=h-v,b=_+x/C,R=m-v/E,k=d+w,z=d+S,Y=_+w/k,N=m-S/z;if(e.beginPath(),r){const M=(b+R)/2;if(e.arc(o,a,h,b,M),e.arc(o,a,h,M,R),v>0){const I=Pr(E,R,o,a);e.arc(I.x,I.y,v,R,m+Vt)}const T=Pr(z,m,o,a);if(e.lineTo(T.x,T.y),S>0){const I=Pr(z,N,o,a);e.arc(I.x,I.y,S,m+Vt,N+Math.PI)}const P=(m-S/d+(_+w/d))/2;if(e.arc(o,a,d,m-S/d,P,!0),e.arc(o,a,d,P,_+w/d,!0),w>0){const I=Pr(k,Y,o,a);e.arc(I.x,I.y,w,Y+Math.PI,_-Vt)}const A=Pr(C,_,o,a);if(e.lineTo(A.x,A.y),x>0){const I=Pr(C,b,o,a);e.arc(I.x,I.y,x,_-Vt,b)}}else{e.moveTo(o,a);const M=Math.cos(b)*h+o,T=Math.sin(b)*h+a;e.lineTo(M,T);const P=Math.cos(R)*h+o,A=Math.sin(R)*h+a;e.lineTo(P,A)}e.closePath()}function pN(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){sh(e,t,n,i,l,s);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%bt||bt))}return sh(e,t,n,i,l,s),e.fill(),l}function mN(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(r){sh(e,t,n,i,g,s);for(let p=0;p<r;++p)e.stroke();isNaN(a)||(g=o+(a%bt||bt))}f&&dN(e,t,g),r||(sh(e,t,n,i,g,s),e.stroke())}class pa extends Nn{constructor(n){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=FS(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,p=Q(d,c-l)>=bt||yl(o,l,c),y=Ei(a,u+f,h+f);return p&&y}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,d=(a+l+u+c)/2;return{x:i+Math.cos(h)*d,y:s+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>bt?Math.floor(s/bt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(Tt,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,pN(n,this,u,o,a),mN(n,this,u,o,a),n.restore()}}B(pa,"id","arc"),B(pa,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),B(pa,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(pa,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function mC(e,t,n=t){e.lineCap=Q(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Q(n.borderDash,t.borderDash)),e.lineDashOffset=Q(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Q(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Q(n.borderWidth,t.borderWidth),e.strokeStyle=Q(n.borderColor,t.borderColor)}function _N(e,t,n){e.lineTo(n.x,n.y)}function yN(e){return e.stepped?VL:e.tension||e.cubicInterpolationMode==="monotone"?YL:_N}function _C(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function xN(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=_C(s,n,i),u=yN(r);let{move:h=!0,reverse:d}=i||{},f,g,p;for(f=0;f<=c;++f)g=s[(a+(d?c-f:f))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,p,g,d,r.stepped),p=g);return l&&(g=s[(a+(d?c:0))%o],u(e,p,g,d,r.stepped)),!!l}function vN(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=_C(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,g,p,y,_;const m=v=>(o+(c?a-v:v))%r,x=()=>{p!==y&&(e.lineTo(u,y),e.lineTo(u,p),e.lineTo(u,_))};for(l&&(f=s[m(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[m(d)],f.skip)continue;const v=f.x,w=f.y,S=v|0;S===g?(w<p?p=w:w>y&&(y=w),u=(h*u+v)/++h):(x(),e.lineTo(v,w),g=S,h=0,p=y=w),_=w}x()}function Hg(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?vN:xN}function wN(e){return e.stepped?wD:e.tension||e.cubicInterpolationMode==="monotone"?ED:Us}function EN(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),mC(e,t.options),e.stroke(s)}function SN(e,t,n,i){const{segments:s,options:r}=t,o=Hg(t);for(const a of s)mC(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const CN=typeof Path2D=="function";function AN(e,t,n,i){CN&&!t.options.segment?EN(e,t,n,i):SN(e,t,n,i)}class ls extends Nn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;fD(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RD(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=nC(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=wN(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],g=r[d];if(f===g){a.push(f);continue}const p=Math.abs((s-f[n])/(g[n]-f[n])),y=l(f,g,p,i.stepped);y[n]=t[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(t,n,i){return Hg(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=Hg(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),AN(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B(ls,"id","line"),B(ls,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B(ls,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B(ls,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function jx(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class lu extends Nn{constructor(n){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return jx(this,n,"x",i)}inYRange(n,i){return jx(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Ci(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Wg(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}B(lu,"id","point"),B(lu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(lu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yC(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function cs(e,t,n,i){return e?0:te(t,n,i)}function bN(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=GS(i);return{t:cs(s.top,r.top,0,n),r:cs(s.right,r.right,0,t),b:cs(s.bottom,r.bottom,0,n),l:cs(s.left,r.left,0,t)}}function TN(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=or(s),o=Math.min(t,n),a=e.borderSkipped,l=i||st(s);return{topLeft:cs(!l||a.top||a.left,r.topLeft,0,o),topRight:cs(!l||a.top||a.right,r.topRight,0,o),bottomLeft:cs(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:cs(!l||a.bottom||a.right,r.bottomRight,0,o)}}function RN(e){const t=yC(e),n=t.right-t.left,i=t.bottom-t.top,s=bN(e,n/2,i/2),r=TN(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function gf(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&yC(e,i);return a&&(s||Ei(t,a.left,a.right))&&(r||Ei(n,a.top,a.bottom))}function MN(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function kN(e,t){e.rect(t.x,t.y,t.w,t.h)}function pf(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class cu extends Nn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=RN(this),a=MN(o.radius)?xl:kN;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,pf(o,n,r)),t.clip(),a(t,pf(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,pf(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return gf(this,t,n,i)}inXRange(t,n){return gf(this,t,null,n)}inYRange(t,n){return gf(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}B(cu,"id","bar"),B(cu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(cu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var IN=Object.freeze({__proto__:null,ArcElement:pa,BarElement:cu,LineElement:ls,PointElement:lu});const Gg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Wx=Gg.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function xC(e){return Gg[e%Gg.length]}function vC(e){return Wx[e%Wx.length]}function PN(e,t){return e.borderColor=xC(t),e.backgroundColor=vC(t),++t}function ON(e,t){return e.backgroundColor=e.data.map(()=>xC(t++)),t}function LN(e,t){return e.backgroundColor=e.data.map(()=>vC(t++)),t}function DN(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof er?t=ON(n,t):s instanceof Da?t=LN(n,t):s&&(t=PN(n,t))}}function Bx(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function FN(e){return e&&(e.borderColor||e.backgroundColor)}var NN={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s;if(!n.forceOverride&&(Bx(i)||FN(s)||r&&Bx(r)))return;const o=DN(e);i.forEach(o)}};function zN(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,d,f,g,p;for(o[l++]=e[u],h=0;h<r-2;h++){let y=0,_=0,m;const x=Math.floor((h+1)*a)+1+t,v=Math.min(Math.floor((h+2)*a)+1,n)+t,w=v-x;for(m=x;m<v;m++)y+=e[m].x,_+=e[m].y;y/=w,_/=w;const S=Math.floor(h*a)+1+t,C=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:E,y:b}=e[u];for(f=g=-1,m=S;m<C;m++)g=.5*Math.abs((E-y)*(e[m].y-b)-(E-e[m].x)*(_-b)),g>f&&(f=g,d=e[m],p=m);o[l++]=d,u=p}return o[l++]=e[c],o}function jN(e,t,n,i){let s=0,r=0,o,a,l,c,u,h,d,f,g,p;const y=[],_=t+n-1,m=e[t].x,v=e[_].x-m;for(o=t;o<t+n;++o){a=e[o],l=(a.x-m)/v*i,c=a.y;const w=l|0;if(w===u)c<g?(g=c,h=o):c>p&&(p=c,d=o),s=(r*s+a.x)/++r;else{const S=o-1;if(!dt(h)&&!dt(d)){const C=Math.min(h,d),E=Math.max(h,d);C!==f&&C!==S&&y.push({...e[C],x:s}),E!==f&&E!==S&&y.push({...e[E],x:s})}o>0&&S!==f&&y.push(e[S]),y.push(a),u=w,r=0,g=p=c,h=d=f=o}}return y}function wC(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Vx(e){e.data.datasets.forEach(t=>{wC(t)})}function WN(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=te(Si(t,r.axis,o).lo,0,n-1)),c?s=te(Si(t,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var BN={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Vx(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=e.getDatasetMeta(r),c=o||s.data;if(fa([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:d}=WN(l,c);const f=n.threshold||4*i;if(d<=f){wC(s);return}dt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(n.algorithm){case"lttb":g=zN(c,h,d,i,n);break;case"min-max":g=jN(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=g})},destroy(e){Vx(e)}};function VN(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=t_(l,c,s);const u=Ug(n,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=nC(t,u);for(const d of h){const f=Ug(n,r[d.start],r[d.end],d.loop),g=eC(a,s,f);for(const p of g)o.push({source:p,target:d,start:{[n]:Yx(u,f,"start",Math.max)},end:{[n]:Yx(u,f,"end",Math.min)}})}}return o}function Ug(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=Ge(s),r=Ge(r)),{property:e,start:s,end:r}}function YN(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=t_(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function t_(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Yx(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function EC(e,t){let n=[],i=!1;return kt(e)?(i=!0,n=e):n=YN(e,t),n.length?new ls({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Hx(e){return e&&e.fill!==!1}function HN(e,t,n){let s=e[t].fill;const r=[t];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!jt(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function GN(e,t,n){const i=KN(e);if(st(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return jt(s)&&Math.floor(s)===s?UN(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function UN(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function XN(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:st(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function $N(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:st(e)?i=e.value:i=t.getBaseValue(),i}function KN(e){const t=e.options,n=t.fill;let i=Q(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function ZN(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=qN(t,n);a.push(EC({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)JN(s,o[u],a)}return new ls({points:s,options:{}})}function qN(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function JN(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=QN(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function QN(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(Ei(s,h,d)){a=s===h,l=s===d;break}}return{first:a,last:l,point:i}}class SC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:bt},t.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function tz(e){const{chart:t,fill:n,line:i}=e;if(jt(n))return ez(t,n);if(n==="stack")return ZN(e);if(n==="shape")return!0;const s=nz(e);return s instanceof SC?s:EC(s,i)}function ez(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function nz(e){return(e.scale||{}).getPointPositionForValue?sz(e):iz(e)}function iz(e){const{scale:t={},fill:n}=e,i=XN(n,t);if(jt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function sz(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=$N(n,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new SC({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function mf(e,t,n){const i=tz(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(qh(e,n),rz(e,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),Jh(e))}function rz(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&r!==s&&(Gx(e,i,o.top),Ux(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore(),e.save(),Gx(e,i,o.bottom)),Ux(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore()}function Gx(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[t_(l,c,s)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Ux(e,t){const{line:n,target:i,property:s,color:r,scale:o}=t,a=VN(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=r}={}}=l,f=i!==!0;e.save(),e.fillStyle=d,oz(e,o,f&&Ug(s,u,h)),e.beginPath();const g=!!n.pathSegment(e,l);let p;if(f){g?e.closePath():Xx(e,i,h,s);const y=!!i.pathSegment(e,c,{move:g,reverse:!0});p=g&&y,p||Xx(e,i,u,s)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function oz(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(e.beginPath(),e.rect(o,i,a-o,s-i),e.clip())}function Xx(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var az={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof ls&&(l={visible:e.isDatasetVisible(o),index:o,fill:GN(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=HN(s,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&mf(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Hx(r)&&mf(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!Hx(i)||n.drawTime!=="beforeDatasetDraw"||mf(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $x=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},lz=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Kx extends Nn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=vt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Kt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=$x(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,p)=>{const y=i+n/2+r.measureText(g.text).width;(p===0||c[c.length-1]+y+2*a>o)&&(h+=u,c[c.length-(p>0?0:1)]=0,f+=u,d++),l[p]={left:0,top:f,row:d,width:y,height:s},c[c.length-1]+=y+a}),h}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,g=0,p=0;return this.legendItems.forEach((y,_)=>{const{itemWidth:m,itemHeight:x}=cz(i,n,r,y,s);_>0&&f+x+2*a>u&&(h+=d+a,c.push({width:d,height:f}),g+=d+a,p++,d=f=0),l[_]={left:g,top:f,col:p,width:m,height:x},d=Math.max(d,m),f+=x+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=ao(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=pe(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=pe(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=pe(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=pe(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;qh(t,this),this._draw(),Jh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Wt.color,l=ao(t.rtl,this.left,this.width),c=Kt(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:y}=$x(o,h),_=function(S,C,E){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;s.save();const b=Q(E.lineWidth,1);if(s.fillStyle=Q(E.fillStyle,a),s.lineCap=Q(E.lineCap,"butt"),s.lineDashOffset=Q(E.lineDashOffset,0),s.lineJoin=Q(E.lineJoin,"miter"),s.lineWidth=b,s.strokeStyle=Q(E.strokeStyle,a),s.setLineDash(Q(E.lineDash,[])),o.usePointStyle){const R={radius:p*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:b},k=l.xPlus(S,g/2),z=C+d;HS(s,R,k,z,o.pointStyleWidth&&g)}else{const R=C+Math.max((h-p)/2,0),k=l.leftForLtr(S,g),z=or(E.borderRadius);s.beginPath(),Object.values(z).some(Y=>Y!==0)?xl(s,{x:k,y:R,w:g,h:p,radius:z}):s.rect(k,R,g,p),s.fill(),b!==0&&s.stroke()}s.restore()},m=function(S,C,E){mr(s,E.text,S,C+y/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},x=this.isHorizontal(),v=this._computeTitleHeight();x?f={x:pe(r,this.left+u,this.right-i[0]),y:this.top+u+v,line:0}:f={x:this.left+u,y:pe(r,this.top+v+u,this.bottom-n[0].height),line:0},JS(this.ctx,t.textDirection);const w=y+u;this.legendItems.forEach((S,C)=>{s.strokeStyle=S.fontColor,s.fillStyle=S.fontColor;const E=s.measureText(S.text).width,b=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),R=g+d+E;let k=f.x,z=f.y;l.setWidth(this.width),x?C>0&&k+R+u>this.right&&(z=f.y+=w,f.line++,k=f.x=pe(r,this.left+u,this.right-i[f.line])):C>0&&z+w>this.bottom&&(k=f.x=k+n[f.line].width+u,f.line++,z=f.y=pe(r,this.top+v+u,this.bottom-n[f.line].height));const Y=l.x(k);if(_(Y,z,S),k=IL(b,k+g+d,x?k+R:this.right,t.rtl),m(l.x(k),z,S),x)f.x+=R+u;else if(typeof S.text!="string"){const N=c.lineHeight;f.y+=CC(S,N)+u}else f.y+=w}),QS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Kt(n.font),s=Ee(n.padding);if(!n.display)return;const r=ao(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=pe(t.align,h,this.right-d);else{const g=this.columnSizes.reduce((p,y)=>Math.max(p,y.height),0);u=c+pe(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=pe(a,h,h+d);o.textAlign=r.textAlign(Gm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,mr(o,n.text,f,u,i)}_computeTitleHeight(){const t=this.options.title,n=Kt(t.font),i=Ee(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Ei(t,this.left,this.right)&&Ei(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Ei(t,s.left,s.left+s.width)&&Ei(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!dz(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=lz(s,i);s&&!r&&vt(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&vt(n.onHover,[t,i,this],this)}else i&&vt(n.onClick,[t,i,this],this)}}function cz(e,t,n,i,s){const r=uz(i,e,t,n),o=hz(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function uz(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function hz(e,t,n){let i=e;return typeof t.text!="string"&&(i=CC(t,n)),i}function CC(e,t){const n=e.text?e.text.length:0;return t*n}function dz(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var fz={id:"legend",_element:Kx,start(e,t,n){const i=e.legend=new Kx({ctx:e.ctx,options:n,chart:e});xe.configure(e,i,n),xe.addBox(e,i)},stop(e){xe.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;xe.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ee(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class e_ extends Nn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=kt(i.text)?i.text.length:1;this._padding=Ee(i.padding);const r=s*Kt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=pe(a,i,r),h=n+t,c=r-i):(o.position==="left"?(u=i+t,h=pe(a,s,n),l=Tt*-.5):(u=r-t,h=pe(a,n,s),l=Tt*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Kt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);mr(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Gm(n.align),textBaseline:"middle",translation:[o,a]})}}function gz(e,t){const n=new e_({ctx:e.ctx,options:t,chart:e});xe.configure(e,n,t),xe.addBox(e,n),e.titleBlock=n}var pz={id:"title",_element:e_,start(e,t,n){gz(e,n)},stop(e){const t=e.titleBlock;xe.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;xe.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dc=new WeakMap;var mz={id:"subtitle",start(e,t,n){const i=new e_({ctx:e.ctx,options:n,chart:e});xe.configure(e,i,n),xe.addBox(e,i),Dc.set(e,i)},stop(e){xe.removeBox(e,Dc.get(e)),Dc.delete(e)},beforeUpdate(e,t,n){const i=Dc.get(e);xe.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ma={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=zg(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Vn(e,t){return t&&(kt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function gi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function _z(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Zx(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=Kt(t.bodyFont),c=Kt(t.titleFont),u=Kt(t.footerFont),h=r.length,d=s.length,f=i.length,g=Ee(t.padding);let p=g.height,y=0,_=i.reduce((v,w)=>v+w.before.length+w.lines.length+w.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){const v=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*v+(_-f)*l.lineHeight+(_-1)*t.bodySpacing}d&&(p+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let m=0;const x=function(v){y=Math.max(y,n.measureText(v).width+m)};return n.save(),n.font=c.string,_t(e.title,x),n.font=l.string,_t(e.beforeBody.concat(e.afterBody),x),m=t.displayColors?o+2+t.boxPadding:0,_t(i,v=>{_t(v.before,x),_t(v.lines,x),_t(v.after,x)}),m=0,n.font=u.string,_t(e.footer,x),n.restore(),y+=g.width,{width:y,height:p}}function yz(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function xz(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function vz(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),xz(c,e,t,n)&&(c="center"),c}function qx(e,t,n){const i=n.yAlign||t.yAlign||yz(e,n);return{xAlign:n.xAlign||t.xAlign||vz(e,t,n,i),yAlign:i}}function wz(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function Ez(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Jx(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=or(o);let g=wz(t,a);const p=Ez(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+s:a==="right"&&(g+=Math.max(h,f)+s),{x:te(g,0,i.width-t.width),y:te(p,0,i.height-t.height)}}function Fc(e,t,n){const i=Ee(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Qx(e){return Vn([],gi(e))}function Sz(e,t,n){return Os(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function tv(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const AC={beforeTitle:ui,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:ui,beforeBody:ui,beforeLabel:ui,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return dt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ui,afterBody:ui,beforeFooter:ui,footer:ui,afterFooter:ui};function Me(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?AC[t].call(n,i):s}class Xg extends Nn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new iC(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Sz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Me(i,"beforeTitle",this,t),r=Me(i,"title",this,t),o=Me(i,"afterTitle",this,t);let a=[];return a=Vn(a,gi(s)),a=Vn(a,gi(r)),a=Vn(a,gi(o)),a}getBeforeBody(t,n){return Qx(Me(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return _t(t,r=>{const o={before:[],lines:[],after:[]},a=tv(i,r);Vn(o.before,gi(Me(a,"beforeLabel",this,r))),Vn(o.lines,Me(a,"label",this,r)),Vn(o.after,gi(Me(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return Qx(Me(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Me(i,"beforeFooter",this,t),r=Me(i,"footer",this,t),o=Me(i,"afterFooter",this,t);let a=[];return a=Vn(a,gi(s)),a=Vn(a,gi(r)),a=Vn(a,gi(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(_z(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),_t(a,u=>{const h=tv(t.callbacks,u);s.push(Me(h,"labelColor",this,u)),r.push(Me(h,"labelPointStyle",this,u)),o.push(Me(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=ma[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Zx(this,i),c=Object.assign({},a,l),u=qx(this.chart,i,c),h=Jx(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=or(a),{x:d,y:f}=t,{width:g,height:p}=n;let y,_,m,x,v,w;return r==="center"?(v=f+p/2,s==="left"?(y=d,_=y-o,x=v+o,w=v-o):(y=d+g,_=y+o,x=v-o,w=v+o),m=y):(s==="left"?_=d+Math.max(l,u)+o:s==="right"?_=d+g-Math.max(c,h)-o:_=this.caretX,r==="top"?(x=f,v=x-o,y=_-o,m=_+o):(x=f+p,v=x+o,y=_+o,m=_-o),w=x),{x1:y,x2:_,x3:m,y1:x,y2:v,y3:w}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=ao(i.rtl,this.x,this.width);for(t.x=Fc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Kt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=Kt(r.bodyFont),h=Fc(this,"left",r),d=s.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+f;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=s.leftForLtr(d,c)+c/2,_=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Wg(t,p,y,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Wg(t,p,y,_)}else{t.lineWidth=st(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=s.leftForLtr(d,c),y=s.leftForLtr(s.xPlus(d,1),c-2),_=or(o.borderRadius);Object.values(_).some(m=>m!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,xl(t,{x:p,y:g,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),xl(t,{x:y,y:g+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(p,g,c,l),t.strokeRect(p,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(y,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Kt(i.bodyFont);let d=h.lineHeight,f=0;const g=ao(i.rtl,this.x,this.width),p=function(E){n.fillText(E,g.x(t.x+f),t.y+d/2),t.y+=d+r},y=g.textAlign(o);let _,m,x,v,w,S,C;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Fc(this,y,i),n.fillStyle=i.bodyColor,_t(this.beforeBody,p),f=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,v=0,S=s.length;v<S;++v){for(_=s[v],m=this.labelTextColors[v],n.fillStyle=m,_t(_.before,p),x=_.lines,a&&x.length&&(this._drawColorBox(n,t,v,g,i),d=Math.max(h.lineHeight,l)),w=0,C=x.length;w<C;++w)p(x[w]),d=h.lineHeight;_t(_.after,p)}f=0,d=h.lineHeight,_t(this.afterBody,p),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=ao(i.rtl,this.x,this.width);for(t.x=Fc(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Kt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=or(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=ma[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Zx(this,t),l=Object.assign({},o,this._size),c=qx(n,t,l),u=Jx(t,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ee(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),JS(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),QS(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Ju(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),l=n||!Ju(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=ma[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}B(Xg,"positioners",ma);var Cz={id:"tooltip",_element:Xg,positioners:ma,afterInit(e,t,n){n&&(e.tooltip=new Xg({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:AC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Az=Object.freeze({__proto__:null,Colors:NN,Decimation:BN,Filler:az,Legend:fz,SubTitle:mz,Title:pz,Tooltip:Cz});const bz=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Tz(e,t,n,i){const s=e.indexOf(t);if(s===-1)return bz(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const Rz=(e,t)=>e===null?null:te(Math.round(e),0,t);function ev(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class $g extends wr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(dt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:Tz(i,t,Q(n,t),this._addedLabels),Rz(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return ev.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}B($g,"id","category"),B($g,"defaults",{ticks:{callback:ev}});function Mz(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=r||1,g=u-1,{min:p,max:y}=t,_=!dt(o),m=!dt(a),x=!dt(c),v=(y-p)/(h+1);let w=Ky((y-p)/g/f)*f,S,C,E,b;if(w<1e-14&&!_&&!m)return[{value:p},{value:y}];b=Math.ceil(y/w)-Math.floor(p/w),b>g&&(w=Ky(b*w/g/f)*f),dt(l)||(S=Math.pow(10,l),w=Math.ceil(w*S)/S),s==="ticks"?(C=Math.floor(p/w)*w,E=Math.ceil(y/w)*w):(C=p,E=y),_&&m&&r&&CL((a-o)/r,w/1e3)?(b=Math.round(Math.min((a-o)/w,u)),w=(a-o)/b,C=o,E=a):x?(C=_?o:C,E=m?a:E,b=c-1,w=(E-C)/b):(b=(E-C)/w,Ia(b,Math.round(b),w/1e3)?b=Math.round(b):b=Math.ceil(b));const R=Math.max(Zy(w),Zy(C));S=Math.pow(10,dt(l)?R:l),C=Math.round(C*S)/S,E=Math.round(E*S)/S;let k=0;for(_&&(d&&C!==o?(n.push({value:o}),C<o&&k++,Ia(Math.round((C+k*w)*S)/S,o,nv(o,v,e))&&k++):C<o&&k++);k<b;++k){const z=Math.round((C+k*w)*S)/S;if(m&&z>a)break;n.push({value:z})}return m&&d&&E!==a?n.length&&Ia(n[n.length-1].value,a,nv(a,v,e))?n[n.length-1].value=a:n.push({value:a}):(!m||E===a)&&n.push({value:E}),n}function nv(e,t,{horizontal:n,minRotation:i}){const s=kn(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class rh extends wr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return dt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(t){const l=ei(s),c=ei(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=Mz(s,r);return t.bounds==="ticks"&&DS(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Vl(t,this.chart.options.locale,this.options.ticks.format)}}class Kg extends rh{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=jt(t)?t:0,this.max=jt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=kn(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}B(Kg,"id","linear"),B(Kg,"defaults",{ticks:{callback:Zh.formatters.numeric}});const wl=e=>Math.floor(as(e)),Ws=(e,t)=>Math.pow(10,wl(e)+t);function iv(e){return e/Math.pow(10,wl(e))===1}function sv(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function kz(e,t){const n=t-e;let i=wl(n);for(;sv(e,t,i)>10;)i++;for(;sv(e,t,i)<10;)i--;return Math.min(i,wl(e))}function Iz(e,{min:t,max:n}){t=Ye(e.min,t);const i=[],s=wl(t);let r=kz(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=Ye(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<n;)i.push({value:d,major:iv(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=Ye(e.max,d);return i.push({value:f,major:iv(f),significand:h}),i}class Zg extends wr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=rh.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return jt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=jt(t)?Math.max(0,t):null,this.max=jt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!jt(this._userMin)&&(this.min=t===Ws(this.min,0)?Ws(this.min,-1):Ws(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Ws(i,-1)),o(Ws(s,1)))),i<=0&&r(Ws(s,-1)),s<=0&&o(Ws(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=Iz(n,this);return t.bounds==="ticks"&&DS(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Vl(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=as(t),this._valueRange=as(this.max)-as(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(as(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}B(Zg,"id","logarithmic"),B(Zg,"defaults",{ticks:{callback:Zh.formatters.logarithmic,major:{enabled:!0}}});function qg(e){const t=e.ticks;if(t.display&&e.display){const n=Ee(t.backdropPadding);return Q(t.font&&t.font.size,Wt.font.size)+n.height}return 0}function Pz(e,t,n){return n=kt(n)?n:[n],{w:BL(e,t.string,n),h:n.length*t.lineHeight}}function rv(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function Oz(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Tt/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),h=Kt(c.font),d=Pz(e.ctx,h,e._pointLabels[l]);i[l]=d;const f=Ge(e.getIndexAngle(l)+a),g=Math.round(Ym(f)),p=rv(g,u.x,d.w,0,180),y=rv(g,u.y,d.h,90,270);Lz(n,t,f,p,y)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=Nz(e,i,s)}function Lz(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function Dz(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(Ym(Ge(l.angle+Vt))),u=Wz(l.y,a.h,c),h=zz(c),d=jz(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function Fz(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Ci({x:n,y:i},t)||Ci({x:n,y:r},t)||Ci({x:s,y:i},t)||Ci({x:s,y:r},t))}function Nz(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:qg(r)/2,additionalAngle:o?Tt/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const h=Dz(e,u,l);i.push(h),a==="auto"&&(h.visible=Fz(h,c),h.visible&&(c=h))}return i}function zz(e){return e===0||e===180?"center":e<180?"left":"right"}function jz(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function Wz(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function Bz(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!dt(a)){const l=or(t.borderRadius),c=Ee(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=s-c.top,d=r-i+c.width,f=o-s+c.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),xl(e,{x:u,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(u,h,d,f)}}function Vz(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));Bz(n,o,r);const a=Kt(o.font),{x:l,y:c,textAlign:u}=r;mr(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function bC(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,bt);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function Yz(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),bC(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function Hz(e,t,n){return Os(e,{label:n,index:t,type:"pointLabel"})}class _a extends rh{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ee(qg(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=jt(t)&&!isNaN(t)?t:0,this.max=jt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qg(this.options))}generateTickLabels(t){rh.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=vt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?Oz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=bt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ge(t*n+kn(i))}getDistanceFromCenterForValue(t){if(dt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(dt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return Hz(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-Vt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),bC(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Vz(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=s.setContext(d),g=r.setContext(d);Yz(this,f,l,o,g)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Kt(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Ee(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}mr(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}B(_a,"id","radialLinear"),B(_a,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),B(_a,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),B(_a,"descriptors",{angleLines:{_fallback:"grid"}});const td={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},De=Object.keys(td);function ov(e,t){return e-t}function av(e,t){if(dt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),jt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Co(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function lv(e,t,n,i){const s=De.length;for(let r=De.indexOf(e);r<s-1;++r){const o=td[De[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return De[r]}return De[s-1]}function Gz(e,t,n,i,s){for(let r=De.length-1;r>=De.indexOf(n);r--){const o=De[r];if(td[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return De[n?De.indexOf(n):0]}function Uz(e){for(let t=De.indexOf(e)+1,n=De.length;t<n;++t)if(td[De[t]].common)return De[t]}function cv(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Hm(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function Xz(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function uv(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:Xz(e,i,s,n)}class El extends wr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new oC._date(t.adapters.date);s.init(n),ka(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:av(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=jt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=jt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=RL(s,r,o);return this._unit=n.unit||(i.autoSkip?lv(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Gz(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Uz(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),uv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=te(n,0,o),i=te(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||lv(r.minUnit,n,i,this._getLabelCapacity(n)),a=Q(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Co(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+t.add(d,a,o),f++)cv(u,d,g);return(d===i||s.bounds==="ticks"||f===1)&&cv(u,d,g),Object.keys(u).sort(ov).map(p=>+p)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return vt(o,[t,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(t,s||(f?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=kn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,uv(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(av(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return zS(t.sort(ov))}}B(El,"id","time"),B(El,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Nc(e,t,n){let i=0,s=e.length-1,r,o,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Si(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Si(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:l}=e[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class Jg extends El{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Nc(n,this.min),this._tableRange=Nc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Nc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Nc(this._table,i*this._tableRange+this._minPos,!0)}}B(Jg,"id","timeseries"),B(Jg,"defaults",El.defaults);var $z=Object.freeze({__proto__:null,CategoryScale:$g,LinearScale:Kg,LogarithmicScale:Zg,RadialLinearScale:_a,TimeScale:El,TimeSeriesScale:Jg});const Kz=[nF,IN,Az,$z],TC="label";function hv(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Zz(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function RC(e,t){e.labels=t}function MC(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:TC;const i=[];e.datasets=t.map(s=>{const r=e.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function qz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TC;const n={labels:[],datasets:[]};return RC(n,e.labels),MC(n,e.datasets,t),n}function Jz(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=e,f=St.useRef(null),g=St.useRef(),p=()=>{f.current&&(g.current=new Hl(f.current,{type:o,data:qz(a,r),options:l&&{...l},plugins:c}),hv(t,g.current))},y=()=>{hv(t,null),g.current&&(g.current.destroy(),g.current=null)};return St.useEffect(()=>{!s&&g.current&&l&&Zz(g.current,l)},[s,l]),St.useEffect(()=>{!s&&g.current&&RC(g.current.config.data,a.labels)},[s,a.labels]),St.useEffect(()=>{!s&&g.current&&a.datasets&&MC(g.current.config.data,a.datasets,r)},[s,a.datasets]),St.useEffect(()=>{g.current&&(s?(y(),setTimeout(p)):g.current.update(h))},[s,l,a.labels,a.datasets,h]),St.useEffect(()=>{g.current&&(y(),setTimeout(p))},[o]),St.useEffect(()=>(p(),()=>y()),[]),Cl.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},d),u)}const Qz=St.forwardRef(Jz);function t5(e,t){return Hl.register(t),St.forwardRef((n,i)=>Cl.createElement(Qz,Object.assign({},n,{ref:i,type:e})))}const e5=t5("line",La);var kC={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(To,function(){var n=1e3,i=6e4,s=36e5,r="millisecond",o="second",a="minute",l="hour",c="day",u="week",h="month",d="quarter",f="year",g="date",p="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var M=["th","st","nd","rd"],T=N%100;return"["+N+(M[(T-20)%10]||M[T]||M[0])+"]"}},x=function(N,M,T){var P=String(N);return!P||P.length>=M?N:""+Array(M+1-P.length).join(T)+N},v={s:x,z:function(N){var M=-N.utcOffset(),T=Math.abs(M),P=Math.floor(T/60),A=T%60;return(M<=0?"+":"-")+x(P,2,"0")+":"+x(A,2,"0")},m:function N(M,T){if(M.date()<T.date())return-N(T,M);var P=12*(T.year()-M.year())+(T.month()-M.month()),A=M.clone().add(P,h),I=T-A<0,O=M.clone().add(P+(I?-1:1),h);return+(-(P+(T-A)/(I?A-O:O-A))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:h,y:f,w:u,d:c,D:g,h:l,m:a,s:o,ms:r,Q:d}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},w="en",S={};S[w]=m;var C="$isDayjsObject",E=function(N){return N instanceof z||!(!N||!N[C])},b=function N(M,T,P){var A;if(!M)return w;if(typeof M=="string"){var I=M.toLowerCase();S[I]&&(A=I),T&&(S[I]=T,A=I);var O=M.split("-");if(!A&&O.length>1)return N(O[0])}else{var W=M.name;S[W]=M,A=W}return!P&&A&&(w=A),A||!P&&w},R=function(N,M){if(E(N))return N.clone();var T=typeof M=="object"?M:{};return T.date=N,T.args=arguments,new z(T)},k=v;k.l=b,k.i=E,k.w=function(N,M){return R(N,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var z=function(){function N(T){this.$L=b(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[C]=!0}var M=N.prototype;return M.parse=function(T){this.$d=function(P){var A=P.date,I=P.utc;if(A===null)return new Date(NaN);if(k.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var O=A.match(y);if(O){var W=O[2]-1||0,V=(O[7]||"0").substring(0,3);return I?new Date(Date.UTC(O[1],W,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)):new Date(O[1],W,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)}}return new Date(A)}(T),this.init()},M.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},M.$utils=function(){return k},M.isValid=function(){return this.$d.toString()!==p},M.isSame=function(T,P){var A=R(T);return this.startOf(P)<=A&&A<=this.endOf(P)},M.isAfter=function(T,P){return R(T)<this.startOf(P)},M.isBefore=function(T,P){return this.endOf(P)<R(T)},M.$g=function(T,P,A){return k.u(T)?this[P]:this.set(A,T)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(T,P){var A=this,I=!!k.u(P)||P,O=k.p(T),W=function(It,at){var Ut=k.w(A.$u?Date.UTC(A.$y,at,It):new Date(A.$y,at,It),A);return I?Ut:Ut.endOf(c)},V=function(It,at){return k.w(A.toDate()[It].apply(A.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(at)),A)},X=this.$W,L=this.$M,Z=this.$D,nt="set"+(this.$u?"UTC":"");switch(O){case f:return I?W(1,0):W(31,11);case h:return I?W(1,L):W(0,L+1);case u:var rt=this.$locale().weekStart||0,Rt=(X<rt?X+7:X)-rt;return W(I?Z-Rt:Z+(6-Rt),L);case c:case g:return V(nt+"Hours",0);case l:return V(nt+"Minutes",1);case a:return V(nt+"Seconds",2);case o:return V(nt+"Milliseconds",3);default:return this.clone()}},M.endOf=function(T){return this.startOf(T,!1)},M.$set=function(T,P){var A,I=k.p(T),O="set"+(this.$u?"UTC":""),W=(A={},A[c]=O+"Date",A[g]=O+"Date",A[h]=O+"Month",A[f]=O+"FullYear",A[l]=O+"Hours",A[a]=O+"Minutes",A[o]=O+"Seconds",A[r]=O+"Milliseconds",A)[I],V=I===c?this.$D+(P-this.$W):P;if(I===h||I===f){var X=this.clone().set(g,1);X.$d[W](V),X.init(),this.$d=X.set(g,Math.min(this.$D,X.daysInMonth())).$d}else W&&this.$d[W](V);return this.init(),this},M.set=function(T,P){return this.clone().$set(T,P)},M.get=function(T){return this[k.p(T)]()},M.add=function(T,P){var A,I=this;T=Number(T);var O=k.p(P),W=function(L){var Z=R(I);return k.w(Z.date(Z.date()+Math.round(L*T)),I)};if(O===h)return this.set(h,this.$M+T);if(O===f)return this.set(f,this.$y+T);if(O===c)return W(1);if(O===u)return W(7);var V=(A={},A[a]=i,A[l]=s,A[o]=n,A)[O]||1,X=this.$d.getTime()+T*V;return k.w(X,this)},M.subtract=function(T,P){return this.add(-1*T,P)},M.format=function(T){var P=this,A=this.$locale();if(!this.isValid())return A.invalidDate||p;var I=T||"YYYY-MM-DDTHH:mm:ssZ",O=k.z(this),W=this.$H,V=this.$m,X=this.$M,L=A.weekdays,Z=A.months,nt=A.meridiem,rt=function(at,Ut,ne,nn){return at&&(at[Ut]||at(P,I))||ne[Ut].slice(0,nn)},Rt=function(at){return k.s(W%12||12,at,"0")},It=nt||function(at,Ut,ne){var nn=at<12?"AM":"PM";return ne?nn.toLowerCase():nn};return I.replace(_,function(at,Ut){return Ut||function(ne){switch(ne){case"YY":return String(P.$y).slice(-2);case"YYYY":return k.s(P.$y,4,"0");case"M":return X+1;case"MM":return k.s(X+1,2,"0");case"MMM":return rt(A.monthsShort,X,Z,3);case"MMMM":return rt(Z,X);case"D":return P.$D;case"DD":return k.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return rt(A.weekdaysMin,P.$W,L,2);case"ddd":return rt(A.weekdaysShort,P.$W,L,3);case"dddd":return L[P.$W];case"H":return String(W);case"HH":return k.s(W,2,"0");case"h":return Rt(1);case"hh":return Rt(2);case"a":return It(W,V,!0);case"A":return It(W,V,!1);case"m":return String(V);case"mm":return k.s(V,2,"0");case"s":return String(P.$s);case"ss":return k.s(P.$s,2,"0");case"SSS":return k.s(P.$ms,3,"0");case"Z":return O}return null}(at)||O.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(T,P,A){var I,O=this,W=k.p(P),V=R(T),X=(V.utcOffset()-this.utcOffset())*i,L=this-V,Z=function(){return k.m(O,V)};switch(W){case f:I=Z()/12;break;case h:I=Z();break;case d:I=Z()/3;break;case u:I=(L-X)/6048e5;break;case c:I=(L-X)/864e5;break;case l:I=L/s;break;case a:I=L/i;break;case o:I=L/n;break;default:I=L}return A?I:k.a(I)},M.daysInMonth=function(){return this.endOf(h).$D},M.$locale=function(){return S[this.$L]},M.locale=function(T,P){if(!T)return this.$L;var A=this.clone(),I=b(T,P,!0);return I&&(A.$L=I),A},M.clone=function(){return k.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},N}(),Y=z.prototype;return R.prototype=Y,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",c],["$M",h],["$y",f],["$D",g]].forEach(function(N){Y[N[1]]=function(M){return this.$g(M,N[0],N[1])}}),R.extend=function(N,M){return N.$i||(N(M,z,R),N.$i=!0),R},R.locale=b,R.isDayjs=E,R.unix=function(N){return R(1e3*N)},R.en=S[w],R.Ls=S,R.p={},R})})(kC);var n5=kC.exports;const re=_r(n5);var IC={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(To,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(p){return(p=+p)+(p>68?1900:2e3)},c=function(p){return function(y){this[p]=+y}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var _=y.match(/([+-]|\d\d)/g),m=60*_[1]+(+_[2]||0);return m===0?0:_[0]==="+"?-m:m}(p)}],h=function(p){var y=a[p];return y&&(y.indexOf?y:y.s.concat(y.f))},d=function(p,y){var _,m=a.meridiem;if(m){for(var x=1;x<=24;x+=1)if(p.indexOf(m(x,0,y))>-1){_=x>12;break}}else _=p===(y?"pm":"PM");return _},f={A:[o,function(p){this.afternoon=d(p,!1)}],a:[o,function(p){this.afternoon=d(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[s,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[r,c("seconds")],ss:[r,c("seconds")],m:[r,c("minutes")],mm:[r,c("minutes")],H:[r,c("hours")],h:[r,c("hours")],HH:[r,c("hours")],hh:[r,c("hours")],D:[r,c("day")],DD:[s,c("day")],Do:[o,function(p){var y=a.ordinal,_=p.match(/\d+/);if(this.day=_[0],y)for(var m=1;m<=31;m+=1)y(m).replace(/\[|\]/g,"")===p&&(this.day=m)}],M:[r,c("month")],MM:[s,c("month")],MMM:[o,function(p){var y=h("months"),_=(h("monthsShort")||y.map(function(m){return m.slice(0,3)})).indexOf(p)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[o,function(p){var y=h("months").indexOf(p)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,c("year")],YY:[s,function(p){this.year=l(p)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function g(p){var y,_;y=p,_=a&&a.formats;for(var m=(p=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,R,k){var z=k&&k.toUpperCase();return R||_[k]||n[k]||_[z].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Y,N,M){return N||M.slice(1)})})).match(i),x=m.length,v=0;v<x;v+=1){var w=m[v],S=f[w],C=S&&S[0],E=S&&S[1];m[v]=E?{regex:C,parser:E}:w.replace(/^\[|\]$/g,"")}return function(b){for(var R={},k=0,z=0;k<x;k+=1){var Y=m[k];if(typeof Y=="string")z+=Y.length;else{var N=Y.regex,M=Y.parser,T=b.slice(z),P=N.exec(T)[0];M.call(R,P),b=b.replace(P,"")}}return function(A){var I=A.afternoon;if(I!==void 0){var O=A.hours;I?O<12&&(A.hours+=12):O===12&&(A.hours=0),delete A.afternoon}}(R),R}}return function(p,y,_){_.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(l=p.parseTwoDigitYear);var m=y.prototype,x=m.parse;m.parse=function(v){var w=v.date,S=v.utc,C=v.args;this.$u=S;var E=C[1];if(typeof E=="string"){var b=C[2]===!0,R=C[3]===!0,k=b||R,z=C[2];R&&(z=C[2]),a=this.$locale(),!b&&z&&(a=_.Ls[z]),this.$d=function(T,P,A){try{if(["x","X"].indexOf(P)>-1)return new Date((P==="X"?1e3:1)*T);var I=g(P)(T),O=I.year,W=I.month,V=I.day,X=I.hours,L=I.minutes,Z=I.seconds,nt=I.milliseconds,rt=I.zone,Rt=new Date,It=V||(O||W?1:Rt.getDate()),at=O||Rt.getFullYear(),Ut=0;O&&!W||(Ut=W>0?W-1:Rt.getMonth());var ne=X||0,nn=L||0,ji=Z||0,Wi=nt||0;return rt?new Date(Date.UTC(at,Ut,It,ne,nn,ji,Wi+60*rt.offset*1e3)):A?new Date(Date.UTC(at,Ut,It,ne,nn,ji,Wi)):new Date(at,Ut,It,ne,nn,ji,Wi)}catch{return new Date("")}}(w,E,S),this.init(),z&&z!==!0&&(this.$L=this.locale(z).$L),k&&w!=this.format(E)&&(this.$d=new Date("")),a={}}else if(E instanceof Array)for(var Y=E.length,N=1;N<=Y;N+=1){C[1]=E[N-1];var M=_.apply(this,C);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}N===Y&&(this.$d=new Date(""))}else x.call(this,v)}}})})(IC);var i5=IC.exports;const s5=_r(i5);var PC={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(To,function(){return function(n,i){var s=i.prototype,r=s.format;s.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return r.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(h){switch(h){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),h==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),h==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return h}});return r.bind(this)(u)}}})})(PC);var r5=PC.exports;const o5=_r(r5);var OC={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(To,function(){var n="month",i="quarter";return function(s,r){var o=r.prototype;o.quarter=function(c){return this.$utils().u(c)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(c-1))};var a=o.add;o.add=function(c,u){return c=Number(c),this.$utils().p(u)===i?this.add(3*c,n):a.bind(this)(c,u)};var l=o.startOf;o.startOf=function(c,u){var h=this.$utils(),d=!!h.u(u)||u;if(h.p(c)===i){var f=this.quarter()-1;return d?this.month(3*f).startOf(n).startOf("day"):this.month(3*f+2).endOf(n).endOf("day")}return l.bind(this)(c,u)}}})})(OC);var a5=OC.exports;const l5=_r(a5);var LC={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(To,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,s,r){var o=s.prototype,a=o.format;r.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(h,d){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,g,p){var y=p&&p.toUpperCase();return g||d[p]||n[p]||d[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,m,x){return m||x.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(LC);var c5=LC.exports;const u5=_r(c5);var DC={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(To,function(){var n="day";return function(i,s,r){var o=function(c){return c.add(4-c.isoWeekday(),n)},a=s.prototype;a.isoWeekYear=function(){return o(this).year()},a.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),n);var u,h,d,f,g=o(this),p=(u=this.isoWeekYear(),h=this.$u,d=(h?r.utc:r)().year(u).startOf("year"),f=4-d.isoWeekday(),d.isoWeekday()>4&&(f+=7),d.add(f,n));return g.diff(p,"week")+1},a.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var l=a.startOf;a.startOf=function(c,u){var h=this.$utils(),d=!!h.u(u)||u;return h.p(c)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(c,u)}}})})(DC);var h5=DC.exports;const d5=_r(h5);re.extend(o5);re.extend(l5);re.extend(u5);re.extend(s5);re.extend(d5);var f5={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};oC._date.override({formats:function(){return f5},parse:function(t,n){var i=typeof t;return t===null||i==="undefined"?null:i==="string"&&typeof n=="string"?re(t,n).isValid()?re(t,n).valueOf():null:t instanceof re?null:re(t).isValid()?re(t).valueOf():null},format:function(t,n){return re(t).format(n)},add:function(t,n,i){return re(t).add(n,i).valueOf()},diff:function(t,n,i){return re(t).diff(re(n),i)},startOf:function(t,n,i){if(n==="isoWeek"){var s=typeof i=="number"&&i>0&&i<7?i:1;return re(t).isoWeekday(s).startOf("day").valueOf()}return re(t).startOf(n).valueOf()},endOf:function(t,n){return re(t).endOf(n).valueOf()}});Hl.register(...Kz);const g5={id:"chartAreaBackground",beforeDraw(e,t,n){const{ctx:i,chartArea:{left:s,top:r,width:o,height:a}}=e;i.save(),i.fillStyle=n.backgroundColor||"white",i.strokeStyle=n.borderColor||"black",i.lineWidth=n.borderWidth||2,i.fillRect(s,r,o,a),i.strokeRect(s,r,o,a),i.restore()}};Hl.register(g5);const zc={type:"line",data:{labels:"",datasets:[{label:"Total Crime Counts per month",fill:!1,backgroundColor:"blue",borderColor:"blue",data:""}]},options:{aspectRatio:0,maintainAspectRatio:!0,responsive:!0,plugins:{legend:{position:"bottom",labels:{color:"white",font:{size:12,weight:"bold"}}},title:{display:!0,text:"Monthly Crime Counts",color:"white",font:{size:18,weight:"bold"}},chartAreaBackground:{backgroundColor:"#cbcfd3"}},interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{color:"white",font:{size:12,family:"Arial"}},type:"time",time:{tooltipFormat:"MMM YYYY",unit:"month"},display:!0,title:{display:!0,text:"Month",color:"white",font:{size:12,weight:"bold"}}},y:{ticks:{color:"white",font:{size:12,family:"Arial"}},type:"linear",display:!0,title:{display:!0,text:"Total Crime Counts per month",color:"white",font:{size:12,weight:"bold"}}}}}};function p5({crimeMonthlySummary:e}){const t={};return e.forEach(n=>{n.crime_data.categories.forEach(i=>{t[i.category]||(t[i.category]=Array(e.length).fill(0));const s=e.findIndex(r=>r.month===n.month);t[i.category][s]=i.count})}),zc.data.labels=e.map(n=>n.month),zc.data.datasets=Object.keys(t).map(n=>({label:n,data:t[n],backgroundColor:Uu(n),borderColor:Uu(n),borderWidth:2})),U.jsx(e5,{data:zc.data,options:zc.options})}function m5(){const e=GE(),[t,n]=St.useState(!1),[i,s]=St.useState(!1),r=Ag(l=>l.search.coordinates),o=Ag(l=>l.crimeMonthlySummary.data),a=St.useRef(!1);return St.useEffect(()=>{if(i&&!a.current){a.current=!0;const l=GO(r);l==="within"?alert("coordinates are within 1 mile radius of the initial search point"):l==="outside"&&(e(tu(r)),e(eu(r)),n(!0)),s(!1)}else i||(a.current=!1)},[i,r,e]),U.jsxs("div",{className:"details_container",children:[U.jsxs("div",{className:"searchbox",children:[U.jsx("input",{className:"medium_title",placeholder:"Latitude",value:r[0]||"",readOnly:!0}),U.jsx("input",{className:"medium_title",placeholder:"Longitude",value:r[1]||"",readOnly:!0}),U.jsx("button",{className:"btn",onClick:()=>s(!0),children:"Search"})]}),U.jsx("div",{className:"search_results",children:o?U.jsx(p5,{crimeMonthlySummary:o}):t?U.jsx("div",{className:"loading",children:U.jsx("img",{src:bP,alt:"Loading..."})}):U.jsxs("div",{className:"no_data",children:[U.jsxs("div",{className:"no_data_text",children:[U.jsxs("p",{children:["Please search map for a location that you would like to see the crime data for. Each time you click on the map the geographical latitude and longitude for that point will be displayed in the search box above. Click on icons to see more information about the specific crime in that area. If you are satisfied with the coordinates in the search box above, then click on the search button to see the crime data for that location.",U.jsx("br",{}),U.jsx("br",{}),"The search result is based on a ",U.jsx("strong",{children:"1 mile radius"})," of the initial search point.",U.jsx("br",{}),U.jsx("br",{}),"The search results are the most recent month of crime data available at the time of the search.",U.jsx("br",{}),U.jsx("br",{})," The search results line chart shows the total crimes per crime category per month; dating back 12 months",U.jsx("br",{}),U.jsx("br",{}),"The search results may show missing values, very low values or 0 values for certain crime categories or for certain areas, this may be due to the crime data not being available for that month at the time of the search.",U.jsx("br",{}),U.jsx("br",{}),U.jsx("strong",{children:"P.S."})," that given the volume of data, the search may take a few minutes to complete and be displayed."]}),U.jsx("br",{})]}),U.jsxs("div",{className:"disclaimer",children:[U.jsx("h3",{children:"Disclaimer"}),U.jsxs("h4",{children:["This Application is designed to be used as a tool for the public to get information about the crime in their area as recorded and reported by the police in the United Kingdom, it displays unaltered information published by the police, throught their API services available at ",U.jsx("a",{href:"https://data.police.uk/",children:"data.police.uk"})]}),U.jsx("h4",{children:"This application is not intended to be used for any other purpose than stated above"}),U.jsx("h4",{children:"If you have any questions or feedback about the application please contact the developer at kamilah.anthony93@gmail.com"})]})]})})]})}function _5(){return U.jsxs("div",{className:"App_container",children:[U.jsxs("div",{className:"header_container",children:[U.jsx("div",{className:"bg",children:U.jsx("img",{src:pT,alt:"policebanner"})}),U.jsxs("div",{className:"logo_container",children:[U.jsx("img",{src:mT,alt:"logo"}),U.jsx("div",{className:"title",children:"Crime Watch"})]})]}),U.jsxs("div",{className:"body_container",children:[U.jsx(AP,{}),U.jsx(m5,{})]}),U.jsx("div",{className:"footer"})]})}const FC=Gh({name:"Search",initialState:{Search:!1},reducers:{setClickedSearch:(e,t)=>{t.payload===!0?e.Search=!0:e.Search=!1}}});FC.actions;const y5=FC.reducer,x5=JI({reducer:{search:SP,crimedata:VO,crimeMonthlySummary:HO,clickedSearch:y5}});_f.createRoot(document.getElementById("root")).render(U.jsx(Cl.StrictMode,{children:U.jsx(dI,{store:x5,children:U.jsx(_5,{})})}));
